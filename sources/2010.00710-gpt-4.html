<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title>Nearest Neighbor Machine Translation</title>
<!--Generated on Tue Mar 22 20:45:35 2022 by LaTeXML (version 0.8.6) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Nearest Neighbor Machine Translation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Urvashi Khandelwal<math id="id1.1.m1.1" class="ltx_Math" alttext="{}^{\dagger}" display="inline"><semantics id="id1.1.m1.1a"><msup id="id1.1.m1.1.1" xref="id1.1.m1.1.1.cmml"><mi id="id1.1.m1.1.1a" xref="id1.1.m1.1.1.cmml"/><mo id="id1.1.m1.1.1.1" xref="id1.1.m1.1.1.1.cmml">†</mo></msup></semantics></math>, Angela Fan<math id="id2.2.m2.1" class="ltx_Math" alttext="{}^{\ddagger}" display="inline"><semantics id="id2.2.m2.1a"><msup id="id2.2.m2.1.1" xref="id2.2.m2.1.1.cmml"><mi id="id2.2.m2.1.1a" xref="id2.2.m2.1.1.cmml"/><mo id="id2.2.m2.1.1.1" xref="id2.2.m2.1.1.1.cmml">‡</mo></msup></semantics></math>, Dan Jurafsky<math id="id3.3.m3.1" class="ltx_Math" alttext="{}^{\dagger}" display="inline"><semantics id="id3.3.m3.1a"><msup id="id3.3.m3.1.1" xref="id3.3.m3.1.1.cmml"><mi id="id3.3.m3.1.1a" xref="id3.3.m3.1.1.cmml"/><mo id="id3.3.m3.1.1.1" xref="id3.3.m3.1.1.1.cmml">†</mo></msup></semantics></math>, Luke Zettlemoyer<math id="id4.4.m4.1" class="ltx_Math" alttext="{}^{\ddagger}" display="inline"><semantics id="id4.4.m4.1a"><msup id="id4.4.m4.1.1" xref="id4.4.m4.1.1.cmml"><mi id="id4.4.m4.1.1a" xref="id4.4.m4.1.1.cmml"/><mo id="id4.4.m4.1.1.1" xref="id4.4.m4.1.1.1.cmml">‡</mo></msup></semantics></math>, Mike Lewis<math id="id5.5.m5.1" class="ltx_Math" alttext="{}^{\ddagger}" display="inline"><semantics id="id5.5.m5.1a"><msup id="id5.5.m5.1.1" xref="id5.5.m5.1.1.cmml"><mi id="id5.5.m5.1.1a" xref="id5.5.m5.1.1.cmml"/><mo id="id5.5.m5.1.1.1" xref="id5.5.m5.1.1.1.cmml">‡</mo></msup></semantics></math>
<br class="ltx_break"/><math id="id6.6.m6.1" class="ltx_Math" alttext="{}^{\dagger}" display="inline"><semantics id="id6.6.m6.1a"><msup id="id6.6.m6.1.1" xref="id6.6.m6.1.1.cmml"><mi id="id6.6.m6.1.1a" xref="id6.6.m6.1.1.cmml"/><mo id="id6.6.m6.1.1.1" xref="id6.6.m6.1.1.1.cmml">†</mo></msup></semantics></math>Stanford University
<br class="ltx_break"/><math id="id7.7.m7.1" class="ltx_Math" alttext="{}^{\ddagger}" display="inline"><semantics id="id7.7.m7.1a"><msup id="id7.7.m7.1.1" xref="id7.7.m7.1.1.cmml"><mi id="id7.7.m7.1.1a" xref="id7.7.m7.1.1.cmml"/><mo id="id7.7.m7.1.1.1" xref="id7.7.m7.1.1.1.cmml">‡</mo></msup></semantics></math>Facebook AI Research
<br class="ltx_break"/>{urvashik,jurafsky}@stanford.edu
<br class="ltx_break"/>{angelafan,lsz,mikelewis}@fb.com
</span><span class="ltx_author_notes"><span>Work done while the first author was interning at Facebook AI Research.</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id11.4" class="ltx_p"><span class="gd_word" id="id11.4.1.w1">We</span><span> </span><span class="gd_word" id="id11.4.1.w2">introduce</span><span> </span><math id="id8.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="id8.1.m1.1a"><mi id="id8.1.m1.1.1" xref="id8.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="id11.4.2.w1">-nearest-neighbor</span><span> </span><span class="gd_word" id="id11.4.2.w2">machine</span><span> </span><span class="gd_word" id="id11.4.2.w3">translation</span><span> </span><span class="gd_word" id="id11.4.2.w4">(</span><math id="id9.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="id9.2.m2.1a"><mi id="id9.2.m2.1.1" xref="id9.2.m2.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="id11.4.3.w1">NN-MT),</span><span> </span><span class="gd_word" id="id11.4.3.w2">which</span><span> </span><span class="gd_word" id="id11.4.3.w3">predicts</span><span> </span><span class="gd_word" id="id11.4.3.w4">tokens</span><span> </span><span class="gd_word" id="id11.4.3.w5">with</span><span> </span><span class="gd_word" id="id11.4.3.w6">a</span><span> </span><span class="gd_word" id="id11.4.3.w7">nearest</span><span> </span><span class="gd_word" id="id11.4.3.w8">neighbor</span><span> </span><span class="gd_word" id="id11.4.3.w9">classifier</span><span> </span><span class="gd_word" id="id11.4.3.w10">over</span><span> </span><span class="gd_word" id="id11.4.3.w11">a</span><span> </span><span class="gd_word" id="id11.4.3.w12">large</span><span> </span><span class="gd_word" id="id11.4.3.w13">datastore</span><span> </span><span class="gd_word" id="id11.4.3.w14">of</span><span> </span><span class="gd_word" id="id11.4.3.w15">cached</span><span> </span><span class="gd_word" id="id11.4.3.w16">examples,</span><span> </span><span class="gd_word" id="id11.4.3.w17">using</span><span> </span><span class="gd_word" id="id11.4.3.w18">representations</span><span> </span><span class="gd_word" id="id11.4.3.w19">from</span><span> </span><span class="gd_word" id="id11.4.3.w20">a</span><span> </span><span class="gd_word" id="id11.4.3.w21">neural</span><span> </span><span class="gd_word" id="id11.4.3.w22">translation</span><span> </span><span class="gd_word" id="id11.4.3.w23">model</span><span> </span><span class="gd_word" id="id11.4.3.w24">for</span><span> </span><span class="gd_word" id="id11.4.3.w25">similarity</span><span> </span><span class="gd_word" id="id11.4.3.w26">search.
This</span><span> </span><span class="gd_word" id="id11.4.3.w27">approach</span><span> </span><span class="gd_word" id="id11.4.3.w28">requires</span><span> </span><span class="gd_word" id="id11.4.3.w29">no</span><span> </span><span class="gd_word" id="id11.4.3.w30">additional</span><span> </span><span class="gd_word" id="id11.4.3.w31">training</span><span> </span><span class="gd_word" id="id11.4.3.w32">and</span><span> </span><span class="gd_word" id="id11.4.3.w33">scales</span><span> </span><span class="gd_word" id="id11.4.3.w34">to</span><span> </span><span class="gd_word" id="id11.4.3.w35">give</span><span> </span><span class="gd_word" id="id11.4.3.w36">the</span><span> </span><span class="gd_word" id="id11.4.3.w37">decoder</span><span> </span><span class="gd_word" id="id11.4.3.w38">direct</span><span> </span><span class="gd_word" id="id11.4.3.w39">access</span><span> </span><span class="gd_word" id="id11.4.3.w40">to</span><span> </span><span class="gd_word" id="id11.4.3.w41">billions</span><span> </span><span class="gd_word" id="id11.4.3.w42">of</span><span> </span><span class="gd_word" id="id11.4.3.w43">examples</span><span> </span><span class="gd_word" id="id11.4.3.w44">at</span><span> </span><span class="gd_word" id="id11.4.3.w45">test</span><span> </span><span class="gd_word" id="id11.4.3.w46">time,</span><span> </span><span class="gd_word" id="id11.4.3.w47">resulting</span><span> </span><span class="gd_word" id="id11.4.3.w48">in</span><span> </span><span class="gd_word" id="id11.4.3.w49">a</span><span> </span><span class="gd_word" id="id11.4.3.w50">highly</span><span> </span><span class="gd_word" id="id11.4.3.w51">expressive</span><span> </span><span class="gd_word" id="id11.4.3.w52">model</span><span> </span><span class="gd_word" id="id11.4.3.w53">that</span><span> </span><span class="gd_word" id="id11.4.3.w54">consistently</span><span> </span><span class="gd_word" id="id11.4.3.w55">improves</span><span> </span><span class="gd_word" id="id11.4.3.w56">performance</span><span> </span><span class="gd_word" id="id11.4.3.w57">across</span><span> </span><span class="gd_word" id="id11.4.3.w58">many</span><span> </span><span class="gd_word" id="id11.4.3.w59">settings.
Simply</span><span> </span><span class="gd_word" id="id11.4.3.w60">adding</span><span> </span><span class="gd_word" id="id11.4.3.w61">nearest</span><span> </span><span class="gd_word" id="id11.4.3.w62">neighbor</span><span> </span><span class="gd_word" id="id11.4.3.w63">search</span><span> </span><span class="gd_word" id="id11.4.3.w64">improves</span><span> </span><span class="gd_word" id="id11.4.3.w65">a</span><span> </span><span class="gd_word" id="id11.4.3.w66">state-of-the-art</span><span> </span><span class="gd_word" id="id11.4.3.w67">German-English</span><span> </span><span class="gd_word" id="id11.4.3.w68">translation</span><span> </span><span class="gd_word" id="id11.4.3.w69">model</span><span> </span><span class="gd_word" id="id11.4.3.w70">by</span><span> </span><span class="gd_word" id="id11.4.3.w71">1.5</span><span> </span><span class="gd_word" id="id11.4.3.w72">BLEU.
</span><math id="id10.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="id10.3.m3.1a"><mi id="id10.3.m3.1.1" xref="id10.3.m3.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="id11.4.4.w1">NN-MT</span><span> </span><span class="gd_word" id="id11.4.4.w2">allows</span><span> </span><span class="gd_word" id="id11.4.4.w3">a</span><span> </span><span class="gd_word" id="id11.4.4.w4">single</span><span> </span><span class="gd_word" id="id11.4.4.w5">model</span><span> </span><span class="gd_word" id="id11.4.4.w6">to</span><span> </span><span class="gd_word" id="id11.4.4.w7">be</span><span> </span><span class="gd_word" id="id11.4.4.w8">adapted</span><span> </span><span class="gd_word" id="id11.4.4.w9">to</span><span> </span><span class="gd_word" id="id11.4.4.w10">diverse</span><span> </span><span class="gd_word" id="id11.4.4.w11">domains</span><span> </span><span class="gd_word" id="id11.4.4.w12">by</span><span> </span><span class="gd_word" id="id11.4.4.w13">using</span><span> </span><span class="gd_word" id="id11.4.4.w14">a</span><span> </span><span class="gd_word" id="id11.4.4.w15">domain-specific</span><span> </span><span class="gd_word" id="id11.4.4.w16">datastore,</span><span> </span><span class="gd_word" id="id11.4.4.w17">improving</span><span> </span><span class="gd_word" id="id11.4.4.w18">results</span><span> </span><span class="gd_word" id="id11.4.4.w19">by</span><span> </span><span class="gd_word" id="id11.4.4.w20">an</span><span> </span><span class="gd_word" id="id11.4.4.w21">average</span><span> </span><span class="gd_word" id="id11.4.4.w22">of</span><span> </span><span class="gd_word" id="id11.4.4.w23">9.2</span><span> </span><span class="gd_word" id="id11.4.4.w24">BLEU</span><span> </span><span class="gd_word" id="id11.4.4.w25">over</span><span> </span><span class="gd_word" id="id11.4.4.w26">zero-shot</span><span> </span><span class="gd_word" id="id11.4.4.w27">transfer,</span><span> </span><span class="gd_word" id="id11.4.4.w28">and</span><span> </span><span class="gd_word" id="id11.4.4.w29">achieving</span><span> </span><span class="gd_word" id="id11.4.4.w30">new</span><span> </span><span class="gd_word" id="id11.4.4.w31">state-of-the-art</span><span> </span><span class="gd_word" id="id11.4.4.w32">results—without</span><span> </span><span class="gd_word" id="id11.4.4.w33">training</span><span> </span><span class="gd_word" id="id11.4.4.w34">on</span><span> </span><span class="gd_word" id="id11.4.4.w35">these</span><span> </span><span class="gd_word" id="id11.4.4.w36">domains.
A</span><span> </span><span class="gd_word" id="id11.4.4.w37">massively</span><span> </span><span class="gd_word" id="id11.4.4.w38">multilingual</span><span> </span><span class="gd_word" id="id11.4.4.w39">model</span><span> </span><span class="gd_word" id="id11.4.4.w40">can</span><span> </span><span class="gd_word" id="id11.4.4.w41">also</span><span> </span><span class="gd_word" id="id11.4.4.w42">be</span><span> </span><span class="gd_word" id="id11.4.4.w43">specialized</span><span> </span><span class="gd_word" id="id11.4.4.w44">for</span><span> </span><span class="gd_word" id="id11.4.4.w45">particular</span><span> </span><span class="gd_word" id="id11.4.4.w46">language</span><span> </span><span class="gd_word" id="id11.4.4.w47">pairs,</span><span> </span><span class="gd_word" id="id11.4.4.w48">with</span><span> </span><span class="gd_word" id="id11.4.4.w49">improvements</span><span> </span><span class="gd_word" id="id11.4.4.w50">of</span><span> </span><span class="gd_word" id="id11.4.4.w51">3</span><span> </span><span class="gd_word" id="id11.4.4.w52">BLEU</span><span> </span><span class="gd_word" id="id11.4.4.w53">for</span><span> </span><span class="gd_word" id="id11.4.4.w54">translating</span><span> </span><span class="gd_word" id="id11.4.4.w55">from</span><span> </span><span class="gd_word" id="id11.4.4.w56">English</span><span> </span><span class="gd_word" id="id11.4.4.w57">into</span><span> </span><span class="gd_word" id="id11.4.4.w58">German</span><span> </span><span class="gd_word" id="id11.4.4.w59">and</span><span> </span><span class="gd_word" id="id11.4.4.w60">Chinese.
Qualitatively,</span><span> </span><math id="id11.4.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="id11.4.m4.1a"><mi id="id11.4.m4.1.1" xref="id11.4.m4.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="id11.4.5.w1">NN-MT</span><span> </span><span class="gd_word" id="id11.4.5.w2">is</span><span> </span><span class="gd_word" id="id11.4.5.w3">easily</span><span> </span><span class="gd_word" id="id11.4.5.w4">interpretable;</span><span> </span><span class="gd_word" id="id11.4.5.w5">it</span><span> </span><span class="gd_word" id="id11.4.5.w6">combines</span><span> </span><span class="gd_word" id="id11.4.5.w7">source</span><span> </span><span class="gd_word" id="id11.4.5.w8">and</span><span> </span><span class="gd_word" id="id11.4.5.w9">target</span><span> </span><span class="gd_word" id="id11.4.5.w10">context</span><span> </span><span class="gd_word" id="id11.4.5.w11">to</span><span> </span><span class="gd_word" id="id11.4.5.w12">retrieve</span><span> </span><span class="gd_word" id="id11.4.5.w13">highly</span><span> </span><span class="gd_word" id="id11.4.5.w14">relevant</span><span> </span><span class="gd_word" id="id11.4.5.w15">examples.</span></p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para ltx_noindent">
<p id="S1.p1.2" class="ltx_p"><span class="gd_word" id="S1.p1.2.1.w1">Non-parametric</span><span> </span><span class="gd_word" id="S1.p1.2.1.w2">methods</span><span> </span><span class="gd_word" id="S1.p1.2.1.w3">have</span><span> </span><span class="gd_word" id="S1.p1.2.1.w4">recently</span><span> </span><span class="gd_word" id="S1.p1.2.1.w5">been</span><span> </span><span class="gd_word" id="S1.p1.2.1.w6">successfully</span><span> </span><span class="gd_word" id="S1.p1.2.1.w7">applied</span><span> </span><span class="gd_word" id="S1.p1.2.1.w8">to</span><span> </span><span class="gd_word" id="S1.p1.2.1.w9">tasks</span><span> </span><span class="gd_word" id="S1.p1.2.1.w10">such</span><span> </span><span class="gd_word" id="S1.p1.2.1.w11">as</span><span> </span><span class="gd_word" id="S1.p1.2.1.w12">language</span><span> </span><span class="gd_word" id="S1.p1.2.1.w13">modeling</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Khandelwal et al., <a href="#bib.bib22" title="" class="ltx_ref">2020</a>)</cite><span class="gd_word" id="S1.p1.2.2.w1"/><span> </span><span class="gd_word" id="S1.p1.2.2.w2">and</span><span> </span><span class="gd_word" id="S1.p1.2.2.w3">question</span><span> </span><span class="gd_word" id="S1.p1.2.2.w4">answering</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Guu et al., <a href="#bib.bib17" title="" class="ltx_ref">2020</a>; Lewis et al., <a href="#bib.bib26" title="" class="ltx_ref">2020</a>)</cite><span class="gd_word" id="S1.p1.2.3.w1">.</span><span> </span><span class="gd_word" id="S1.p1.2.3.w2">They</span><span> </span><span class="gd_word" id="S1.p1.2.3.w3">allow</span><span> </span><span class="gd_word" id="S1.p1.2.3.w4">models</span><span> </span><span class="gd_word" id="S1.p1.2.3.w5">that</span><span> </span><span class="gd_word" id="S1.p1.2.3.w6">are</span><span> </span><span class="gd_word" id="S1.p1.2.3.w7">(1)</span><span> </span><em id="S1.p1.2.1" class="ltx_emph ltx_font_italic">expressive</em><span class="gd_word" id="S1.p1.2.4.w1">,</span><span> </span><span class="gd_word" id="S1.p1.2.4.w2">because</span><span> </span><span class="gd_word" id="S1.p1.2.4.w3">they</span><span> </span><span class="gd_word" id="S1.p1.2.4.w4">can</span><span> </span><span class="gd_word" id="S1.p1.2.4.w5">use</span><span> </span><span class="gd_word" id="S1.p1.2.4.w6">an</span><span> </span><span class="gd_word" id="S1.p1.2.4.w7">arbitrary</span><span> </span><span class="gd_word" id="S1.p1.2.4.w8">amount</span><span> </span><span class="gd_word" id="S1.p1.2.4.w9">of</span><span> </span><span class="gd_word" id="S1.p1.2.4.w10">data</span><span> </span><span class="gd_word" id="S1.p1.2.4.w11">at</span><span> </span><span class="gd_word" id="S1.p1.2.4.w12">test</span><span> </span><span class="gd_word" id="S1.p1.2.4.w13">time;</span><span> </span><span class="gd_word" id="S1.p1.2.4.w14">(2)</span><span> </span><em id="S1.p1.2.2" class="ltx_emph ltx_font_italic">adaptable</em><span class="gd_word" id="S1.p1.2.5.w1">,</span><span> </span><span class="gd_word" id="S1.p1.2.5.w2">because</span><span> </span><span class="gd_word" id="S1.p1.2.5.w3">predictions</span><span> </span><span class="gd_word" id="S1.p1.2.5.w4">can</span><span> </span><span class="gd_word" id="S1.p1.2.5.w5">be</span><span> </span><span class="gd_word" id="S1.p1.2.5.w6">controlled</span><span> </span><span class="gd_word" id="S1.p1.2.5.w7">by</span><span> </span><span class="gd_word" id="S1.p1.2.5.w8">changing</span><span> </span><span class="gd_word" id="S1.p1.2.5.w9">the</span><span> </span><span class="gd_word" id="S1.p1.2.5.w10">datastore,</span><span> </span><span class="gd_word" id="S1.p1.2.5.w11">and</span><span> </span><span class="gd_word" id="S1.p1.2.5.w12">(3)</span><span> </span><em id="S1.p1.2.3" class="ltx_emph ltx_font_italic">interpretable</em><span class="gd_word" id="S1.p1.2.6.w1">,</span><span> </span><span class="gd_word" id="S1.p1.2.6.w2">because</span><span> </span><span class="gd_word" id="S1.p1.2.6.w3">the</span><span> </span><span class="gd_word" id="S1.p1.2.6.w4">data</span><span> </span><span class="gd_word" id="S1.p1.2.6.w5">used</span><span> </span><span class="gd_word" id="S1.p1.2.6.w6">to</span><span> </span><span class="gd_word" id="S1.p1.2.6.w7">make</span><span> </span><span class="gd_word" id="S1.p1.2.6.w8">the</span><span> </span><span class="gd_word" id="S1.p1.2.6.w9">prediction</span><span> </span><span class="gd_word" id="S1.p1.2.6.w10">can</span><span> </span><span class="gd_word" id="S1.p1.2.6.w11">be</span><span> </span><span class="gd_word" id="S1.p1.2.6.w12">directly</span><span> </span><span class="gd_word" id="S1.p1.2.6.w13">inspected.</span><span> </span><span class="gd_word" id="S1.p1.2.6.w14">We</span><span> </span><span class="gd_word" id="S1.p1.2.6.w15">introduce</span><span> </span><math id="S1.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S1.p1.1.m1.1a"><mi id="S1.p1.1.m1.1.1" xref="S1.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S1.p1.2.7.w1">NN-MT,</span><span> </span><span class="gd_word" id="S1.p1.2.7.w2">a</span><span> </span><span class="gd_word" id="S1.p1.2.7.w3">simple</span><span> </span><span class="gd_word" id="S1.p1.2.7.w4">non-parametric</span><span> </span><span class="gd_word" id="S1.p1.2.7.w5">method</span><span> </span><span class="gd_word" id="S1.p1.2.7.w6">for</span><span> </span><span class="gd_word" id="S1.p1.2.7.w7">machine</span><span> </span><span class="gd_word" id="S1.p1.2.7.w8">translation</span><span> </span><span class="gd_word" id="S1.p1.2.7.w9">(MT)</span><span> </span><span class="gd_word" id="S1.p1.2.7.w10">using</span><span> </span><span class="gd_word" id="S1.p1.2.7.w11">nearest</span><span> </span><span class="gd_word" id="S1.p1.2.7.w12">neighbor</span><span> </span><span class="gd_word" id="S1.p1.2.7.w13">retrieval.</span><span> </span><math id="S1.p1.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S1.p1.2.m2.1a"><mi id="S1.p1.2.m2.1.1" xref="S1.p1.2.m2.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S1.p1.2.8.w1">NN-MT</span><span> </span><span class="gd_word" id="S1.p1.2.8.w2">can</span><span> </span><span class="gd_word" id="S1.p1.2.8.w3">be</span><span> </span><span class="gd_word" id="S1.p1.2.8.w4">added</span><span> </span><span class="gd_word" id="S1.p1.2.8.w5">to</span><span> </span><span class="gd_word" id="S1.p1.2.8.w6">any</span><span> </span><span class="gd_word" id="S1.p1.2.8.w7">pre-trained</span><span> </span><span class="gd_word" id="S1.p1.2.8.w8">neural</span><span> </span><span class="gd_word" id="S1.p1.2.8.w9">translation</span><span> </span><span class="gd_word" id="S1.p1.2.8.w10">model</span><span> </span><span class="gd_word" id="S1.p1.2.8.w11">without</span><span> </span><span class="gd_word" id="S1.p1.2.8.w12">further</span><span> </span><span class="gd_word" id="S1.p1.2.8.w13">training,</span><span> </span><span class="gd_word" id="S1.p1.2.8.w14">and</span><span> </span><span class="gd_word" id="S1.p1.2.8.w15">significantly</span><span> </span><span class="gd_word" id="S1.p1.2.8.w16">improves</span><span> </span><span class="gd_word" id="S1.p1.2.8.w17">performance</span><span> </span><span class="gd_word" id="S1.p1.2.8.w18">for</span><span> </span><span class="gd_word" id="S1.p1.2.8.w19">in-domain,</span><span> </span><span class="gd_word" id="S1.p1.2.8.w20">out-of-domain,</span><span> </span><span class="gd_word" id="S1.p1.2.8.w21">and</span><span> </span><span class="gd_word" id="S1.p1.2.8.w22">multi-lingual</span><span> </span><span class="gd_word" id="S1.p1.2.8.w23">evaluations.</span></p>
</div>
<div id="S1.p2" class="ltx_para ltx_noindent">
<p id="S1.p2.1" class="ltx_p"><span class="gd_word" id="S1.p2.1.1.w1">More</span><span> </span><span class="gd_word" id="S1.p2.1.1.w2">specifically,</span><span> </span><math id="S1.p2.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S1.p2.1.m1.1a"><mi id="S1.p2.1.m1.1.1" xref="S1.p2.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S1.p2.1.2.w1">NN-MT</span><span> </span><span class="gd_word" id="S1.p2.1.2.w2">interpolates</span><span> </span><span class="gd_word" id="S1.p2.1.2.w3">the</span><span> </span><span class="gd_word" id="S1.p2.1.2.w4">target-token</span><span> </span><span class="gd_word" id="S1.p2.1.2.w5">softmax</span><span> </span><span class="gd_word" id="S1.p2.1.2.w6">distribution</span><span> </span><span class="gd_word" id="S1.p2.1.2.w7">from</span><span> </span><span class="gd_word" id="S1.p2.1.2.w8">a</span><span> </span><span class="gd_word" id="S1.p2.1.2.w9">neural</span><span> </span><span class="gd_word" id="S1.p2.1.2.w10">MT</span><span> </span><span class="gd_word" id="S1.p2.1.2.w11">model</span><span> </span><span class="gd_word" id="S1.p2.1.2.w12">with</span><span> </span><span class="gd_word" id="S1.p2.1.2.w13">a</span><span> </span><span class="gd_word" id="S1.p2.1.2.w14">multinomial</span><span> </span><span class="gd_word" id="S1.p2.1.2.w15">generated</span><span> </span><span class="gd_word" id="S1.p2.1.2.w16">using</span><span> </span><span class="gd_word" id="S1.p2.1.2.w17">nearest</span><span> </span><span class="gd_word" id="S1.p2.1.2.w18">neighbor</span><span> </span><span class="gd_word" id="S1.p2.1.2.w19">search</span><span> </span><span class="gd_word" id="S1.p2.1.2.w20">over</span><span> </span><span class="gd_word" id="S1.p2.1.2.w21">examples</span><span> </span><span class="gd_word" id="S1.p2.1.2.w22">cached</span><span> </span><span class="gd_word" id="S1.p2.1.2.w23">in</span><span> </span><span class="gd_word" id="S1.p2.1.2.w24">a</span><span> </span><span class="gd_word" id="S1.p2.1.2.w25">data</span><span> </span><span class="gd_word" id="S1.p2.1.2.w26">store.</span><span> </span><span class="gd_word" id="S1.p2.1.2.w27">The</span><span> </span><span class="gd_word" id="S1.p2.1.2.w28">cache</span><span> </span><span class="gd_word" id="S1.p2.1.2.w29">is</span><span> </span><span class="gd_word" id="S1.p2.1.2.w30">over</span><span> </span><span class="gd_word" id="S1.p2.1.2.w31">translation</span><span> </span><span class="gd_word" id="S1.p2.1.2.w32">contexts</span><span> </span><span class="gd_word" id="S1.p2.1.2.w33">(i.e.</span><span> </span><span class="gd_word" id="S1.p2.1.2.w34">the</span><span> </span><span class="gd_word" id="S1.p2.1.2.w35">complete</span><span> </span><span class="gd_word" id="S1.p2.1.2.w36">source</span><span> </span><span class="gd_word" id="S1.p2.1.2.w37">and</span><span> </span><span class="gd_word" id="S1.p2.1.2.w38">prefix</span><span> </span><span class="gd_word" id="S1.p2.1.2.w39">of</span><span> </span><span class="gd_word" id="S1.p2.1.2.w40">the</span><span> </span><span class="gd_word" id="S1.p2.1.2.w41">target),</span><span> </span><span class="gd_word" id="S1.p2.1.2.w42">and</span><span> </span><span class="gd_word" id="S1.p2.1.2.w43">is</span><span> </span><span class="gd_word" id="S1.p2.1.2.w44">indexed</span><span> </span><span class="gd_word" id="S1.p2.1.2.w45">by</span><span> </span><span class="gd_word" id="S1.p2.1.2.w46">hidden</span><span> </span><span class="gd_word" id="S1.p2.1.2.w47">states</span><span> </span><span class="gd_word" id="S1.p2.1.2.w48">computed</span><span> </span><span class="gd_word" id="S1.p2.1.2.w49">from</span><span> </span><span class="gd_word" id="S1.p2.1.2.w50">the</span><span> </span><span class="gd_word" id="S1.p2.1.2.w51">base</span><span> </span><span class="gd_word" id="S1.p2.1.2.w52">MT</span><span> </span><span class="gd_word" id="S1.p2.1.2.w53">model.
We</span><span> </span><span class="gd_word" id="S1.p2.1.2.w54">hypothesize</span><span> </span><span class="gd_word" id="S1.p2.1.2.w55">that</span><span> </span><span class="gd_word" id="S1.p2.1.2.w56">contexts</span><span> </span><span class="gd_word" id="S1.p2.1.2.w57">which</span><span> </span><span class="gd_word" id="S1.p2.1.2.w58">are</span><span> </span><span class="gd_word" id="S1.p2.1.2.w59">close</span><span> </span><span class="gd_word" id="S1.p2.1.2.w60">in</span><span> </span><span class="gd_word" id="S1.p2.1.2.w61">representation</span><span> </span><span class="gd_word" id="S1.p2.1.2.w62">space</span><span> </span><span class="gd_word" id="S1.p2.1.2.w63">are</span><span> </span><span class="gd_word" id="S1.p2.1.2.w64">more</span><span> </span><span class="gd_word" id="S1.p2.1.2.w65">likely</span><span> </span><span class="gd_word" id="S1.p2.1.2.w66">to</span><span> </span><span class="gd_word" id="S1.p2.1.2.w67">be</span><span> </span><span class="gd_word" id="S1.p2.1.2.w68">followed</span><span> </span><span class="gd_word" id="S1.p2.1.2.w69">by</span><span> </span><span class="gd_word" id="S1.p2.1.2.w70">the</span><span> </span><span class="gd_word" id="S1.p2.1.2.w71">same</span><span> </span><span class="gd_word" id="S1.p2.1.2.w72">target</span><span> </span><span class="gd_word" id="S1.p2.1.2.w73">word.</span><span> </span><span class="gd_word" id="S1.p2.1.2.w74">We</span><span> </span><span class="gd_word" id="S1.p2.1.2.w75">show</span><span> </span><span class="gd_word" id="S1.p2.1.2.w76">this</span><span> </span><span class="gd_word" id="S1.p2.1.2.w77">is</span><span> </span><span class="gd_word" id="S1.p2.1.2.w78">not</span><span> </span><span class="gd_word" id="S1.p2.1.2.w79">only</span><span> </span><span class="gd_word" id="S1.p2.1.2.w80">true</span><span> </span><span class="gd_word" id="S1.p2.1.2.w81">for</span><span> </span><span class="gd_word" id="S1.p2.1.2.w82">the</span><span> </span><span class="gd_word" id="S1.p2.1.2.w83">original</span><span> </span><span class="gd_word" id="S1.p2.1.2.w84">training</span><span> </span><span class="gd_word" id="S1.p2.1.2.w85">data,</span><span> </span><span class="gd_word" id="S1.p2.1.2.w86">thereby</span><span> </span><span class="gd_word" id="S1.p2.1.2.w87">improving</span><span> </span><span class="gd_word" id="S1.p2.1.2.w88">base</span><span> </span><span class="gd_word" id="S1.p2.1.2.w89">model</span><span> </span><span class="gd_word" id="S1.p2.1.2.w90">performance,</span><span> </span><span class="gd_word" id="S1.p2.1.2.w91">but</span><span> </span><span class="gd_word" id="S1.p2.1.2.w92">across</span><span> </span><span class="gd_word" id="S1.p2.1.2.w93">a</span><span> </span><span class="gd_word" id="S1.p2.1.2.w94">range</span><span> </span><span class="gd_word" id="S1.p2.1.2.w95">of</span><span> </span><span class="gd_word" id="S1.p2.1.2.w96">different</span><span> </span><span class="gd_word" id="S1.p2.1.2.w97">bi-text</span><span> </span><span class="gd_word" id="S1.p2.1.2.w98">corpora,</span><span> </span><span class="gd_word" id="S1.p2.1.2.w99">allowing</span><span> </span><span class="gd_word" id="S1.p2.1.2.w100">for</span><span> </span><span class="gd_word" id="S1.p2.1.2.w101">simple</span><span> </span><span class="gd_word" id="S1.p2.1.2.w102">and</span><span> </span><span class="gd_word" id="S1.p2.1.2.w103">effective</span><span> </span><span class="gd_word" id="S1.p2.1.2.w104">model</span><span> </span><span class="gd_word" id="S1.p2.1.2.w105">adaptation.</span></p>
</div>
<div id="S1.p3" class="ltx_para ltx_noindent">
<p id="S1.p3.1" class="ltx_p"><span class="gd_word" id="S1.p3.1.1.w1">Our</span><span> </span><span class="gd_word" id="S1.p3.1.1.w2">work</span><span> </span><span class="gd_word" id="S1.p3.1.1.w3">builds</span><span> </span><span class="gd_word" id="S1.p3.1.1.w4">upon</span><span> </span><span class="gd_word" id="S1.p3.1.1.w5">recent</span><span> </span><span class="gd_word" id="S1.p3.1.1.w6">results</span><span> </span><span class="gd_word" id="S1.p3.1.1.w7">showing</span><span> </span><span class="gd_word" id="S1.p3.1.1.w8">the</span><span> </span><span class="gd_word" id="S1.p3.1.1.w9">effectiveness</span><span> </span><span class="gd_word" id="S1.p3.1.1.w10">of</span><span> </span><span class="gd_word" id="S1.p3.1.1.w11">nearest</span><span> </span><span class="gd_word" id="S1.p3.1.1.w12">neighbor</span><span> </span><span class="gd_word" id="S1.p3.1.1.w13">methods</span><span> </span><span class="gd_word" id="S1.p3.1.1.w14">in</span><span> </span><span class="gd_word" id="S1.p3.1.1.w15">unconditional</span><span> </span><span class="gd_word" id="S1.p3.1.1.w16">language</span><span> </span><span class="gd_word" id="S1.p3.1.1.w17">models</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Khandelwal et al., <a href="#bib.bib22" title="" class="ltx_ref">2020</a>)</cite><span class="gd_word" id="S1.p3.1.2.w1">.</span><span> </span><span class="gd_word" id="S1.p3.1.2.w2">We</span><span> </span><span class="gd_word" id="S1.p3.1.2.w3">generalize</span><span> </span><span class="gd_word" id="S1.p3.1.2.w4">to</span><span> </span><span class="gd_word" id="S1.p3.1.2.w5">conditional</span><span> </span><span class="gd_word" id="S1.p3.1.2.w6">language</span><span> </span><span class="gd_word" id="S1.p3.1.2.w7">models,</span><span> </span><span class="gd_word" id="S1.p3.1.2.w8">by</span><span> </span><span class="gd_word" id="S1.p3.1.2.w9">using</span><span> </span><span class="gd_word" id="S1.p3.1.2.w10">both</span><span> </span><span class="gd_word" id="S1.p3.1.2.w11">source</span><span> </span><span class="gd_word" id="S1.p3.1.2.w12">and</span><span> </span><span class="gd_word" id="S1.p3.1.2.w13">target</span><span> </span><span class="gd_word" id="S1.p3.1.2.w14">context,</span><span> </span><span class="gd_word" id="S1.p3.1.2.w15">and</span><span> </span><span class="gd_word" id="S1.p3.1.2.w16">show</span><span> </span><span class="gd_word" id="S1.p3.1.2.w17">nearest</span><span> </span><span class="gd_word" id="S1.p3.1.2.w18">neighbour</span><span> </span><span class="gd_word" id="S1.p3.1.2.w19">models</span><span> </span><span class="gd_word" id="S1.p3.1.2.w20">can</span><span> </span><span class="gd_word" id="S1.p3.1.2.w21">be</span><span> </span><span class="gd_word" id="S1.p3.1.2.w22">effective</span><span> </span><span class="gd_word" id="S1.p3.1.2.w23">for</span><span> </span><span class="gd_word" id="S1.p3.1.2.w24">generation</span><span> </span><span class="gd_word" id="S1.p3.1.2.w25">in</span><span> </span><span class="gd_word" id="S1.p3.1.2.w26">addition</span><span> </span><span class="gd_word" id="S1.p3.1.2.w27">to</span><span> </span><span class="gd_word" id="S1.p3.1.2.w28">density</span><span> </span><span class="gd_word" id="S1.p3.1.2.w29">estimation.
Compared</span><span> </span><span class="gd_word" id="S1.p3.1.2.w30">to</span><span> </span><span class="gd_word" id="S1.p3.1.2.w31">prior</span><span> </span><span class="gd_word" id="S1.p3.1.2.w32">work</span><span> </span><span class="gd_word" id="S1.p3.1.2.w33">on</span><span> </span><span class="gd_word" id="S1.p3.1.2.w34">non-parametric</span><span> </span><span class="gd_word" id="S1.p3.1.2.w35">methods</span><span> </span><span class="gd_word" id="S1.p3.1.2.w36">for</span><span> </span><span class="gd_word" id="S1.p3.1.2.w37">MT,</span><span> </span><span class="gd_word" id="S1.p3.1.2.w38">our</span><span> </span><span class="gd_word" id="S1.p3.1.2.w39">approach</span><span> </span><span class="gd_word" id="S1.p3.1.2.w40">is</span><span> </span><span class="gd_word" id="S1.p3.1.2.w41">arguably</span><span> </span><span class="gd_word" id="S1.p3.1.2.w42">simpler</span><span> </span><span class="gd_word" id="S1.p3.1.2.w43">(in</span><span> </span><span class="gd_word" id="S1.p3.1.2.w44">that</span><span> </span><span class="gd_word" id="S1.p3.1.2.w45">it</span><span> </span><span class="gd_word" id="S1.p3.1.2.w46">requires</span><span> </span><span class="gd_word" id="S1.p3.1.2.w47">no</span><span> </span><span class="gd_word" id="S1.p3.1.2.w48">training,</span><span> </span><span class="gd_word" id="S1.p3.1.2.w49">as</span><span> </span><span class="gd_word" id="S1.p3.1.2.w50">compared</span><span> </span><span class="gd_word" id="S1.p3.1.2.w51">to</span><span> </span><cite class="ltx_cite ltx_citemacro_citet">Gu et al. (<a href="#bib.bib15" title="" class="ltx_ref">2018</a>)</cite><span class="gd_word" id="S1.p3.1.3.w1">)</span><span> </span><span class="gd_word" id="S1.p3.1.3.w2">and</span><span> </span><span class="gd_word" id="S1.p3.1.3.w3">more</span><span> </span><span class="gd_word" id="S1.p3.1.3.w4">expressive</span><span> </span><span class="gd_word" id="S1.p3.1.3.w5">(in</span><span> </span><span class="gd_word" id="S1.p3.1.3.w6">that</span><span> </span><span class="gd_word" id="S1.p3.1.3.w7">it</span><span> </span><span class="gd_word" id="S1.p3.1.3.w8">provides</span><span> </span><span class="gd_word" id="S1.p3.1.3.w9">access</span><span> </span><span class="gd_word" id="S1.p3.1.3.w10">to</span><span> </span><span class="gd_word" id="S1.p3.1.3.w11">billions</span><span> </span><span class="gd_word" id="S1.p3.1.3.w12">of</span><span> </span><span class="gd_word" id="S1.p3.1.3.w13">key-value</span><span> </span><span class="gd_word" id="S1.p3.1.3.w14">pairs</span><span> </span><span class="gd_word" id="S1.p3.1.3.w15">during</span><span> </span><span class="gd_word" id="S1.p3.1.3.w16">inference,</span><span> </span><span class="gd_word" id="S1.p3.1.3.w17">as</span><span> </span><span class="gd_word" id="S1.p3.1.3.w18">compared</span><span> </span><span class="gd_word" id="S1.p3.1.3.w19">to</span><span> </span><cite class="ltx_cite ltx_citemacro_citet">Zhang et al. (<a href="#bib.bib43" title="" class="ltx_ref">2018</a>); Gu et al. (<a href="#bib.bib15" title="" class="ltx_ref">2018</a>)</cite><span class="gd_word" id="S1.p3.1.4.w1">).
</span></p>
</div>
<div id="S1.p4" class="ltx_para ltx_noindent">
<p id="S1.p4.3" class="ltx_p"><span class="gd_word" id="S1.p4.3.1.w1">Extensive</span><span> </span><span class="gd_word" id="S1.p4.3.1.w2">experiments</span><span> </span><span class="gd_word" id="S1.p4.3.1.w3">show</span><span> </span><span class="gd_word" id="S1.p4.3.1.w4">that</span><span> </span><math id="S1.p4.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S1.p4.1.m1.1a"><mi id="S1.p4.1.m1.1.1" xref="S1.p4.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S1.p4.3.2.w1">NN-MT</span><span> </span><span class="gd_word" id="S1.p4.3.2.w2">scales</span><span> </span><span class="gd_word" id="S1.p4.3.2.w3">to</span><span> </span><span class="gd_word" id="S1.p4.3.2.w4">datastores</span><span> </span><span class="gd_word" id="S1.p4.3.2.w5">containing</span><span> </span><span class="gd_word" id="S1.p4.3.2.w6">billions</span><span> </span><span class="gd_word" id="S1.p4.3.2.w7">of</span><span> </span><span class="gd_word" id="S1.p4.3.2.w8">tokens,</span><span> </span><span class="gd_word" id="S1.p4.3.2.w9">improving</span><span> </span><span class="gd_word" id="S1.p4.3.2.w10">results</span><span> </span><span class="gd_word" id="S1.p4.3.2.w11">across</span><span> </span><span class="gd_word" id="S1.p4.3.2.w12">a</span><span> </span><span class="gd_word" id="S1.p4.3.2.w13">range</span><span> </span><span class="gd_word" id="S1.p4.3.2.w14">of</span><span> </span><span class="gd_word" id="S1.p4.3.2.w15">settings.
For</span><span> </span><span class="gd_word" id="S1.p4.3.2.w16">example,</span><span> </span><span class="gd_word" id="S1.p4.3.2.w17">it</span><span> </span><span class="gd_word" id="S1.p4.3.2.w18">improves</span><span> </span><span class="gd_word" id="S1.p4.3.2.w19">a</span><span> </span><span class="gd_word" id="S1.p4.3.2.w20">state-of-the-art</span><span> </span><span class="gd_word" id="S1.p4.3.2.w21">German-English</span><span> </span><span class="gd_word" id="S1.p4.3.2.w22">translation</span><span> </span><span class="gd_word" id="S1.p4.3.2.w23">model</span><span> </span><span class="gd_word" id="S1.p4.3.2.w24">by</span><span> </span><span class="gd_word" id="S1.p4.3.2.w25">1.5</span><span> </span><span class="gd_word" id="S1.p4.3.2.w26">BLEU.
</span><math id="S1.p4.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S1.p4.2.m2.1a"><mi id="S1.p4.2.m2.1.1" xref="S1.p4.2.m2.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S1.p4.3.3.w1">NN-MT</span><span> </span><span class="gd_word" id="S1.p4.3.3.w2">can</span><span> </span><span class="gd_word" id="S1.p4.3.3.w3">also</span><span> </span><span class="gd_word" id="S1.p4.3.3.w4">be</span><span> </span><span class="gd_word" id="S1.p4.3.3.w5">used</span><span> </span><span class="gd_word" id="S1.p4.3.3.w6">to</span><span> </span><span class="gd_word" id="S1.p4.3.3.w7">adapt</span><span> </span><span class="gd_word" id="S1.p4.3.3.w8">a</span><span> </span><span class="gd_word" id="S1.p4.3.3.w9">single</span><span> </span><span class="gd_word" id="S1.p4.3.3.w10">model</span><span> </span><span class="gd_word" id="S1.p4.3.3.w11">to</span><span> </span><span class="gd_word" id="S1.p4.3.3.w12">diverse</span><span> </span><span class="gd_word" id="S1.p4.3.3.w13">domains</span><span> </span><span class="gd_word" id="S1.p4.3.3.w14">by</span><span> </span><span class="gd_word" id="S1.p4.3.3.w15">simply</span><span> </span><span class="gd_word" id="S1.p4.3.3.w16">adding</span><span> </span><span class="gd_word" id="S1.p4.3.3.w17">a</span><span> </span><span class="gd_word" id="S1.p4.3.3.w18">domain-specific</span><span> </span><span class="gd_word" id="S1.p4.3.3.w19">datastore—improving</span><span> </span><span class="gd_word" id="S1.p4.3.3.w20">results</span><span> </span><span class="gd_word" id="S1.p4.3.3.w21">by</span><span> </span><span class="gd_word" id="S1.p4.3.3.w22">an</span><span> </span><span class="gd_word" id="S1.p4.3.3.w23">average</span><span> </span><span class="gd_word" id="S1.p4.3.3.w24">of</span><span> </span><span class="gd_word" id="S1.p4.3.3.w25">9.2</span><span> </span><span class="gd_word" id="S1.p4.3.3.w26">BLEU</span><span> </span><span class="gd_word" id="S1.p4.3.3.w27">over</span><span> </span><span class="gd_word" id="S1.p4.3.3.w28">the</span><span> </span><span class="gd_word" id="S1.p4.3.3.w29">base</span><span> </span><span class="gd_word" id="S1.p4.3.3.w30">model</span><span> </span><span class="gd_word" id="S1.p4.3.3.w31">out-of-domain,</span><span> </span><span class="gd_word" id="S1.p4.3.3.w32">and</span><span> </span><span class="gd_word" id="S1.p4.3.3.w33">even</span><span> </span><span class="gd_word" id="S1.p4.3.3.w34">outperforming</span><span> </span><span class="gd_word" id="S1.p4.3.3.w35">existing</span><span> </span><span class="gd_word" id="S1.p4.3.3.w36">models</span><span> </span><span class="gd_word" id="S1.p4.3.3.w37">that</span><span> </span><span class="gd_word" id="S1.p4.3.3.w38">train</span><span> </span><span class="gd_word" id="S1.p4.3.3.w39">on</span><span> </span><span class="gd_word" id="S1.p4.3.3.w40">these</span><span> </span><span class="gd_word" id="S1.p4.3.3.w41">domains.
Finally,</span><span> </span><span class="gd_word" id="S1.p4.3.3.w42">language-pair-specific</span><span> </span><span class="gd_word" id="S1.p4.3.3.w43">datastores</span><span> </span><span class="gd_word" id="S1.p4.3.3.w44">are</span><span> </span><span class="gd_word" id="S1.p4.3.3.w45">used</span><span> </span><span class="gd_word" id="S1.p4.3.3.w46">to</span><span> </span><span class="gd_word" id="S1.p4.3.3.w47">adapt</span><span> </span><span class="gd_word" id="S1.p4.3.3.w48">a</span><span> </span><span class="gd_word" id="S1.p4.3.3.w49">multilingual</span><span> </span><span class="gd_word" id="S1.p4.3.3.w50">model</span><span> </span><span class="gd_word" id="S1.p4.3.3.w51">to</span><span> </span><span class="gd_word" id="S1.p4.3.3.w52">particular</span><span> </span><span class="gd_word" id="S1.p4.3.3.w53">language</span><span> </span><span class="gd_word" id="S1.p4.3.3.w54">pairs,</span><span> </span><span class="gd_word" id="S1.p4.3.3.w55">with</span><span> </span><span class="gd_word" id="S1.p4.3.3.w56">improvements</span><span> </span><span class="gd_word" id="S1.p4.3.3.w57">of</span><span> </span><span class="gd_word" id="S1.p4.3.3.w58">3</span><span> </span><span class="gd_word" id="S1.p4.3.3.w59">BLEU</span><span> </span><span class="gd_word" id="S1.p4.3.3.w60">for</span><span> </span><span class="gd_word" id="S1.p4.3.3.w61">translating</span><span> </span><span class="gd_word" id="S1.p4.3.3.w62">English</span><span> </span><span class="gd_word" id="S1.p4.3.3.w63">into</span><span> </span><span class="gd_word" id="S1.p4.3.3.w64">German</span><span> </span><span class="gd_word" id="S1.p4.3.3.w65">and</span><span> </span><span class="gd_word" id="S1.p4.3.3.w66">Chinese.
We</span><span> </span><span class="gd_word" id="S1.p4.3.3.w67">find</span><span> </span><span class="gd_word" id="S1.p4.3.3.w68">that</span><span> </span><span class="gd_word" id="S1.p4.3.3.w69">retrievals</span><span> </span><span class="gd_word" id="S1.p4.3.3.w70">from</span><span> </span><math id="S1.p4.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S1.p4.3.m3.1a"><mi id="S1.p4.3.m3.1.1" xref="S1.p4.3.m3.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S1.p4.3.4.w1">NN-MT</span><span> </span><span class="gd_word" id="S1.p4.3.4.w2">are</span><span> </span><span class="gd_word" id="S1.p4.3.4.w3">typically</span><span> </span><span class="gd_word" id="S1.p4.3.4.w4">highly</span><span> </span><span class="gd_word" id="S1.p4.3.4.w5">contextually</span><span> </span><span class="gd_word" id="S1.p4.3.4.w6">relevant.</span></p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Nearest Neighbor Machine Translation</h2>

<div id="S2.p1" class="ltx_para ltx_noindent">
<p id="S2.p1.1" class="ltx_p"><math id="S2.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.p1.1.m1.1a"><mi id="S2.p1.1.m1.1.1" xref="S2.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S2.p1.1.2.w1">NN-MT</span><span> </span><span class="gd_word" id="S2.p1.1.2.w2">involves</span><span> </span><span class="gd_word" id="S2.p1.1.2.w3">augmenting</span><span> </span><span class="gd_word" id="S2.p1.1.2.w4">the</span><span> </span><span class="gd_word" id="S2.p1.1.2.w5">decoder</span><span> </span><span class="gd_word" id="S2.p1.1.2.w6">of</span><span> </span><span class="gd_word" id="S2.p1.1.2.w7">a</span><span> </span><span class="gd_word" id="S2.p1.1.2.w8">pre-trained</span><span> </span><span class="gd_word" id="S2.p1.1.2.w9">machine</span><span> </span><span class="gd_word" id="S2.p1.1.2.w10">translation</span><span> </span><span class="gd_word" id="S2.p1.1.2.w11">model</span><span> </span><span class="gd_word" id="S2.p1.1.2.w12">with</span><span> </span><span class="gd_word" id="S2.p1.1.2.w13">a</span><span> </span><span class="gd_word" id="S2.p1.1.2.w14">nearest</span><span> </span><span class="gd_word" id="S2.p1.1.2.w15">neighbor</span><span> </span><span class="gd_word" id="S2.p1.1.2.w16">retrieval</span><span> </span><span class="gd_word" id="S2.p1.1.2.w17">mechanism,</span><span> </span><span class="gd_word" id="S2.p1.1.2.w18">allowing</span><span> </span><span class="gd_word" id="S2.p1.1.2.w19">the</span><span> </span><span class="gd_word" id="S2.p1.1.2.w20">model</span><span> </span><span class="gd_word" id="S2.p1.1.2.w21">direct</span><span> </span><span class="gd_word" id="S2.p1.1.2.w22">access</span><span> </span><span class="gd_word" id="S2.p1.1.2.w23">to</span><span> </span><span class="gd_word" id="S2.p1.1.2.w24">a</span><span> </span><span class="gd_word" id="S2.p1.1.2.w25">datastore</span><span> </span><span class="gd_word" id="S2.p1.1.2.w26">of</span><span> </span><span class="gd_word" id="S2.p1.1.2.w27">cached</span><span> </span><span class="gd_word" id="S2.p1.1.2.w28">examples.</span><span> </span><span class="gd_word" id="S2.p1.1.2.w29">The</span><span> </span><span class="gd_word" id="S2.p1.1.2.w30">translation</span><span> </span><span class="gd_word" id="S2.p1.1.2.w31">is</span><span> </span><span class="gd_word" id="S2.p1.1.2.w32">generated</span><span> </span><span class="gd_word" id="S2.p1.1.2.w33">word-by-word;
at</span><span> </span><span class="gd_word" id="S2.p1.1.2.w34">each</span><span> </span><span class="gd_word" id="S2.p1.1.2.w35">time</span><span> </span><span class="gd_word" id="S2.p1.1.2.w36">step,</span><span> </span><span class="gd_word" id="S2.p1.1.2.w37">we</span><span> </span><span class="gd_word" id="S2.p1.1.2.w38">find</span><span> </span><span class="gd_word" id="S2.p1.1.2.w39">the</span><span> </span><span class="gd_word" id="S2.p1.1.2.w40">most</span><span> </span><span class="gd_word" id="S2.p1.1.2.w41">similar</span><span> </span><span class="gd_word" id="S2.p1.1.2.w42">contexts</span><span> </span><span class="gd_word" id="S2.p1.1.2.w43">in</span><span> </span><span class="gd_word" id="S2.p1.1.2.w44">the</span><span> </span><span class="gd_word" id="S2.p1.1.2.w45">datastore,</span><span> </span><span class="gd_word" id="S2.p1.1.2.w46">and</span><span> </span><span class="gd_word" id="S2.p1.1.2.w47">compute</span><span> </span><span class="gd_word" id="S2.p1.1.2.w48">a</span><span> </span><span class="gd_word" id="S2.p1.1.2.w49">distribution</span><span> </span><span class="gd_word" id="S2.p1.1.2.w50">over</span><span> </span><span class="gd_word" id="S2.p1.1.2.w51">the</span><span> </span><span class="gd_word" id="S2.p1.1.2.w52">corresponding</span><span> </span><span class="gd_word" id="S2.p1.1.2.w53">target</span><span> </span><span class="gd_word" id="S2.p1.1.2.w54">tokens,</span><span> </span><span class="gd_word" id="S2.p1.1.2.w55">as</span><span> </span><span class="gd_word" id="S2.p1.1.2.w56">shown</span><span> </span><span class="gd_word" id="S2.p1.1.2.w57">in</span><span> </span><span class="gd_word" id="S2.p1.1.2.w58">Figure </span><a href="#S2.F1" title="Figure 1 ‣ 2 Nearest Neighbor Machine Translation ‣ Nearest Neighbor Machine Translation" class="ltx_ref">1</a><span class="gd_word" id="S2.p1.1.3.w1">.
This</span><span> </span><span class="gd_word" id="S2.p1.1.3.w2">distribution</span><span> </span><span class="gd_word" id="S2.p1.1.3.w3">is</span><span> </span><span class="gd_word" id="S2.p1.1.3.w4">then</span><span> </span><span class="gd_word" id="S2.p1.1.3.w5">interpolated</span><span> </span><span class="gd_word" id="S2.p1.1.3.w6">with</span><span> </span><span class="gd_word" id="S2.p1.1.3.w7">the</span><span> </span><span class="gd_word" id="S2.p1.1.3.w8">output</span><span> </span><span class="gd_word" id="S2.p1.1.3.w9">distribution</span><span> </span><span class="gd_word" id="S2.p1.1.3.w10">from</span><span> </span><span class="gd_word" id="S2.p1.1.3.w11">the</span><span> </span><span class="gd_word" id="S2.p1.1.3.w12">pre-trained</span><span> </span><span class="gd_word" id="S2.p1.1.3.w13">MT</span><span> </span><span class="gd_word" id="S2.p1.1.3.w14">model.
</span></p>
</div>
<div id="S2.p2" class="ltx_para ltx_noindent">
<p id="S2.p2.6" class="ltx_p"><span class="gd_word" id="S2.p2.6.1.w1">More</span><span> </span><span class="gd_word" id="S2.p2.6.1.w2">specifically,</span><span> </span><span class="gd_word" id="S2.p2.6.1.w3">given</span><span> </span><span class="gd_word" id="S2.p2.6.1.w4">an</span><span> </span><span class="gd_word" id="S2.p2.6.1.w5">input</span><span> </span><span class="gd_word" id="S2.p2.6.1.w6">sequence</span><span> </span><span class="gd_word" id="S2.p2.6.1.w7">of</span><span> </span><span class="gd_word" id="S2.p2.6.1.w8">tokens</span><span> </span><span class="gd_word" id="S2.p2.6.1.w9">in</span><span> </span><span class="gd_word" id="S2.p2.6.1.w10">a</span><span> </span><span class="gd_word" id="S2.p2.6.1.w11">source</span><span> </span><span class="gd_word" id="S2.p2.6.1.w12">language</span><span> </span><math id="S2.p2.1.m1.3" class="ltx_Math" alttext="s=(s_{1},\ldots,s_{M_{1}})" display="inline"><semantics id="S2.p2.1.m1.3a"><mrow id="S2.p2.1.m1.3.3" xref="S2.p2.1.m1.3.3.cmml"><mi id="S2.p2.1.m1.3.3.4" xref="S2.p2.1.m1.3.3.4.cmml">s</mi><mo id="S2.p2.1.m1.3.3.3" xref="S2.p2.1.m1.3.3.3.cmml">=</mo><mrow id="S2.p2.1.m1.3.3.2.2" xref="S2.p2.1.m1.3.3.2.3.cmml"><mo stretchy="false" id="S2.p2.1.m1.3.3.2.2.3" xref="S2.p2.1.m1.3.3.2.3.cmml">(</mo><msub id="S2.p2.1.m1.2.2.1.1.1" xref="S2.p2.1.m1.2.2.1.1.1.cmml"><mi id="S2.p2.1.m1.2.2.1.1.1.2" xref="S2.p2.1.m1.2.2.1.1.1.2.cmml">s</mi><mn id="S2.p2.1.m1.2.2.1.1.1.3" xref="S2.p2.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S2.p2.1.m1.3.3.2.2.4" xref="S2.p2.1.m1.3.3.2.3.cmml">,</mo><mi mathvariant="normal" id="S2.p2.1.m1.1.1" xref="S2.p2.1.m1.1.1.cmml">…</mi><mo id="S2.p2.1.m1.3.3.2.2.5" xref="S2.p2.1.m1.3.3.2.3.cmml">,</mo><msub id="S2.p2.1.m1.3.3.2.2.2" xref="S2.p2.1.m1.3.3.2.2.2.cmml"><mi id="S2.p2.1.m1.3.3.2.2.2.2" xref="S2.p2.1.m1.3.3.2.2.2.2.cmml">s</mi><msub id="S2.p2.1.m1.3.3.2.2.2.3" xref="S2.p2.1.m1.3.3.2.2.2.3.cmml"><mi id="S2.p2.1.m1.3.3.2.2.2.3.2" xref="S2.p2.1.m1.3.3.2.2.2.3.2.cmml">M</mi><mn id="S2.p2.1.m1.3.3.2.2.2.3.3" xref="S2.p2.1.m1.3.3.2.2.2.3.3.cmml">1</mn></msub></msub><mo stretchy="false" id="S2.p2.1.m1.3.3.2.2.6" xref="S2.p2.1.m1.3.3.2.3.cmml">)</mo></mrow></mrow></semantics></math><span class="gd_word" id="S2.p2.6.2.w1">,</span><span> </span><span class="gd_word" id="S2.p2.6.2.w2">a</span><span> </span><span class="gd_word" id="S2.p2.6.2.w3">neural</span><span> </span><span class="gd_word" id="S2.p2.6.2.w4">MT</span><span> </span><span class="gd_word" id="S2.p2.6.2.w5">model</span><span> </span><span class="gd_word" id="S2.p2.6.2.w6">outputs</span><span> </span><span class="gd_word" id="S2.p2.6.2.w7">a</span><span> </span><span class="gd_word" id="S2.p2.6.2.w8">sequence</span><span> </span><span class="gd_word" id="S2.p2.6.2.w9">of</span><span> </span><span class="gd_word" id="S2.p2.6.2.w10">tokens</span><span> </span><math id="S2.p2.2.m2.3" class="ltx_Math" alttext="t=(t_{1},\ldots,t_{M_{2}})" display="inline"><semantics id="S2.p2.2.m2.3a"><mrow id="S2.p2.2.m2.3.3" xref="S2.p2.2.m2.3.3.cmml"><mi id="S2.p2.2.m2.3.3.4" xref="S2.p2.2.m2.3.3.4.cmml">t</mi><mo id="S2.p2.2.m2.3.3.3" xref="S2.p2.2.m2.3.3.3.cmml">=</mo><mrow id="S2.p2.2.m2.3.3.2.2" xref="S2.p2.2.m2.3.3.2.3.cmml"><mo stretchy="false" id="S2.p2.2.m2.3.3.2.2.3" xref="S2.p2.2.m2.3.3.2.3.cmml">(</mo><msub id="S2.p2.2.m2.2.2.1.1.1" xref="S2.p2.2.m2.2.2.1.1.1.cmml"><mi id="S2.p2.2.m2.2.2.1.1.1.2" xref="S2.p2.2.m2.2.2.1.1.1.2.cmml">t</mi><mn id="S2.p2.2.m2.2.2.1.1.1.3" xref="S2.p2.2.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S2.p2.2.m2.3.3.2.2.4" xref="S2.p2.2.m2.3.3.2.3.cmml">,</mo><mi mathvariant="normal" id="S2.p2.2.m2.1.1" xref="S2.p2.2.m2.1.1.cmml">…</mi><mo id="S2.p2.2.m2.3.3.2.2.5" xref="S2.p2.2.m2.3.3.2.3.cmml">,</mo><msub id="S2.p2.2.m2.3.3.2.2.2" xref="S2.p2.2.m2.3.3.2.2.2.cmml"><mi id="S2.p2.2.m2.3.3.2.2.2.2" xref="S2.p2.2.m2.3.3.2.2.2.2.cmml">t</mi><msub id="S2.p2.2.m2.3.3.2.2.2.3" xref="S2.p2.2.m2.3.3.2.2.2.3.cmml"><mi id="S2.p2.2.m2.3.3.2.2.2.3.2" xref="S2.p2.2.m2.3.3.2.2.2.3.2.cmml">M</mi><mn id="S2.p2.2.m2.3.3.2.2.2.3.3" xref="S2.p2.2.m2.3.3.2.2.2.3.3.cmml">2</mn></msub></msub><mo stretchy="false" id="S2.p2.2.m2.3.3.2.2.6" xref="S2.p2.2.m2.3.3.2.3.cmml">)</mo></mrow></mrow></semantics></math><span class="gd_word" id="S2.p2.6.3.w1"/><span> </span><span class="gd_word" id="S2.p2.6.3.w2">in</span><span> </span><span class="gd_word" id="S2.p2.6.3.w3">the</span><span> </span><span class="gd_word" id="S2.p2.6.3.w4">target</span><span> </span><span class="gd_word" id="S2.p2.6.3.w5">language.
When</span><span> </span><span class="gd_word" id="S2.p2.6.3.w6">using</span><span> </span><span class="gd_word" id="S2.p2.6.3.w7">autoregressive</span><span> </span><span class="gd_word" id="S2.p2.6.3.w8">decoders,</span><span> </span><span class="gd_word" id="S2.p2.6.3.w9">the</span><span> </span><span class="gd_word" id="S2.p2.6.3.w10">output</span><span> </span><span class="gd_word" id="S2.p2.6.3.w11">distribution</span><span> </span><span class="gd_word" id="S2.p2.6.3.w12">for</span><span> </span><span class="gd_word" id="S2.p2.6.3.w13">each</span><span> </span><span class="gd_word" id="S2.p2.6.3.w14">token</span><span> </span><math id="S2.p2.3.m3.1" class="ltx_Math" alttext="t_{i}" display="inline"><semantics id="S2.p2.3.m3.1a"><msub id="S2.p2.3.m3.1.1" xref="S2.p2.3.m3.1.1.cmml"><mi id="S2.p2.3.m3.1.1.2" xref="S2.p2.3.m3.1.1.2.cmml">t</mi><mi id="S2.p2.3.m3.1.1.3" xref="S2.p2.3.m3.1.1.3.cmml">i</mi></msub></semantics></math><span class="gd_word" id="S2.p2.6.4.w1"/><span> </span><span class="gd_word" id="S2.p2.6.4.w2">in</span><span> </span><span class="gd_word" id="S2.p2.6.4.w3">the</span><span> </span><span class="gd_word" id="S2.p2.6.4.w4">target</span><span> </span><span class="gd_word" id="S2.p2.6.4.w5">sequence</span><span> </span><span class="gd_word" id="S2.p2.6.4.w6">is</span><span> </span><span class="gd_word" id="S2.p2.6.4.w7">conditioned</span><span> </span><span class="gd_word" id="S2.p2.6.4.w8">on</span><span> </span><span class="gd_word" id="S2.p2.6.4.w9">the</span><span> </span><span class="gd_word" id="S2.p2.6.4.w10">entire</span><span> </span><span class="gd_word" id="S2.p2.6.4.w11">source</span><span> </span><span class="gd_word" id="S2.p2.6.4.w12">sequence</span><span> </span><span class="gd_word" id="S2.p2.6.4.w13">as</span><span> </span><span class="gd_word" id="S2.p2.6.4.w14">well</span><span> </span><span class="gd_word" id="S2.p2.6.4.w15">as</span><span> </span><span class="gd_word" id="S2.p2.6.4.w16">the</span><span> </span><span class="gd_word" id="S2.p2.6.4.w17">previous</span><span> </span><span class="gd_word" id="S2.p2.6.4.w18">target</span><span> </span><span class="gd_word" id="S2.p2.6.4.w19">tokens,</span><span> </span><math id="S2.p2.4.m4.2" class="ltx_Math" alttext="p(t_{i}|s,t_{1:i-1})" display="inline"><semantics id="S2.p2.4.m4.2a"><mrow id="S2.p2.4.m4.2.2" xref="S2.p2.4.m4.2.2.cmml"><mi id="S2.p2.4.m4.2.2.3" xref="S2.p2.4.m4.2.2.3.cmml">p</mi><mo id="S2.p2.4.m4.2.2.2" xref="S2.p2.4.m4.2.2.2.cmml">⁢</mo><mrow id="S2.p2.4.m4.2.2.1.1" xref="S2.p2.4.m4.2.2.1.1.1.cmml"><mo stretchy="false" id="S2.p2.4.m4.2.2.1.1.2" xref="S2.p2.4.m4.2.2.1.1.1.cmml">(</mo><mrow id="S2.p2.4.m4.2.2.1.1.1" xref="S2.p2.4.m4.2.2.1.1.1.cmml"><msub id="S2.p2.4.m4.2.2.1.1.1.3" xref="S2.p2.4.m4.2.2.1.1.1.3.cmml"><mi id="S2.p2.4.m4.2.2.1.1.1.3.2" xref="S2.p2.4.m4.2.2.1.1.1.3.2.cmml">t</mi><mi id="S2.p2.4.m4.2.2.1.1.1.3.3" xref="S2.p2.4.m4.2.2.1.1.1.3.3.cmml">i</mi></msub><mo lspace="2.5pt" rspace="2.5pt" stretchy="false" id="S2.p2.4.m4.2.2.1.1.1.2" xref="S2.p2.4.m4.2.2.1.1.1.2.cmml">|</mo><mrow id="S2.p2.4.m4.2.2.1.1.1.1.1" xref="S2.p2.4.m4.2.2.1.1.1.1.2.cmml"><mi id="S2.p2.4.m4.1.1" xref="S2.p2.4.m4.1.1.cmml">s</mi><mo id="S2.p2.4.m4.2.2.1.1.1.1.1.2" xref="S2.p2.4.m4.2.2.1.1.1.1.2.cmml">,</mo><msub id="S2.p2.4.m4.2.2.1.1.1.1.1.1" xref="S2.p2.4.m4.2.2.1.1.1.1.1.1.cmml"><mi id="S2.p2.4.m4.2.2.1.1.1.1.1.1.2" xref="S2.p2.4.m4.2.2.1.1.1.1.1.1.2.cmml">t</mi><mrow id="S2.p2.4.m4.2.2.1.1.1.1.1.1.3" xref="S2.p2.4.m4.2.2.1.1.1.1.1.1.3.cmml"><mn id="S2.p2.4.m4.2.2.1.1.1.1.1.1.3.2" xref="S2.p2.4.m4.2.2.1.1.1.1.1.1.3.2.cmml">1</mn><mo id="S2.p2.4.m4.2.2.1.1.1.1.1.1.3.1" xref="S2.p2.4.m4.2.2.1.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S2.p2.4.m4.2.2.1.1.1.1.1.1.3.3" xref="S2.p2.4.m4.2.2.1.1.1.1.1.1.3.3.cmml"><mi id="S2.p2.4.m4.2.2.1.1.1.1.1.1.3.3.2" xref="S2.p2.4.m4.2.2.1.1.1.1.1.1.3.3.2.cmml">i</mi><mo id="S2.p2.4.m4.2.2.1.1.1.1.1.1.3.3.1" xref="S2.p2.4.m4.2.2.1.1.1.1.1.1.3.3.1.cmml">-</mo><mn id="S2.p2.4.m4.2.2.1.1.1.1.1.1.3.3.3" xref="S2.p2.4.m4.2.2.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub></mrow></mrow><mo stretchy="false" id="S2.p2.4.m4.2.2.1.1.3" xref="S2.p2.4.m4.2.2.1.1.1.cmml">)</mo></mrow></mrow></semantics></math><span class="gd_word" id="S2.p2.6.5.w1">.
Let</span><span> </span><math id="S2.p2.5.m5.2" class="ltx_Math" alttext="(s,t_{1:i-1})" display="inline"><semantics id="S2.p2.5.m5.2a"><mrow id="S2.p2.5.m5.2.2.1" xref="S2.p2.5.m5.2.2.2.cmml"><mo stretchy="false" id="S2.p2.5.m5.2.2.1.2" xref="S2.p2.5.m5.2.2.2.cmml">(</mo><mi id="S2.p2.5.m5.1.1" xref="S2.p2.5.m5.1.1.cmml">s</mi><mo id="S2.p2.5.m5.2.2.1.3" xref="S2.p2.5.m5.2.2.2.cmml">,</mo><msub id="S2.p2.5.m5.2.2.1.1" xref="S2.p2.5.m5.2.2.1.1.cmml"><mi id="S2.p2.5.m5.2.2.1.1.2" xref="S2.p2.5.m5.2.2.1.1.2.cmml">t</mi><mrow id="S2.p2.5.m5.2.2.1.1.3" xref="S2.p2.5.m5.2.2.1.1.3.cmml"><mn id="S2.p2.5.m5.2.2.1.1.3.2" xref="S2.p2.5.m5.2.2.1.1.3.2.cmml">1</mn><mo id="S2.p2.5.m5.2.2.1.1.3.1" xref="S2.p2.5.m5.2.2.1.1.3.1.cmml">:</mo><mrow id="S2.p2.5.m5.2.2.1.1.3.3" xref="S2.p2.5.m5.2.2.1.1.3.3.cmml"><mi id="S2.p2.5.m5.2.2.1.1.3.3.2" xref="S2.p2.5.m5.2.2.1.1.3.3.2.cmml">i</mi><mo id="S2.p2.5.m5.2.2.1.1.3.3.1" xref="S2.p2.5.m5.2.2.1.1.3.3.1.cmml">-</mo><mn id="S2.p2.5.m5.2.2.1.1.3.3.3" xref="S2.p2.5.m5.2.2.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><mo stretchy="false" id="S2.p2.5.m5.2.2.1.4" xref="S2.p2.5.m5.2.2.2.cmml">)</mo></mrow></semantics></math><span class="gd_word" id="S2.p2.6.6.w1"/><span> </span><span class="gd_word" id="S2.p2.6.6.w2">be</span><span> </span><span class="gd_word" id="S2.p2.6.6.w3">the</span><span> </span><em id="S2.p2.6.1" class="ltx_emph ltx_font_italic">translation context</em><span class="gd_word" id="S2.p2.6.7.w1"/><span> </span><span class="gd_word" id="S2.p2.6.7.w2">and</span><span> </span><math id="S2.p2.6.m6.1" class="ltx_Math" alttext="t_{i}" display="inline"><semantics id="S2.p2.6.m6.1a"><msub id="S2.p2.6.m6.1.1" xref="S2.p2.6.m6.1.1.cmml"><mi id="S2.p2.6.m6.1.1.2" xref="S2.p2.6.m6.1.1.2.cmml">t</mi><mi id="S2.p2.6.m6.1.1.3" xref="S2.p2.6.m6.1.1.3.cmml">i</mi></msub></semantics></math><span class="gd_word" id="S2.p2.6.8.w1"/><span> </span><span class="gd_word" id="S2.p2.6.8.w2">be</span><span> </span><span class="gd_word" id="S2.p2.6.8.w3">the</span><span> </span><em id="S2.p2.6.2" class="ltx_emph ltx_font_italic">target token</em><span class="gd_word" id="S2.p2.6.9.w1">.</span></p>
</div>
<figure id="S2.F1" class="ltx_figure"><img src="/static/img/2010.00710-gpt-4//static/img/2010.00710/" id="S2.F1.g1" class="ltx_graphics ltx_centering" alt="/static/img/2010.00710-gpt-4//static/img/2010.00710/" width="" height=""/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span><span class="gd_word" id="S2.F1.2.w1">An</span><span> </span><span class="gd_word" id="S2.F1.2.w2">illustration</span><span> </span><span class="gd_word" id="S2.F1.2.w3">of</span><span> </span><span class="gd_word" id="S2.F1.2.w4">how</span><span> </span><span class="gd_word" id="S2.F1.2.w5">the</span><span> </span><math id="S2.F1.4.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.F1.4.m1.1b"><mi id="S2.F1.4.m1.1.1" xref="S2.F1.4.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S2.F1.3.w1">NN</span><span> </span><span class="gd_word" id="S2.F1.3.w2">distribution</span><span> </span><span class="gd_word" id="S2.F1.3.w3">is</span><span> </span><span class="gd_word" id="S2.F1.3.w4">computed.</span><span> </span><span class="gd_word" id="S2.F1.3.w5">The</span><span> </span><span class="gd_word" id="S2.F1.3.w6">datastore,</span><span> </span><span class="gd_word" id="S2.F1.3.w7">which</span><span> </span><span class="gd_word" id="S2.F1.3.w8">is</span><span> </span><span class="gd_word" id="S2.F1.3.w9">constructed</span><span> </span><span class="gd_word" id="S2.F1.3.w10">offline,</span><span> </span><span class="gd_word" id="S2.F1.3.w11">consists</span><span> </span><span class="gd_word" id="S2.F1.3.w12">of</span><span> </span><span class="gd_word" id="S2.F1.3.w13">representations</span><span> </span><span class="gd_word" id="S2.F1.3.w14">of</span><span> </span><span class="gd_word" id="S2.F1.3.w15">training</span><span> </span><span class="gd_word" id="S2.F1.3.w16">set</span><span> </span><span class="gd_word" id="S2.F1.3.w17">translation</span><span> </span><span class="gd_word" id="S2.F1.3.w18">contexts</span><span> </span><span class="gd_word" id="S2.F1.3.w19">and</span><span> </span><span class="gd_word" id="S2.F1.3.w20">corresponding</span><span> </span><span class="gd_word" id="S2.F1.3.w21">target</span><span> </span><span class="gd_word" id="S2.F1.3.w22">tokens</span><span> </span><span class="gd_word" id="S2.F1.3.w23">for</span><span> </span><span class="gd_word" id="S2.F1.3.w24">every</span><span> </span><span class="gd_word" id="S2.F1.3.w25">example</span><span> </span><span class="gd_word" id="S2.F1.3.w26">in</span><span> </span><span class="gd_word" id="S2.F1.3.w27">the</span><span> </span><span class="gd_word" id="S2.F1.3.w28">parallel</span><span> </span><span class="gd_word" id="S2.F1.3.w29">data.</span><span> </span><span class="gd_word" id="S2.F1.3.w30">During</span><span> </span><span class="gd_word" id="S2.F1.3.w31">generation,</span><span> </span><span class="gd_word" id="S2.F1.3.w32">the</span><span> </span><span class="gd_word" id="S2.F1.3.w33">query</span><span> </span><span class="gd_word" id="S2.F1.3.w34">representation,</span><span> </span><span class="gd_word" id="S2.F1.3.w35">conditioned</span><span> </span><span class="gd_word" id="S2.F1.3.w36">on</span><span> </span><span class="gd_word" id="S2.F1.3.w37">the</span><span> </span><span class="gd_word" id="S2.F1.3.w38">test</span><span> </span><span class="gd_word" id="S2.F1.3.w39">input</span><span> </span><span class="gd_word" id="S2.F1.3.w40">as</span><span> </span><span class="gd_word" id="S2.F1.3.w41">well</span><span> </span><span class="gd_word" id="S2.F1.3.w42">as</span><span> </span><span class="gd_word" id="S2.F1.3.w43">previously</span><span> </span><span class="gd_word" id="S2.F1.3.w44">generated</span><span> </span><span class="gd_word" id="S2.F1.3.w45">tokens,</span><span> </span><span class="gd_word" id="S2.F1.3.w46">is</span><span> </span><span class="gd_word" id="S2.F1.3.w47">used</span><span> </span><span class="gd_word" id="S2.F1.3.w48">to</span><span> </span><span class="gd_word" id="S2.F1.3.w49">retrieve</span><span> </span><span class="gd_word" id="S2.F1.3.w50">the</span><span> </span><math id="S2.F1.5.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.F1.5.m2.1b"><mi id="S2.F1.5.m2.1.1" xref="S2.F1.5.m2.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S2.F1.4.w1"/><span> </span><span class="gd_word" id="S2.F1.4.w2">nearest</span><span> </span><span class="gd_word" id="S2.F1.4.w3">neighbors</span><span> </span><span class="gd_word" id="S2.F1.4.w4">from</span><span> </span><span class="gd_word" id="S2.F1.4.w5">the</span><span> </span><span class="gd_word" id="S2.F1.4.w6">datastore,</span><span> </span><span class="gd_word" id="S2.F1.4.w7">along</span><span> </span><span class="gd_word" id="S2.F1.4.w8">with</span><span> </span><span class="gd_word" id="S2.F1.4.w9">the</span><span> </span><span class="gd_word" id="S2.F1.4.w10">corresponding</span><span> </span><span class="gd_word" id="S2.F1.4.w11">target</span><span> </span><span class="gd_word" id="S2.F1.4.w12">tokens.</span><span> </span><span class="gd_word" id="S2.F1.4.w13">The</span><span> </span><span class="gd_word" id="S2.F1.4.w14">distance</span><span> </span><span class="gd_word" id="S2.F1.4.w15">from</span><span> </span><span class="gd_word" id="S2.F1.4.w16">the</span><span> </span><span class="gd_word" id="S2.F1.4.w17">query</span><span> </span><span class="gd_word" id="S2.F1.4.w18">is</span><span> </span><span class="gd_word" id="S2.F1.4.w19">used</span><span> </span><span class="gd_word" id="S2.F1.4.w20">to</span><span> </span><span class="gd_word" id="S2.F1.4.w21">compute</span><span> </span><span class="gd_word" id="S2.F1.4.w22">a</span><span> </span><span class="gd_word" id="S2.F1.4.w23">distribution</span><span> </span><span class="gd_word" id="S2.F1.4.w24">over</span><span> </span><span class="gd_word" id="S2.F1.4.w25">the</span><span> </span><span class="gd_word" id="S2.F1.4.w26">retrieved</span><span> </span><span class="gd_word" id="S2.F1.4.w27">targets</span><span> </span><span class="gd_word" id="S2.F1.4.w28">after</span><span> </span><span class="gd_word" id="S2.F1.4.w29">applying</span><span> </span><span class="gd_word" id="S2.F1.4.w30">a</span><span> </span><span class="gd_word" id="S2.F1.4.w31">softmax</span><span> </span><span class="gd_word" id="S2.F1.4.w32">temperature.</span><span> </span><span class="gd_word" id="S2.F1.4.w33">This</span><span> </span><span class="gd_word" id="S2.F1.4.w34">distribution</span><span> </span><span class="gd_word" id="S2.F1.4.w35">is</span><span> </span><span class="gd_word" id="S2.F1.4.w36">the</span><span> </span><span class="gd_word" id="S2.F1.4.w37">final</span><span> </span><math id="S2.F1.6.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.F1.6.m3.1b"><mi id="S2.F1.6.m3.1.1" xref="S2.F1.6.m3.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S2.F1.5.w1">NN</span><span> </span><span class="gd_word" id="S2.F1.5.w2">distribution.</span></figcaption>
</figure>
<section id="S2.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Datastore creation</h5>

<div id="S2.SS0.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="S2.SS0.SSS0.Px1.p1.4" class="ltx_p"><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w1">Our</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w2">datastore</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w3">is</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w4">constructed</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w5">offline</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w6">and</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w7">consists</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w8">of</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w9">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w10">set</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w11">of</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w12">key-value</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w13">pairs.
The</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w14">key</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w15">is</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w16">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w17">high-dimensional</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w18">representation</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w19">of</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w20">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w21">entire</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w22">translation</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w23">context</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w24">computed</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w25">by</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w26">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w27">MT</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.1.w28">decoder,</span><span> </span><math id="S2.SS0.SSS0.Px1.p1.1.m1.2" class="ltx_Math" alttext="f(s,t_{1:i-1})" display="inline"><semantics id="S2.SS0.SSS0.Px1.p1.1.m1.2a"><mrow id="S2.SS0.SSS0.Px1.p1.1.m1.2.2" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.cmml"><mi id="S2.SS0.SSS0.Px1.p1.1.m1.2.2.3" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.3.cmml">f</mi><mo id="S2.SS0.SSS0.Px1.p1.1.m1.2.2.2" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.2.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.2.cmml"><mo stretchy="false" id="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.2" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.2.cmml">(</mo><mi id="S2.SS0.SSS0.Px1.p1.1.m1.1.1" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.cmml">s</mi><mo id="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.3" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.2.cmml">,</mo><msub id="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.2" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.2.cmml">t</mi><mrow id="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.3" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.cmml"><mn id="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.2" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.2.cmml">1</mn><mo id="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.1" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.1.cmml">:</mo><mrow id="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.3" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.3.cmml"><mi id="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.3.2" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.3.2.cmml">i</mi><mo id="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.3.1" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.3.1.cmml">-</mo><mn id="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.3.3" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><mo stretchy="false" id="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.1.4" xref="S2.SS0.SSS0.Px1.p1.1.m1.2.2.1.2.cmml">)</mo></mrow></mrow></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.2.w1">,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.2.w2">where</span><span> </span><math id="S2.SS0.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S2.SS0.SSS0.Px1.p1.2.m2.1a"><mi id="S2.SS0.SSS0.Px1.p1.2.m2.1.1" xref="S2.SS0.SSS0.Px1.p1.2.m2.1.1.cmml">f</mi></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w1"/><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w2">represents</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w3">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w4">mapping</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w5">from</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w6">input</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w7">to</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w8">an</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w9">intermediate</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w10">representation</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w11">of</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w12">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w13">decoder.
The</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w14">value</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w15">is</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w16">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w17">corresponding</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w18">ground</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w19">truth</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w20">target</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.3.w21">token</span><span> </span><math id="S2.SS0.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="t_{i}" display="inline"><semantics id="S2.SS0.SSS0.Px1.p1.3.m3.1a"><msub id="S2.SS0.SSS0.Px1.p1.3.m3.1.1" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p1.3.m3.1.1.2" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1.2.cmml">t</mi><mi id="S2.SS0.SSS0.Px1.p1.3.m3.1.1.3" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1.3.cmml">i</mi></msub></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.4.w1">.
For</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.4.w2">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.4.w3">parallel</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.4.w4">text</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.4.w5">collection</span><span> </span><math id="S2.SS0.SSS0.Px1.p1.4.m4.2" class="ltx_Math" alttext="(\mathcal{S},\mathcal{T})" display="inline"><semantics id="S2.SS0.SSS0.Px1.p1.4.m4.2a"><mrow id="S2.SS0.SSS0.Px1.p1.4.m4.2.3.2" xref="S2.SS0.SSS0.Px1.p1.4.m4.2.3.1.cmml"><mo stretchy="false" id="S2.SS0.SSS0.Px1.p1.4.m4.2.3.2.1" xref="S2.SS0.SSS0.Px1.p1.4.m4.2.3.1.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p1.4.m4.1.1" xref="S2.SS0.SSS0.Px1.p1.4.m4.1.1.cmml">𝒮</mi><mo id="S2.SS0.SSS0.Px1.p1.4.m4.2.3.2.2" xref="S2.SS0.SSS0.Px1.p1.4.m4.2.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p1.4.m4.2.2" xref="S2.SS0.SSS0.Px1.p1.4.m4.2.2.cmml">𝒯</mi><mo stretchy="false" id="S2.SS0.SSS0.Px1.p1.4.m4.2.3.2.3" xref="S2.SS0.SSS0.Px1.p1.4.m4.2.3.1.cmml">)</mo></mrow></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w1">,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w2">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w3">representations</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w4">are</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w5">generated</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w6">by</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w7">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w8">single</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w9">forward</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w10">pass</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w11">over</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w12">each</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w13">example</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w14">and</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w15">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w16">complete</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w17">datastore</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w18">is</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w19">defined</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w20">as</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.4.5.w21">follows:</span></p>
<table id="A3.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S2.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"/>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S2.E1.m1.9" class="ltx_Math" alttext="\displaystyle\left(\mathcal{K},\mathcal{V}\right)=\left\{(f(s,t_{1:i-1}),~{}t_%&#10;{i}),~{}\forall{t_{i}}\in t~{}|~{}(s,t)\in(\mathcal{S},\mathcal{T})\right\}" display="inline"><semantics id="S2.E1.m1.9a"><mrow id="S2.E1.m1.9.9" xref="S2.E1.m1.9.9.cmml"><mrow id="S2.E1.m1.9.9.4.2" xref="S2.E1.m1.9.9.4.1.cmml"><mo id="S2.E1.m1.9.9.4.2.1" xref="S2.E1.m1.9.9.4.1.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.1.1" xref="S2.E1.m1.1.1.cmml">𝒦</mi><mo id="S2.E1.m1.9.9.4.2.2" xref="S2.E1.m1.9.9.4.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.2.2" xref="S2.E1.m1.2.2.cmml">𝒱</mi><mo id="S2.E1.m1.9.9.4.2.3" xref="S2.E1.m1.9.9.4.1.cmml">)</mo></mrow><mo id="S2.E1.m1.9.9.3" xref="S2.E1.m1.9.9.3.cmml">=</mo><mrow id="S2.E1.m1.9.9.2.2" xref="S2.E1.m1.9.9.2.3.cmml"><mo id="S2.E1.m1.9.9.2.2.3" xref="S2.E1.m1.9.9.2.3.1.cmml">{</mo><mrow id="S2.E1.m1.8.8.1.1.1" xref="S2.E1.m1.8.8.1.1.1.cmml"><mrow id="S2.E1.m1.8.8.1.1.1.2.2" xref="S2.E1.m1.8.8.1.1.1.2.3.cmml"><mrow id="S2.E1.m1.8.8.1.1.1.1.1.1.2" xref="S2.E1.m1.8.8.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S2.E1.m1.8.8.1.1.1.1.1.1.2.3" xref="S2.E1.m1.8.8.1.1.1.1.1.1.3.cmml">(</mo><mrow id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.3.cmml">f</mi><mo id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml">(</mo><mi id="S2.E1.m1.3.3" xref="S2.E1.m1.3.3.cmml">s</mi><mo id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml">,</mo><msub id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.2.cmml">t</mi><mrow id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mn id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">1</mn><mo id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.1" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.3.2" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml">i</mi><mo id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.3.1" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">-</mo><mn id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><mo stretchy="false" id="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.1.4" xref="S2.E1.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo rspace="5.8pt" id="S2.E1.m1.8.8.1.1.1.1.1.1.2.4" xref="S2.E1.m1.8.8.1.1.1.1.1.1.3.cmml">,</mo><msub id="S2.E1.m1.8.8.1.1.1.1.1.1.2.2" xref="S2.E1.m1.8.8.1.1.1.1.1.1.2.2.cmml"><mi id="S2.E1.m1.8.8.1.1.1.1.1.1.2.2.2" xref="S2.E1.m1.8.8.1.1.1.1.1.1.2.2.2.cmml">t</mi><mi id="S2.E1.m1.8.8.1.1.1.1.1.1.2.2.3" xref="S2.E1.m1.8.8.1.1.1.1.1.1.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S2.E1.m1.8.8.1.1.1.1.1.1.2.5" xref="S2.E1.m1.8.8.1.1.1.1.1.1.3.cmml">)</mo></mrow><mo rspace="5.8pt" id="S2.E1.m1.8.8.1.1.1.2.2.3" xref="S2.E1.m1.8.8.1.1.1.2.3.cmml">,</mo><mrow id="S2.E1.m1.8.8.1.1.1.2.2.2" xref="S2.E1.m1.8.8.1.1.1.2.2.2.cmml"><mo id="S2.E1.m1.8.8.1.1.1.2.2.2.1" xref="S2.E1.m1.8.8.1.1.1.2.2.2.1.cmml">∀</mo><msub id="S2.E1.m1.8.8.1.1.1.2.2.2.2" xref="S2.E1.m1.8.8.1.1.1.2.2.2.2.cmml"><mi id="S2.E1.m1.8.8.1.1.1.2.2.2.2.2" xref="S2.E1.m1.8.8.1.1.1.2.2.2.2.2.cmml">t</mi><mi id="S2.E1.m1.8.8.1.1.1.2.2.2.2.3" xref="S2.E1.m1.8.8.1.1.1.2.2.2.2.3.cmml">i</mi></msub></mrow></mrow><mo id="S2.E1.m1.8.8.1.1.1.3" xref="S2.E1.m1.8.8.1.1.1.3.cmml">∈</mo><mpadded width="+3.3pt" id="S2.E1.m1.8.8.1.1.1.4" xref="S2.E1.m1.8.8.1.1.1.4.cmml"><mi id="S2.E1.m1.8.8.1.1.1.4a" xref="S2.E1.m1.8.8.1.1.1.4.cmml">t</mi></mpadded></mrow><mo rspace="5.8pt" stretchy="false" id="S2.E1.m1.9.9.2.2.4" xref="S2.E1.m1.9.9.2.3.1.cmml">|</mo><mrow id="S2.E1.m1.9.9.2.2.2" xref="S2.E1.m1.9.9.2.2.2.cmml"><mrow id="S2.E1.m1.9.9.2.2.2.2.2" xref="S2.E1.m1.9.9.2.2.2.2.1.cmml"><mo stretchy="false" id="S2.E1.m1.9.9.2.2.2.2.2.1" xref="S2.E1.m1.9.9.2.2.2.2.1.cmml">(</mo><mi id="S2.E1.m1.4.4" xref="S2.E1.m1.4.4.cmml">s</mi><mo id="S2.E1.m1.9.9.2.2.2.2.2.2" xref="S2.E1.m1.9.9.2.2.2.2.1.cmml">,</mo><mi id="S2.E1.m1.5.5" xref="S2.E1.m1.5.5.cmml">t</mi><mo stretchy="false" id="S2.E1.m1.9.9.2.2.2.2.2.3" xref="S2.E1.m1.9.9.2.2.2.2.1.cmml">)</mo></mrow><mo id="S2.E1.m1.9.9.2.2.2.1" xref="S2.E1.m1.9.9.2.2.2.1.cmml">∈</mo><mrow id="S2.E1.m1.9.9.2.2.2.3.2" xref="S2.E1.m1.9.9.2.2.2.3.1.cmml"><mo stretchy="false" id="S2.E1.m1.9.9.2.2.2.3.2.1" xref="S2.E1.m1.9.9.2.2.2.3.1.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.6.6" xref="S2.E1.m1.6.6.cmml">𝒮</mi><mo id="S2.E1.m1.9.9.2.2.2.3.2.2" xref="S2.E1.m1.9.9.2.2.2.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.7.7" xref="S2.E1.m1.7.7.cmml">𝒯</mi><mo stretchy="false" id="S2.E1.m1.9.9.2.2.2.3.2.3" xref="S2.E1.m1.9.9.2.2.2.3.1.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.9.9.2.2.5" xref="S2.E1.m1.9.9.2.3.1.cmml">}</mo></mrow></mrow></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"/>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S2.SS0.SSS0.Px1.p1.5" class="ltx_p"><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w1">Tokens</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w2">from</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w3">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w4">source</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w5">language</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w6">are</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w7">not</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w8">stored</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w9">directly</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w10">as</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w11">values</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w12">in</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w13">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w14">datastore.
Conditioning</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w15">on</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w16">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w17">source</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w18">is</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w19">implicit</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w20">via</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w21">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w22">keys,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w23">and</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w24">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w25">values</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w26">are</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w27">only</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w28">target</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w29">language</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px1.p1.5.1.w30">tokens.</span></p>
</div>
</section>
<section id="S2.SS0.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Generation</h5>

<div id="S2.SS0.SSS0.Px2.p1" class="ltx_para ltx_noindent">
<p id="S2.SS0.SSS0.Px2.p1.9" class="ltx_p"><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.1.w1">At</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.1.w2">test</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.1.w3">time,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.1.w4">given</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.1.w5">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.1.w6">source</span><span> </span><math id="S2.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.1.m1.1a"><mi id="S2.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1.cmml">x</mi></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.2.w1">,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.2.w2">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.2.w3">model</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.2.w4">outputs</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.2.w5">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.2.w6">distribution</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.2.w7">over</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.2.w8">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.2.w9">vocabulary</span><span> </span><math id="S2.SS0.SSS0.Px2.p1.2.m2.2" class="ltx_Math" alttext="p_{MT}(y_{i}|x,\hat{y}_{1:i-1})" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.2.m2.2a"><mrow id="S2.SS0.SSS0.Px2.p1.2.m2.2.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.cmml"><msub id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.3" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.3.cmml"><mi id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.3.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.3.2.cmml">p</mi><mrow id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.3.3" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.3.3.cmml"><mi id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.3.3.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.3.3.2.cmml">MT</mi></mrow></msub><mo id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.2.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.cmml"><mo stretchy="false" id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.cmml">(</mo><mrow id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.cmml"><msub id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.3.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.3.2.cmml">y</mi><mi id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.3.3" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.3.3.cmml">i</mi></msub><mo lspace="2.5pt" rspace="2.5pt" stretchy="false" id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.2.cmml">|</mo><mrow id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px2.p1.2.m2.1.1" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.cmml">x</mi><mo id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.2.cmml">,</mo><msub id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.cmml"><mover accent="true" id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.2.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.2.2.cmml">y</mi><mo stretchy="false" id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.2.1" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.3.cmml"><mn id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.3.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.3.2.cmml">1</mn><mo id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.3.1" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.3.3" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.cmml"><mi id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.2.cmml">i</mi><mo id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.1" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.1.cmml">-</mo><mn id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.3" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub></mrow></mrow><mo stretchy="false" id="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.3" xref="S2.SS0.SSS0.Px2.p1.2.m2.2.2.1.1.1.cmml">)</mo></mrow></mrow></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.3.w1"/><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.3.w2">for</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.3.w3">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.3.w4">target</span><span> </span><math id="S2.SS0.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="y_{i}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.3.m3.1a"><msub id="S2.SS0.SSS0.Px2.p1.3.m3.1.1" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.2" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.2.cmml">y</mi><mi id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.3" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.3.cmml">i</mi></msub></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.4.w1"/><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.4.w2">at</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.4.w3">every</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.4.w4">step</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.4.w5">of</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.4.w6">generation,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.4.w7">where</span><span> </span><math id="S2.SS0.SSS0.Px2.p1.4.m4.1" class="ltx_Math" alttext="\hat{y}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.4.m4.1a"><mover accent="true" id="S2.SS0.SSS0.Px2.p1.4.m4.1.1" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.4.m4.1.1.2" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1.2.cmml">y</mi><mo stretchy="false" id="S2.SS0.SSS0.Px2.p1.4.m4.1.1.1" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1.1.cmml">^</mo></mover></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.5.w1"/><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.5.w2">represents</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.5.w3">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.5.w4">generated</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.5.w5">tokens.
The</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.5.w6">model</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.5.w7">also</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.5.w8">outputs</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.5.w9">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.5.w10">representation</span><span> </span><math id="S2.SS0.SSS0.Px2.p1.5.m5.2" class="ltx_Math" alttext="f(x,\hat{y}_{1:i-1})" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.5.m5.2a"><mrow id="S2.SS0.SSS0.Px2.p1.5.m5.2.2" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.cmml"><mi id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.3" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.3.cmml">f</mi><mo id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.2" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.2.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.2.cmml"><mo stretchy="false" id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.2" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.2.cmml">(</mo><mi id="S2.SS0.SSS0.Px2.p1.5.m5.1.1" xref="S2.SS0.SSS0.Px2.p1.5.m5.1.1.cmml">x</mi><mo id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.3" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.2.cmml">,</mo><msub id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.cmml"><mover accent="true" id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.2.2" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.2.2.cmml">y</mi><mo stretchy="false" id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.2.1" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.2.1.cmml">^</mo></mover><mrow id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.3.cmml"><mn id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.3.2" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.3.2.cmml">1</mn><mo id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.3.1" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.3.1.cmml">:</mo><mrow id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.3.3" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.3.3.cmml"><mi id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.3.3.2" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.3.3.2.cmml">i</mi><mo id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.3.3.1" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.3.3.1.cmml">-</mo><mn id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.3.3.3" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><mo stretchy="false" id="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.1.4" xref="S2.SS0.SSS0.Px2.p1.5.m5.2.2.1.2.cmml">)</mo></mrow></mrow></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.6.w1">,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.6.w2">which</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.6.w3">is</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.6.w4">used</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.6.w5">to</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.6.w6">query</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.6.w7">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.6.w8">datastore</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.6.w9">for</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.6.w10">the</span><span> </span><math id="S2.SS0.SSS0.Px2.p1.6.m6.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.6.m6.1a"><mi id="S2.SS0.SSS0.Px2.p1.6.m6.1.1" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.7.w1"/><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.7.w2">nearest</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.7.w3">neighbors</span><span> </span><math id="S2.SS0.SSS0.Px2.p1.7.m7.1" class="ltx_Math" alttext="\mathcal{N}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px2.p1.7.m7.1.1" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.cmml">𝒩</mi></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.8.w1"/><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.8.w2">according</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.8.w3">to</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.8.w4">squared-</span><math id="S2.SS0.SSS0.Px2.p1.8.m8.1" class="ltx_Math" alttext="L^{2}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.8.m8.1a"><msup id="S2.SS0.SSS0.Px2.p1.8.m8.1.1" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.2" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1.2.cmml">L</mi><mn id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.3" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1.3.cmml">2</mn></msup></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.9.w1"/><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.9.w2">distance,</span><span> </span><math id="S2.SS0.SSS0.Px2.p1.9.m9.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.9.m9.1a"><mi id="S2.SS0.SSS0.Px2.p1.9.m9.1.1" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.cmml">d</mi></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.10.w1">.
In</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.10.w2">practice,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.10.w3">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.10.w4">search</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.10.w5">over</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.10.w6">billions</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.10.w7">of</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.10.w8">key-value</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.10.w9">pairs</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.10.w10">is</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.10.w11">carried</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.10.w12">out</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.10.w13">using</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.10.w14">Faiss</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Johnson et al., <a href="#bib.bib21" title="" class="ltx_ref">2017</a>)</cite><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.11.w1">,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.11.w2">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.11.w3">library</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.11.w4">for</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.11.w5">fast</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.11.w6">nearest</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.11.w7">neighbor</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.11.w8">search</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.11.w9">in</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.11.w10">high-dimensional</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p1.9.11.w11">spaces.</span></p>
</div>
<div id="S2.SS0.SSS0.Px2.p2" class="ltx_para ltx_noindent">
<p id="S2.SS0.SSS0.Px2.p2.1" class="ltx_p"><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w1">The</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w2">retrieved</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w3">set</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w4">is</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w5">converted</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w6">into</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w7">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w8">distribution</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w9">over</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w10">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w11">vocabulary</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w12">by</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w13">applying</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w14">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w15">softmax</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w16">with</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.1.w17">temperature</span><span> </span><math id="S2.SS0.SSS0.Px2.p2.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S2.SS0.SSS0.Px2.p2.1.m1.1a"><mi id="S2.SS0.SSS0.Px2.p2.1.m1.1.1" xref="S2.SS0.SSS0.Px2.p2.1.m1.1.1.cmml">T</mi></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w1"/><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w2">to</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w3">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w4">negative</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w5">distances</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w6">and</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w7">aggregating</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w8">over</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w9">multiple</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w10">occurrences</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w11">of</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w12">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w13">same</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w14">vocabulary</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w15">item.</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w16">Using</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w17">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w18">temperature</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w19">greater</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w20">than</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w21">one</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w22">flattens</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w23">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w24">distribution,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w25">and</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w26">prevents</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w27">overfitting</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w28">to</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w29">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w30">most</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w31">similar</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p2.1.2.w32">retrievals.
</span></p>
<table id="A3.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S2.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"/>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S2.E2.m1.8" class="ltx_Math" alttext="\displaystyle p_{\text{kNN}}(y_{i}|x,\hat{y}_{1:i-1})\propto\sum_{(k_{j},v_{j}%&#10;)\in\mathcal{N}}{\mathbbm{1}_{y_{i}=v_{j}}\exp\left(\frac{-d(k_{j},f(x,\hat{y}%&#10;_{1:i-1}))}{T}\right)}" display="inline"><semantics id="S2.E2.m1.8a"><mrow id="S2.E2.m1.8.8" xref="S2.E2.m1.8.8.cmml"><mrow id="S2.E2.m1.8.8.1" xref="S2.E2.m1.8.8.1.cmml"><msub id="S2.E2.m1.8.8.1.3" xref="S2.E2.m1.8.8.1.3.cmml"><mi id="S2.E2.m1.8.8.1.3.2" xref="S2.E2.m1.8.8.1.3.2.cmml">p</mi><mi id="S2.E2.m1.8.8.1.3.3" xref="S2.E2.m1.8.8.1.3.3a.cmml">kNN</mi></msub><mo id="S2.E2.m1.8.8.1.2" xref="S2.E2.m1.8.8.1.2.cmml">⁢</mo><mrow id="S2.E2.m1.8.8.1.1.1" xref="S2.E2.m1.8.8.1.1.1.1.cmml"><mo stretchy="false" id="S2.E2.m1.8.8.1.1.1.2" xref="S2.E2.m1.8.8.1.1.1.1.cmml">(</mo><mrow id="S2.E2.m1.8.8.1.1.1.1" xref="S2.E2.m1.8.8.1.1.1.1.cmml"><msub id="S2.E2.m1.8.8.1.1.1.1.3" xref="S2.E2.m1.8.8.1.1.1.1.3.cmml"><mi id="S2.E2.m1.8.8.1.1.1.1.3.2" xref="S2.E2.m1.8.8.1.1.1.1.3.2.cmml">y</mi><mi id="S2.E2.m1.8.8.1.1.1.1.3.3" xref="S2.E2.m1.8.8.1.1.1.1.3.3.cmml">i</mi></msub><mo lspace="2.5pt" rspace="2.5pt" stretchy="false" id="S2.E2.m1.8.8.1.1.1.1.2" xref="S2.E2.m1.8.8.1.1.1.1.2.cmml">|</mo><mrow id="S2.E2.m1.8.8.1.1.1.1.1.1" xref="S2.E2.m1.8.8.1.1.1.1.1.2.cmml"><mi id="S2.E2.m1.6.6" xref="S2.E2.m1.6.6.cmml">x</mi><mo id="S2.E2.m1.8.8.1.1.1.1.1.1.2" xref="S2.E2.m1.8.8.1.1.1.1.1.2.cmml">,</mo><msub id="S2.E2.m1.8.8.1.1.1.1.1.1.1" xref="S2.E2.m1.8.8.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S2.E2.m1.8.8.1.1.1.1.1.1.1.2" xref="S2.E2.m1.8.8.1.1.1.1.1.1.1.2.cmml"><mi id="S2.E2.m1.8.8.1.1.1.1.1.1.1.2.2" xref="S2.E2.m1.8.8.1.1.1.1.1.1.1.2.2.cmml">y</mi><mo stretchy="false" id="S2.E2.m1.8.8.1.1.1.1.1.1.1.2.1" xref="S2.E2.m1.8.8.1.1.1.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S2.E2.m1.8.8.1.1.1.1.1.1.1.3" xref="S2.E2.m1.8.8.1.1.1.1.1.1.1.3.cmml"><mn id="S2.E2.m1.8.8.1.1.1.1.1.1.1.3.2" xref="S2.E2.m1.8.8.1.1.1.1.1.1.1.3.2.cmml">1</mn><mo id="S2.E2.m1.8.8.1.1.1.1.1.1.1.3.1" xref="S2.E2.m1.8.8.1.1.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S2.E2.m1.8.8.1.1.1.1.1.1.1.3.3" xref="S2.E2.m1.8.8.1.1.1.1.1.1.1.3.3.cmml"><mi id="S2.E2.m1.8.8.1.1.1.1.1.1.1.3.3.2" xref="S2.E2.m1.8.8.1.1.1.1.1.1.1.3.3.2.cmml">i</mi><mo id="S2.E2.m1.8.8.1.1.1.1.1.1.1.3.3.1" xref="S2.E2.m1.8.8.1.1.1.1.1.1.1.3.3.1.cmml">-</mo><mn id="S2.E2.m1.8.8.1.1.1.1.1.1.1.3.3.3" xref="S2.E2.m1.8.8.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub></mrow></mrow><mo stretchy="false" id="S2.E2.m1.8.8.1.1.1.3" xref="S2.E2.m1.8.8.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E2.m1.8.8.2" xref="S2.E2.m1.8.8.2.cmml">∝</mo><mrow id="S2.E2.m1.8.8.3" xref="S2.E2.m1.8.8.3.cmml"><mstyle displaystyle="true" id="S2.E2.m1.8.8.3.1" xref="S2.E2.m1.8.8.3.1.cmml"><munder id="S2.E2.m1.8.8.3.1a" xref="S2.E2.m1.8.8.3.1.cmml"><mo largeop="true" movablelimits="false" symmetric="true" id="S2.E2.m1.8.8.3.1.2" xref="S2.E2.m1.8.8.3.1.2.cmml">∑</mo><mrow id="S2.E2.m1.2.2.2" xref="S2.E2.m1.2.2.2.cmml"><mrow id="S2.E2.m1.2.2.2.2.2" xref="S2.E2.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.E2.m1.2.2.2.2.2.3" xref="S2.E2.m1.2.2.2.2.3.cmml">(</mo><msub id="S2.E2.m1.1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.1.cmml"><mi id="S2.E2.m1.1.1.1.1.1.1.2" xref="S2.E2.m1.1.1.1.1.1.1.2.cmml">k</mi><mi id="S2.E2.m1.1.1.1.1.1.1.3" xref="S2.E2.m1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S2.E2.m1.2.2.2.2.2.4" xref="S2.E2.m1.2.2.2.2.3.cmml">,</mo><msub id="S2.E2.m1.2.2.2.2.2.2" xref="S2.E2.m1.2.2.2.2.2.2.cmml"><mi id="S2.E2.m1.2.2.2.2.2.2.2" xref="S2.E2.m1.2.2.2.2.2.2.2.cmml">v</mi><mi id="S2.E2.m1.2.2.2.2.2.2.3" xref="S2.E2.m1.2.2.2.2.2.2.3.cmml">j</mi></msub><mo stretchy="false" id="S2.E2.m1.2.2.2.2.2.5" xref="S2.E2.m1.2.2.2.2.3.cmml">)</mo></mrow><mo id="S2.E2.m1.2.2.2.3" xref="S2.E2.m1.2.2.2.3.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.2.2.2.4" xref="S2.E2.m1.2.2.2.4.cmml">𝒩</mi></mrow></munder></mstyle><mrow id="S2.E2.m1.8.8.3.2" xref="S2.E2.m1.8.8.3.2.cmml"><msub id="S2.E2.m1.8.8.3.2.2" xref="S2.E2.m1.8.8.3.2.2.cmml"><mn id="S2.E2.m1.8.8.3.2.2.2" xref="S2.E2.m1.8.8.3.2.2.2.cmml">𝟙</mn><mrow id="S2.E2.m1.8.8.3.2.2.3" xref="S2.E2.m1.8.8.3.2.2.3.cmml"><msub id="S2.E2.m1.8.8.3.2.2.3.2" xref="S2.E2.m1.8.8.3.2.2.3.2.cmml"><mi id="S2.E2.m1.8.8.3.2.2.3.2.2" xref="S2.E2.m1.8.8.3.2.2.3.2.2.cmml">y</mi><mi id="S2.E2.m1.8.8.3.2.2.3.2.3" xref="S2.E2.m1.8.8.3.2.2.3.2.3.cmml">i</mi></msub><mo id="S2.E2.m1.8.8.3.2.2.3.1" xref="S2.E2.m1.8.8.3.2.2.3.1.cmml">=</mo><msub id="S2.E2.m1.8.8.3.2.2.3.3" xref="S2.E2.m1.8.8.3.2.2.3.3.cmml"><mi id="S2.E2.m1.8.8.3.2.2.3.3.2" xref="S2.E2.m1.8.8.3.2.2.3.3.2.cmml">v</mi><mi id="S2.E2.m1.8.8.3.2.2.3.3.3" xref="S2.E2.m1.8.8.3.2.2.3.3.3.cmml">j</mi></msub></mrow></msub><mo id="S2.E2.m1.8.8.3.2.1" xref="S2.E2.m1.8.8.3.2.1.cmml">⁢</mo><mrow id="S2.E2.m1.8.8.3.2.3.2" xref="S2.E2.m1.8.8.3.2.3.1.cmml"><mi id="S2.E2.m1.7.7" xref="S2.E2.m1.7.7.cmml">exp</mi><mo id="S2.E2.m1.8.8.3.2.3.2a" xref="S2.E2.m1.8.8.3.2.3.1.cmml">⁡</mo><mrow id="S2.E2.m1.8.8.3.2.3.2.1" xref="S2.E2.m1.8.8.3.2.3.1.cmml"><mo id="S2.E2.m1.8.8.3.2.3.2.1.1" xref="S2.E2.m1.8.8.3.2.3.1.cmml">(</mo><mstyle displaystyle="true" id="S2.E2.m1.5.5" xref="S2.E2.m1.5.5.cmml"><mfrac id="S2.E2.m1.5.5a" xref="S2.E2.m1.5.5.cmml"><mrow id="S2.E2.m1.5.5.3" xref="S2.E2.m1.5.5.3.cmml"><mo id="S2.E2.m1.5.5.3.4" xref="S2.E2.m1.5.5.3.4.cmml">-</mo><mrow id="S2.E2.m1.5.5.3.3" xref="S2.E2.m1.5.5.3.3.cmml"><mi id="S2.E2.m1.5.5.3.3.4" xref="S2.E2.m1.5.5.3.3.4.cmml">d</mi><mo id="S2.E2.m1.5.5.3.3.3" xref="S2.E2.m1.5.5.3.3.3.cmml">⁢</mo><mrow id="S2.E2.m1.5.5.3.3.2.2" xref="S2.E2.m1.5.5.3.3.2.3.cmml"><mo stretchy="false" id="S2.E2.m1.5.5.3.3.2.2.3" xref="S2.E2.m1.5.5.3.3.2.3.cmml">(</mo><msub id="S2.E2.m1.4.4.2.2.1.1.1" xref="S2.E2.m1.4.4.2.2.1.1.1.cmml"><mi id="S2.E2.m1.4.4.2.2.1.1.1.2" xref="S2.E2.m1.4.4.2.2.1.1.1.2.cmml">k</mi><mi id="S2.E2.m1.4.4.2.2.1.1.1.3" xref="S2.E2.m1.4.4.2.2.1.1.1.3.cmml">j</mi></msub><mo id="S2.E2.m1.5.5.3.3.2.2.4" xref="S2.E2.m1.5.5.3.3.2.3.cmml">,</mo><mrow id="S2.E2.m1.5.5.3.3.2.2.2" xref="S2.E2.m1.5.5.3.3.2.2.2.cmml"><mi id="S2.E2.m1.5.5.3.3.2.2.2.3" xref="S2.E2.m1.5.5.3.3.2.2.2.3.cmml">f</mi><mo id="S2.E2.m1.5.5.3.3.2.2.2.2" xref="S2.E2.m1.5.5.3.3.2.2.2.2.cmml">⁢</mo><mrow id="S2.E2.m1.5.5.3.3.2.2.2.1.1" xref="S2.E2.m1.5.5.3.3.2.2.2.1.2.cmml"><mo stretchy="false" id="S2.E2.m1.5.5.3.3.2.2.2.1.1.2" xref="S2.E2.m1.5.5.3.3.2.2.2.1.2.cmml">(</mo><mi id="S2.E2.m1.3.3.1.1" xref="S2.E2.m1.3.3.1.1.cmml">x</mi><mo id="S2.E2.m1.5.5.3.3.2.2.2.1.1.3" xref="S2.E2.m1.5.5.3.3.2.2.2.1.2.cmml">,</mo><msub id="S2.E2.m1.5.5.3.3.2.2.2.1.1.1" xref="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.cmml"><mover accent="true" id="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.2" xref="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.2.cmml"><mi id="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.2.2" xref="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.2.2.cmml">y</mi><mo stretchy="false" id="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.2.1" xref="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.2.1.cmml">^</mo></mover><mrow id="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.3" xref="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.3.cmml"><mn id="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.3.2" xref="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.3.2.cmml">1</mn><mo id="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.3.1" xref="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.3.1.cmml">:</mo><mrow id="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.3.3" xref="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.3.3.cmml"><mi id="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.3.3.2" xref="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.3.3.2.cmml">i</mi><mo id="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.3.3.1" xref="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.3.3.1.cmml">-</mo><mn id="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.3.3.3" xref="S2.E2.m1.5.5.3.3.2.2.2.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><mo stretchy="false" id="S2.E2.m1.5.5.3.3.2.2.2.1.1.4" xref="S2.E2.m1.5.5.3.3.2.2.2.1.2.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.E2.m1.5.5.3.3.2.2.5" xref="S2.E2.m1.5.5.3.3.2.3.cmml">)</mo></mrow></mrow></mrow><mi id="S2.E2.m1.5.5.5" xref="S2.E2.m1.5.5.5.cmml">T</mi></mfrac></mstyle><mo id="S2.E2.m1.8.8.3.2.3.2.1.2" xref="S2.E2.m1.8.8.3.2.3.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"/>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS0.SSS0.Px2.p3" class="ltx_para ltx_noindent">
<p id="S2.SS0.SSS0.Px2.p3.4" class="ltx_p"><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.1.w1">While</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.1.w2">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.1.w3">pure</span><span> </span><math id="S2.SS0.SSS0.Px2.p3.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.SS0.SSS0.Px2.p3.1.m1.1a"><mi id="S2.SS0.SSS0.Px2.p3.1.m1.1.1" xref="S2.SS0.SSS0.Px2.p3.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w1">NN</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w2">approach</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w3">is</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w4">effective,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w5">we</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w6">improve</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w7">results</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w8">by</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w9">interpolating</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w10">with</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w11">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w12">base</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w13">model</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w14">distribution,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w15">which</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w16">is</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w17">more</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w18">robust</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w19">in</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w20">cases</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w21">without</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w22">relevant</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w23">cached</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w24">examples.</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w25">The</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w26">model</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.2.w27">and</span><span> </span><math id="S2.SS0.SSS0.Px2.p3.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.SS0.SSS0.Px2.p3.2.m2.1a"><mi id="S2.SS0.SSS0.Px2.p3.2.m2.1.1" xref="S2.SS0.SSS0.Px2.p3.2.m2.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.3.w1">NN</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.3.w2">distributions</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.3.w3">are</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.3.w4">interpolated</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.3.w5">with</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.3.w6">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.3.w7">tuned</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.3.w8">parameter</span><span> </span><math id="S2.SS0.SSS0.Px2.p3.3.m3.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S2.SS0.SSS0.Px2.p3.3.m3.1a"><mi id="S2.SS0.SSS0.Px2.p3.3.m3.1.1" xref="S2.SS0.SSS0.Px2.p3.3.m3.1.1.cmml">λ</mi></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.4.w1">,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.4.w2">resulting</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.4.w3">in</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.4.w4">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.4.w5">final</span><span> </span><math id="S2.SS0.SSS0.Px2.p3.4.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.SS0.SSS0.Px2.p3.4.m4.1a"><mi id="S2.SS0.SSS0.Px2.p3.4.m4.1.1" xref="S2.SS0.SSS0.Px2.p3.4.m4.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.5.w1">NN-MT</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p3.4.5.w2">distribution:</span></p>
<table id="A3.EGx3" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S2.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"/>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S2.E3.m1.7" class="ltx_Math" alttext="\displaystyle p(y_{i}|x,\hat{y}_{1:i-1})=\lambda~{}p_{\text{kNN}}(y_{i}|x,\hat%&#10;{y}_{1:i-1})+(1-\lambda)~{}p_{\text{MT}}(y_{i}|x,\hat{y}_{1:i-1})" display="inline"><semantics id="S2.E3.m1.7a"><mrow id="S2.E3.m1.7.7" xref="S2.E3.m1.7.7.cmml"><mrow id="S2.E3.m1.4.4.1" xref="S2.E3.m1.4.4.1.cmml"><mi id="S2.E3.m1.4.4.1.3" xref="S2.E3.m1.4.4.1.3.cmml">p</mi><mo id="S2.E3.m1.4.4.1.2" xref="S2.E3.m1.4.4.1.2.cmml">⁢</mo><mrow id="S2.E3.m1.4.4.1.1.1" xref="S2.E3.m1.4.4.1.1.1.1.cmml"><mo stretchy="false" id="S2.E3.m1.4.4.1.1.1.2" xref="S2.E3.m1.4.4.1.1.1.1.cmml">(</mo><mrow id="S2.E3.m1.4.4.1.1.1.1" xref="S2.E3.m1.4.4.1.1.1.1.cmml"><msub id="S2.E3.m1.4.4.1.1.1.1.3" xref="S2.E3.m1.4.4.1.1.1.1.3.cmml"><mi id="S2.E3.m1.4.4.1.1.1.1.3.2" xref="S2.E3.m1.4.4.1.1.1.1.3.2.cmml">y</mi><mi id="S2.E3.m1.4.4.1.1.1.1.3.3" xref="S2.E3.m1.4.4.1.1.1.1.3.3.cmml">i</mi></msub><mo lspace="2.5pt" rspace="2.5pt" stretchy="false" id="S2.E3.m1.4.4.1.1.1.1.2" xref="S2.E3.m1.4.4.1.1.1.1.2.cmml">|</mo><mrow id="S2.E3.m1.4.4.1.1.1.1.1.1" xref="S2.E3.m1.4.4.1.1.1.1.1.2.cmml"><mi id="S2.E3.m1.1.1" xref="S2.E3.m1.1.1.cmml">x</mi><mo id="S2.E3.m1.4.4.1.1.1.1.1.1.2" xref="S2.E3.m1.4.4.1.1.1.1.1.2.cmml">,</mo><msub id="S2.E3.m1.4.4.1.1.1.1.1.1.1" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S2.E3.m1.4.4.1.1.1.1.1.1.1.2" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.2.cmml"><mi id="S2.E3.m1.4.4.1.1.1.1.1.1.1.2.2" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.2.2.cmml">y</mi><mo stretchy="false" id="S2.E3.m1.4.4.1.1.1.1.1.1.1.2.1" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S2.E3.m1.4.4.1.1.1.1.1.1.1.3" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.3.cmml"><mn id="S2.E3.m1.4.4.1.1.1.1.1.1.1.3.2" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.3.2.cmml">1</mn><mo id="S2.E3.m1.4.4.1.1.1.1.1.1.1.3.1" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S2.E3.m1.4.4.1.1.1.1.1.1.1.3.3" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.3.3.cmml"><mi id="S2.E3.m1.4.4.1.1.1.1.1.1.1.3.3.2" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.3.3.2.cmml">i</mi><mo id="S2.E3.m1.4.4.1.1.1.1.1.1.1.3.3.1" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.3.3.1.cmml">-</mo><mn id="S2.E3.m1.4.4.1.1.1.1.1.1.1.3.3.3" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub></mrow></mrow><mo stretchy="false" id="S2.E3.m1.4.4.1.1.1.3" xref="S2.E3.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.7.7.5" xref="S2.E3.m1.7.7.5.cmml">=</mo><mrow id="S2.E3.m1.7.7.4" xref="S2.E3.m1.7.7.4.cmml"><mrow id="S2.E3.m1.5.5.2.1" xref="S2.E3.m1.5.5.2.1.cmml"><mpadded width="+3.3pt" id="S2.E3.m1.5.5.2.1.3" xref="S2.E3.m1.5.5.2.1.3.cmml"><mi id="S2.E3.m1.5.5.2.1.3a" xref="S2.E3.m1.5.5.2.1.3.cmml">λ</mi></mpadded><mo id="S2.E3.m1.5.5.2.1.2" xref="S2.E3.m1.5.5.2.1.2.cmml">⁢</mo><msub id="S2.E3.m1.5.5.2.1.4" xref="S2.E3.m1.5.5.2.1.4.cmml"><mi id="S2.E3.m1.5.5.2.1.4.2" xref="S2.E3.m1.5.5.2.1.4.2.cmml">p</mi><mi id="S2.E3.m1.5.5.2.1.4.3" xref="S2.E3.m1.5.5.2.1.4.3a.cmml">kNN</mi></msub><mo id="S2.E3.m1.5.5.2.1.2a" xref="S2.E3.m1.5.5.2.1.2.cmml">⁢</mo><mrow id="S2.E3.m1.5.5.2.1.1.1" xref="S2.E3.m1.5.5.2.1.1.1.1.cmml"><mo stretchy="false" id="S2.E3.m1.5.5.2.1.1.1.2" xref="S2.E3.m1.5.5.2.1.1.1.1.cmml">(</mo><mrow id="S2.E3.m1.5.5.2.1.1.1.1" xref="S2.E3.m1.5.5.2.1.1.1.1.cmml"><msub id="S2.E3.m1.5.5.2.1.1.1.1.3" xref="S2.E3.m1.5.5.2.1.1.1.1.3.cmml"><mi id="S2.E3.m1.5.5.2.1.1.1.1.3.2" xref="S2.E3.m1.5.5.2.1.1.1.1.3.2.cmml">y</mi><mi id="S2.E3.m1.5.5.2.1.1.1.1.3.3" xref="S2.E3.m1.5.5.2.1.1.1.1.3.3.cmml">i</mi></msub><mo lspace="2.5pt" rspace="2.5pt" stretchy="false" id="S2.E3.m1.5.5.2.1.1.1.1.2" xref="S2.E3.m1.5.5.2.1.1.1.1.2.cmml">|</mo><mrow id="S2.E3.m1.5.5.2.1.1.1.1.1.1" xref="S2.E3.m1.5.5.2.1.1.1.1.1.2.cmml"><mi id="S2.E3.m1.2.2" xref="S2.E3.m1.2.2.cmml">x</mi><mo id="S2.E3.m1.5.5.2.1.1.1.1.1.1.2" xref="S2.E3.m1.5.5.2.1.1.1.1.1.2.cmml">,</mo><msub id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.2" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.2.cmml"><mi id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.2.2" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.2.2.cmml">y</mi><mo stretchy="false" id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.2.1" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.3" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.3.cmml"><mn id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.3.2" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.3.2.cmml">1</mn><mo id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.3.1" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.3.3" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.3.3.cmml"><mi id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.3.3.2" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.3.3.2.cmml">i</mi><mo id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.3.3.1" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.3.3.1.cmml">-</mo><mn id="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.3.3.3" xref="S2.E3.m1.5.5.2.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub></mrow></mrow><mo stretchy="false" id="S2.E3.m1.5.5.2.1.1.1.3" xref="S2.E3.m1.5.5.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.7.7.4.4" xref="S2.E3.m1.7.7.4.4.cmml">+</mo><mrow id="S2.E3.m1.7.7.4.3" xref="S2.E3.m1.7.7.4.3.cmml"><mrow id="S2.E3.m1.6.6.3.2.1.1" xref="S2.E3.m1.6.6.3.2.1.1.1.cmml"><mo stretchy="false" id="S2.E3.m1.6.6.3.2.1.1.2" xref="S2.E3.m1.6.6.3.2.1.1.1.cmml">(</mo><mrow id="S2.E3.m1.6.6.3.2.1.1.1" xref="S2.E3.m1.6.6.3.2.1.1.1.cmml"><mn id="S2.E3.m1.6.6.3.2.1.1.1.2" xref="S2.E3.m1.6.6.3.2.1.1.1.2.cmml">1</mn><mo id="S2.E3.m1.6.6.3.2.1.1.1.1" xref="S2.E3.m1.6.6.3.2.1.1.1.1.cmml">-</mo><mi id="S2.E3.m1.6.6.3.2.1.1.1.3" xref="S2.E3.m1.6.6.3.2.1.1.1.3.cmml">λ</mi></mrow><mo rspace="5.8pt" stretchy="false" id="S2.E3.m1.6.6.3.2.1.1.3" xref="S2.E3.m1.6.6.3.2.1.1.1.cmml">)</mo></mrow><mo id="S2.E3.m1.7.7.4.3.3" xref="S2.E3.m1.7.7.4.3.3.cmml">⁢</mo><msub id="S2.E3.m1.7.7.4.3.4" xref="S2.E3.m1.7.7.4.3.4.cmml"><mi id="S2.E3.m1.7.7.4.3.4.2" xref="S2.E3.m1.7.7.4.3.4.2.cmml">p</mi><mi id="S2.E3.m1.7.7.4.3.4.3" xref="S2.E3.m1.7.7.4.3.4.3a.cmml">MT</mi></msub><mo id="S2.E3.m1.7.7.4.3.3a" xref="S2.E3.m1.7.7.4.3.3.cmml">⁢</mo><mrow id="S2.E3.m1.7.7.4.3.2.1" xref="S2.E3.m1.7.7.4.3.2.1.1.cmml"><mo stretchy="false" id="S2.E3.m1.7.7.4.3.2.1.2" xref="S2.E3.m1.7.7.4.3.2.1.1.cmml">(</mo><mrow id="S2.E3.m1.7.7.4.3.2.1.1" xref="S2.E3.m1.7.7.4.3.2.1.1.cmml"><msub id="S2.E3.m1.7.7.4.3.2.1.1.3" xref="S2.E3.m1.7.7.4.3.2.1.1.3.cmml"><mi id="S2.E3.m1.7.7.4.3.2.1.1.3.2" xref="S2.E3.m1.7.7.4.3.2.1.1.3.2.cmml">y</mi><mi id="S2.E3.m1.7.7.4.3.2.1.1.3.3" xref="S2.E3.m1.7.7.4.3.2.1.1.3.3.cmml">i</mi></msub><mo lspace="2.5pt" rspace="2.5pt" stretchy="false" id="S2.E3.m1.7.7.4.3.2.1.1.2" xref="S2.E3.m1.7.7.4.3.2.1.1.2.cmml">|</mo><mrow id="S2.E3.m1.7.7.4.3.2.1.1.1.1" xref="S2.E3.m1.7.7.4.3.2.1.1.1.2.cmml"><mi id="S2.E3.m1.3.3" xref="S2.E3.m1.3.3.cmml">x</mi><mo id="S2.E3.m1.7.7.4.3.2.1.1.1.1.2" xref="S2.E3.m1.7.7.4.3.2.1.1.1.2.cmml">,</mo><msub id="S2.E3.m1.7.7.4.3.2.1.1.1.1.1" xref="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.cmml"><mover accent="true" id="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.2" xref="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.2.cmml"><mi id="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.2.2" xref="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.2.2.cmml">y</mi><mo stretchy="false" id="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.2.1" xref="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.3" xref="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.3.cmml"><mn id="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.3.2" xref="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.3.2.cmml">1</mn><mo id="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.3.1" xref="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.3.3" xref="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.3.3.cmml"><mi id="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.3.3.2" xref="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.3.3.2.cmml">i</mi><mo id="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.3.3.1" xref="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.3.3.1.cmml">-</mo><mn id="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.3.3.3" xref="S2.E3.m1.7.7.4.3.2.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub></mrow></mrow><mo stretchy="false" id="S2.E3.m1.7.7.4.3.2.1.3" xref="S2.E3.m1.7.7.4.3.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"/>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS0.SSS0.Px2.p4" class="ltx_para ltx_noindent">
<p id="S2.SS0.SSS0.Px2.p4.1" class="ltx_p"><span class="gd_word" id="S2.SS0.SSS0.Px2.p4.1.1.w1">The</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p4.1.1.w2">complete</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p4.1.1.w3">translation</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p4.1.1.w4">is</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p4.1.1.w5">generated</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p4.1.1.w6">using</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p4.1.1.w7">beam</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px2.p4.1.1.w8">search.</span></p>
</div>
</section>
<section id="S2.SS0.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">
<math id="S2.SS0.SSS0.Px3.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.SS0.SSS0.Px3.1.m1.1b"><mi id="S2.SS0.SSS0.Px3.1.m1.1.1" xref="S2.SS0.SSS0.Px3.1.m1.1.1.cmml">k</mi></semantics></math>NN-MT vs. <math id="S2.SS0.SSS0.Px3.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.SS0.SSS0.Px3.2.m2.1b"><mi id="S2.SS0.SSS0.Px3.2.m2.1.1" xref="S2.SS0.SSS0.Px3.2.m2.1.1.cmml">k</mi></semantics></math>NN-LM</h5>

<div id="S2.SS0.SSS0.Px3.p1" class="ltx_para ltx_noindent">
<p id="S2.SS0.SSS0.Px3.p1.2" class="ltx_p"><math id="S2.SS0.SSS0.Px3.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.SS0.SSS0.Px3.p1.1.m1.1a"><mi id="S2.SS0.SSS0.Px3.p1.1.m1.1.1" xref="S2.SS0.SSS0.Px3.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.2.w1">NN-MT</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.2.w2">is</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.2.w3">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.2.w4">generalization</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.2.w5">of</span><span> </span><math id="S2.SS0.SSS0.Px3.p1.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.SS0.SSS0.Px3.p1.2.m2.1a"><mi id="S2.SS0.SSS0.Px3.p1.2.m2.1.1" xref="S2.SS0.SSS0.Px3.p1.2.m2.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w1">NN-LM</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w2">applied</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w3">to</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w4">conditional</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w5">sequence</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w6">generation,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w7">with</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w8">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w9">few</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w10">important</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w11">differences.
First,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w12">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w13">keys</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w14">are</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w15">not</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w16">only</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w17">conditioned</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w18">on</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w19">prior</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w20">context,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w21">but</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w22">also</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w23">on</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w24">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w25">source</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w26">sequence</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w27">(here,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w28">in</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w29">a</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w30">different</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w31">language).
This</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w32">means</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w33">that</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w34">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w35">representations</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w36">must</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w37">encode</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w38">both</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w39">source</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w40">and</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w41">target</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w42">context;</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w43">we</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w44">show</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w45">examples</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w46">in</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.3.w47">Section </span><a href="#S6" title="6 Qualitative Analysis ‣ Nearest Neighbor Machine Translation" class="ltx_ref">6</a><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w1">.
Second,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w2">there</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w3">is</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w4">an</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w5">additional</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w6">tuned</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w7">parameter,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w8">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w9">softmax</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w10">temperature.</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w11">Higher</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w12">temperatures</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w13">flatten</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w14">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w15">distribution</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w16">and</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w17">allow</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w18">for</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w19">greater</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w20">diversity</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w21">without</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w22">overfitting</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w23">to</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w24">the</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w25">retrieved</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w26">contexts,</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w27">as</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w28">shown</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w29">in</span><span> </span><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.4.w30">Section </span><a href="#S6" title="6 Qualitative Analysis ‣ Nearest Neighbor Machine Translation" class="ltx_ref">6</a><span class="gd_word" id="S2.SS0.SSS0.Px3.p1.2.5.w1">.</span></p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Experimental Setup</h2>

<div id="S3.p1" class="ltx_para ltx_noindent">
<p id="S3.p1.1" class="ltx_p"><span class="gd_word" id="S3.p1.1.1.w1">We</span><span> </span><span class="gd_word" id="S3.p1.1.1.w2">experiment</span><span> </span><span class="gd_word" id="S3.p1.1.1.w3">with</span><span> </span><math id="S3.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.p1.1.m1.1a"><mi id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S3.p1.1.2.w1">NN-MT</span><span> </span><span class="gd_word" id="S3.p1.1.2.w2">in</span><span> </span><span class="gd_word" id="S3.p1.1.2.w3">three</span><span> </span><span class="gd_word" id="S3.p1.1.2.w4">settings:</span><span> </span><span class="gd_word" id="S3.p1.1.2.w5">(1)</span><span> </span><span class="gd_word" id="S3.p1.1.2.w6">single</span><span> </span><span class="gd_word" id="S3.p1.1.2.w7">language-pair</span><span> </span><span class="gd_word" id="S3.p1.1.2.w8">translation,</span><span> </span><span class="gd_word" id="S3.p1.1.2.w9">(2)</span><span> </span><span class="gd_word" id="S3.p1.1.2.w10">multilingual</span><span> </span><span class="gd_word" id="S3.p1.1.2.w11">MT</span><span> </span><span class="gd_word" id="S3.p1.1.2.w12">and</span><span> </span><span class="gd_word" id="S3.p1.1.2.w13">(3)</span><span> </span><span class="gd_word" id="S3.p1.1.2.w14">domain</span><span> </span><span class="gd_word" id="S3.p1.1.2.w15">adaptation.</span></p>
</div>
<section id="S3.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Data</h5>

<div id="S3.SS0.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px1.p1.1" class="ltx_p"><span class="gd_word" id="S3.SS0.SSS0.Px1.p1.1.1.w1">We</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p1.1.1.w2">use</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p1.1.1.w3">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p1.1.1.w4">following</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p1.1.1.w5">datasets</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p1.1.1.w6">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p1.1.1.w7">training</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p1.1.1.w8">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p1.1.1.w9">evaluation.</span></p>
</div>
<div id="S3.SS0.SSS0.Px1.p2" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px1.p2.1" class="ltx_p"><span class="gd_word" id="S3.SS0.SSS0.Px1.p2.1.1.w1">WMT’19:</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p2.1.1.w2">For</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p2.1.1.w3">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p2.1.1.w4">single</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p2.1.1.w5">language-pair</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p2.1.1.w6">experiments,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p2.1.1.w7">we</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p2.1.1.w8">use</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p2.1.1.w9">WMT’19</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p2.1.1.w10">data</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p2.1.1.w11">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p2.1.1.w12">German-English.</span></p>
</div>
<div id="S3.SS0.SSS0.Px1.p3" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px1.p3.1" class="ltx_p"><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.1.w1">CCMatrix:</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.1.w2">We</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.1.w3">train</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.1.w4">our</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.1.w5">multilingual</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.1.w6">model</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.1.w7">on</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.1.w8">CCMatrix</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Schwenk et al., <a href="#bib.bib32" title="" class="ltx_ref">2019</a>)</cite><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w1">,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w2">containing</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w3">parallel</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w4">data</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w5">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w6">79</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w7">languages</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w8">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w9">1,546</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w10">language</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w11">pairs.
The</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w12">parallel</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w13">sentences</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w14">are</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w15">mined</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w16">from</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w17">cleaned</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w18">monolingual</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w19">commoncrawl</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w20">data</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w21">created</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w22">using</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w23">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w24">ccNet</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.2.w25">pipeline</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Wenzek et al., <a href="#bib.bib39" title="" class="ltx_ref">2019</a>)</cite><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w1">.
Semantically</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w2">similar</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w3">sentences</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w4">in</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w5">different</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w6">languages</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w7">are</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w8">aligned</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w9">using</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w10">a</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w11">learned</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w12">distance</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w13">measure;</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w14">we</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w15">use</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w16">examples</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w17">where</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w18">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w19">distance</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w20">measure</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w21">is</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w22">at</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w23">least</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w24">1.06,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w25">resulting</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w26">in</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w27">4</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w28">billion</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p3.1.3.w29">sentence-pairs.</span></p>
</div>
<div id="S3.SS0.SSS0.Px1.p4" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px1.p4.1" class="ltx_p"><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.1.w1">Newstest:</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.1.w2">The</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.1.w3">newstest2018</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.1.w4">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.1.w5">newstest2019</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.1.w6">test</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.1.w7">sets</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.1.w8">from</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.1.w9">WMT</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Bojar et al., <a href="#bib.bib5" title="" class="ltx_ref">2018</a>; Barrault et al., <a href="#bib.bib4" title="" class="ltx_ref">2019</a>)</cite><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w1"/><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w2">are</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w3">used</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w4">as</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w5">validation</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w6">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w7">test</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w8">sets</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w9">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w10">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w11">multilingual</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w12">experiments.</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w13">The</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w14">same</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w15">German-English</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w16">validation</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w17">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w18">test</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w19">sets</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w20">are</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w21">also</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w22">used</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w23">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w24">evaluation</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w25">in</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w26">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w27">single</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w28">language-pair</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w29">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w30">domain</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w31">adaptation</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p4.1.2.w32">experiments.</span></p>
</div>
<div id="S3.SS0.SSS0.Px1.p5" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px1.p5.1" class="ltx_p"><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.1.w1">Ted</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.1.w2">Talks:</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.1.w3">We</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.1.w4">use</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.1.w5">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.1.w6">Ted</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.1.w7">Talks</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.1.w8">data</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.1.w9">prepared</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.1.w10">by</span><span> </span><cite class="ltx_cite ltx_citemacro_citet">Qi et al. (<a href="#bib.bib31" title="" class="ltx_ref">2018</a>)</cite><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w1"/><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w2">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w3">evaluation</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w4">in</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w5">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w6">multilingual</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w7">setting,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w8">particularly</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w9">to</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w10">explore</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w11">performance</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w12">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w13">language</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w14">pairs</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w15">that</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w16">do</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w17">no</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w18">include</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p5.1.2.w19">English.</span><span> </span></p>
</div>
<div id="S3.SS0.SSS0.Px1.p6" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px1.p6.1" class="ltx_p"><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.1.w1">Multi-domains:</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.1.w2">We</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.1.w3">use</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.1.w4">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.1.w5">multi-domains</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.1.w6">dataset</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Koehn &amp; Knowles, <a href="#bib.bib23" title="" class="ltx_ref">2017</a>)</cite><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.2.w1">,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.2.w2">re-split</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.2.w3">by</span><span> </span><cite class="ltx_cite ltx_citemacro_citet">Aharoni &amp; Goldberg (<a href="#bib.bib1" title="" class="ltx_ref">2020</a>)</cite><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w1"/><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w2">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w3">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w4">domain</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w5">adaptation</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w6">experiments.
It</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w7">includes</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w8">German-English</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w9">parallel</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w10">data</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w11">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w12">train/validation/test</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w13">sets</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w14">in</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w15">five</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w16">domains:</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w17">Medical,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w18">Law,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w19">IT,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w20">Koran</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w21">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px1.p6.1.3.w22">Subtitles.</span></p>
</div>
</section>
<section id="S3.SS0.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Models</h5>

<div id="S3.SS0.SSS0.Px2.p1" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px2.p1.1" class="ltx_p"><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w1">For</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w2">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w3">single</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w4">language-pair</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w5">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w6">domain</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w7">adaptation</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w8">experiments,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w9">we</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w10">use</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w11">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w12">WMT’19</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w13">German-English</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w14">news</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w15">translation</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w16">task</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.1.w17">winner</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Ng et al., <a href="#bib.bib28" title="" class="ltx_ref">2019</a>)</cite><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.2.w1">,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.2.w2">available</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.2.w3">via</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.2.w4">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.2.w5">Fairseq</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.2.w6">library</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Ott et al., <a href="#bib.bib29" title="" class="ltx_ref">2019</a>)</cite><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.3.w1">.</span><span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a href="https://github.com/pytorch/fairseq/tree/master/examples/translation" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/pytorch/fairseq/tree/master/examples/translation</a></span></span></span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.4.w1">
It</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.4.w2">is</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.4.w3">a</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.4.w4">Transformer</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.4.w5">encoder-decoder</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.4.w6">model</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Vaswani et al., <a href="#bib.bib38" title="" class="ltx_ref">2017</a>)</cite><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w1"/><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w2">with</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w3">6</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w4">layers,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w5">1,024</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w6">dimensional</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w7">representations,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w8">8,192</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w9">dimensional</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w10">feedforward</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w11">layers</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w12">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w13">8</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w14">attention</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w15">heads.
Apart</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w16">from</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w17">WMT’19</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w18">training</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w19">data,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w20">this</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w21">model</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w22">is</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w23">trained</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w24">on</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w25">over</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w26">10</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w27">billion</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w28">tokens</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w29">of</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w30">backtranslation</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w31">data</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w32">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w33">fine-tuned</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w34">on</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w35">newstest</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w36">test</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w37">sets</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w38">from</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w39">years</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w40">prior</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w41">to</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w42">2018.
In</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w43">this</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w44">work,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w45">we</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w46">do</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w47">not</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w48">use</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w49">ensembles</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.5.w50">or</span><span> </span><math id="S3.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.1.m1.1a"><mi id="S3.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS0.SSS0.Px2.p1.1.m1.1.1.cmml">n</mi></semantics></math><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.6.w1">-best</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p1.1.6.w2">reranking.
</span></p>
</div>
<div id="S3.SS0.SSS0.Px2.p2" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px2.p2.1" class="ltx_p"><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w1">For</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w2">multilingual</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w3">MT,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w4">we</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w5">trained</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w6">a</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w7">418M</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w8">parameter</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w9">Transformer-based</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w10">encoder-decoder</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w11">model</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w12">on</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w13">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w14">CCMatrix</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w15">data</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w16">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w17">100K</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w18">updates.</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w19">The</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w20">model</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w21">has</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w22">embedding</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w23">dimension</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w24">1,024,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w25">hidden</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w26">dimension</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w27">4,096,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w28">12</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w29">layers</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w30">in</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w31">both</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w32">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w33">encoder</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w34">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w35">decoder,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w36">with</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w37">16</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w38">attention</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w39">heads.</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w40">To</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w41">balance</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w42">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w43">training</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w44">of</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w45">different</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w46">language</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w47">pairs,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w48">which</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w49">have</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w50">various</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w51">resource</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w52">levels,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w53">we</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w54">apply</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w55">temperature</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w56">upsampling</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.1.w57">with</span><span> </span><math id="S3.SS0.SSS0.Px2.p2.1.m1.1" class="ltx_Math" alttext="T=5" display="inline"><semantics id="S3.SS0.SSS0.Px2.p2.1.m1.1a"><mrow id="S3.SS0.SSS0.Px2.p2.1.m1.1.1" xref="S3.SS0.SSS0.Px2.p2.1.m1.1.1.cmml"><mi id="S3.SS0.SSS0.Px2.p2.1.m1.1.1.2" xref="S3.SS0.SSS0.Px2.p2.1.m1.1.1.2.cmml">T</mi><mo id="S3.SS0.SSS0.Px2.p2.1.m1.1.1.1" xref="S3.SS0.SSS0.Px2.p2.1.m1.1.1.1.cmml">=</mo><mn id="S3.SS0.SSS0.Px2.p2.1.m1.1.1.3" xref="S3.SS0.SSS0.Px2.p2.1.m1.1.1.3.cmml">5</mn></mrow></semantics></math><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.2.w1"> </span><cite class="ltx_cite ltx_citemacro_citep">(Arivazhagan et al., <a href="#bib.bib2" title="" class="ltx_ref">2019</a>)</cite><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.3.w1">.
The</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.3.w2">vocabulary</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.3.w3">is</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.3.w4">shared</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.3.w5">across</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.3.w6">all</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.3.w7">languages</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.3.w8">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.3.w9">consists</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.3.w10">of</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.3.w11">128K</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.3.w12">subwords</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.3.w13">extracted</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.3.w14">using</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.3.w15">sentencepiece</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Kudo &amp; Richardson, <a href="#bib.bib25" title="" class="ltx_ref">2018</a>)</cite><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.4.w1">.</span><span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><span class="gd_word" id="footnote2.3.w1">Evaluating</span><span> </span><span class="gd_word" id="footnote2.3.w2">our</span><span> </span><span class="gd_word" id="footnote2.3.w3">model</span><span> </span><span class="gd_word" id="footnote2.3.w4">on</span><span> </span><span class="gd_word" id="footnote2.3.w5">the</span><span> </span><span class="gd_word" id="footnote2.3.w6">recently</span><span> </span><span class="gd_word" id="footnote2.3.w7">released</span><span> </span><span class="gd_word" id="footnote2.3.w8">OPUS100 </span><cite class="ltx_cite ltx_citemacro_citep">(Zhang et al., <a href="#bib.bib42" title="" class="ltx_ref">2020</a>)</cite><span class="gd_word" id="footnote2.4.w1"/><span> </span><span class="gd_word" id="footnote2.4.w2">corpus</span><span> </span><span class="gd_word" id="footnote2.4.w3">improves</span><span> </span><span class="gd_word" id="footnote2.4.w4">upon</span><span> </span><span class="gd_word" id="footnote2.4.w5">the</span><span> </span><span class="gd_word" id="footnote2.4.w6">result</span><span> </span><span class="gd_word" id="footnote2.4.w7">in</span><span> </span><span class="gd_word" id="footnote2.4.w8"> </span><cite class="ltx_cite ltx_citemacro_citet">Zhang et al. (<a href="#bib.bib42" title="" class="ltx_ref">2020</a>)</cite><span class="gd_word" id="footnote2.5.w1"/><span> </span><span class="gd_word" id="footnote2.5.w2">by</span><span> </span><span class="gd_word" id="footnote2.5.w3">0.4</span><span> </span><span class="gd_word" id="footnote2.5.w4">BLEU,</span><span> </span><span class="gd_word" id="footnote2.5.w5">suggesting</span><span> </span><span class="gd_word" id="footnote2.5.w6">that</span><span> </span><span class="gd_word" id="footnote2.5.w7">it</span><span> </span><span class="gd_word" id="footnote2.5.w8">is</span><span> </span><span class="gd_word" id="footnote2.5.w9">a</span><span> </span><span class="gd_word" id="footnote2.5.w10">very</span><span> </span><span class="gd_word" id="footnote2.5.w11">strong</span><span> </span><span class="gd_word" id="footnote2.5.w12">baseline.</span></span></span></span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.5.w1">
All</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.5.w2">results</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.5.w3">use</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.5.w4">case-sensitive</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.5.w5">detokenized</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.5.w6">BLEU,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.5.w7">measured</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.5.w8">using</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.5.w9">SacreBLEU</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Post, <a href="#bib.bib30" title="" class="ltx_ref">2018</a>)</cite><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w1">.We</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w2">provide</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w3">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w4">SacreBLEU</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w5">signatures,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w6">along</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w7">with</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w8">details</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w9">on</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w10">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w11">statistical</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w12">power</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w13">of</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w14">our</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w15">experiments,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w16">in</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.6.w17">Appendix </span><a href="#A3" title="Appendix C BLEU scores ‣ Nearest Neighbor Machine Translation" class="ltx_ref">C</a><span class="gd_word" id="S3.SS0.SSS0.Px2.p2.1.7.w1">.</span></p>
</div>
</section>
<section id="S3.SS0.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">
<math id="S3.SS0.SSS0.Px3.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS0.SSS0.Px3.1.m1.1b"><mi id="S3.SS0.SSS0.Px3.1.m1.1.1" xref="S3.SS0.SSS0.Px3.1.m1.1.1.cmml">k</mi></semantics></math>NN-MT</h5>

<div id="S3.SS0.SSS0.Px3.p1" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px3.p1.1" class="ltx_p"><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w1">In</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w2">this</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w3">work,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w4">we</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w5">use</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w6">a</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w7">Faiss</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w8">index</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w9">to</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w10">represent</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w11">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w12">datastore</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w13">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w14">search</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w15">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w16">nearest</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w17">neighbors.
The</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w18">keys</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w19">are</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w20">stored</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w21">in</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w22">clusters</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w23">to</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w24">speed</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w25">up</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w26">search</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w27">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w28">quantized</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w29">to</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w30">64-bytes</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w31">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w32">space</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w33">efficiency</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w34">(the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w35">full-precision</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w36">keys</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w37">are</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w38">discarded).
The</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w39">index</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w40">is</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w41">constructed</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w42">offline</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w43">via</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w44">a</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w45">single</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w46">forward</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w47">pass</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w48">over</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w49">every</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w50">example</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w51">in</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w52">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w53">given</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w54">parallel</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w55">text</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w56">collection.
We</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w57">use</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w58">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w59">1024-dimensional</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w60">representation</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w61">input</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w62">to</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w63">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w64">final</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w65">layer</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w66">feedforward</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w67">network</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w68">as</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w69">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w70">key.
Building</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w71">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w72">index</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w73">involves</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w74">a</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w75">training</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w76">phase</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w77">to</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w78">learn</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w79">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w80">cluster</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w81">centroids.
We</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w82">use</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w83">5M</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w84">keys</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w85">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w86">learning</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w87">131K</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w88">cluster</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w89">centroids</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w90">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w91">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w92">multilingual</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w93">experiments,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w94">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w95">1M</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w96">keys</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w97">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w98">4K</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w99">clusters</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w100">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w101">in-domain</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w102">data</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w103">in</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w104">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w105">domain</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w106">adaptation</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w107">experiments.
During</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w108">inference,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w109">we</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w110">query</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w111">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w112">datastore</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w113">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w114">64</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w115">neighbors</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w116">while</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w117">searching</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w118">32</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w119">clusters.
The</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w120">interpolation</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w121">and</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w122">softmax</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w123">temperature</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w124">parameters</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w125">are</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w126">tuned</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w127">on</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w128">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w129">validation</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.1.w130">sets.</span><span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span><span class="gd_word" id="footnote3.3.w1">Code</span><span> </span><span class="gd_word" id="footnote3.3.w2">for</span><span> </span><math id="footnote3.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="footnote3.m1.1b"><mi id="footnote3.m1.1.1" xref="footnote3.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="footnote3.4.w1">NN-MT</span><span> </span><span class="gd_word" id="footnote3.4.w2">will</span><span> </span><span class="gd_word" id="footnote3.4.w3">be</span><span> </span><span class="gd_word" id="footnote3.4.w4">available</span><span> </span><span class="gd_word" id="footnote3.4.w5">at</span><span> </span><a href="https://github.com/urvashik/knnlm" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/urvashik/knnlm</a><span class="gd_word" id="footnote3.5.w1">.</span></span></span></span><span class="gd_word" id="S3.SS0.SSS0.Px3.p1.1.2.w1">
</span></p>
</div>
</section>
<section id="S3.SS0.SSS0.Px4" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Computational Cost</h5>

<div id="S3.SS0.SSS0.Px4.p1" class="ltx_para ltx_noindent">
<p id="S3.SS0.SSS0.Px4.p1.1" class="ltx_p"><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.1.w1">While</span><span> </span><math id="S3.SS0.SSS0.Px4.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS0.SSS0.Px4.p1.1.m1.1a"><mi id="S3.SS0.SSS0.Px4.p1.1.m1.1.1" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w1">NN-MT</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w2">does</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w3">not</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w4">add</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w5">trainable</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w6">model</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w7">parameters,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w8">it</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w9">does</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w10">add</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w11">some</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w12">computational</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w13">overhead.
The</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w14">primary</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w15">cost</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w16">of</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w17">building</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w18">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w19">datastore</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w20">is</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w21">a</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w22">single</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w23">forward</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w24">pass</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w25">over</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w26">all</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w27">examples</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w28">in</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w29">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w30">datastore,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w31">which</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w32">is</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w33">a</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w34">fraction</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w35">of</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w36">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w37">cost</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w38">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w39">training</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w40">on</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w41">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w42">same</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w43">examples</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w44">for</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w45">one</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w46">epoch.
During</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w47">inference,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w48">retrieving</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w49">64</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w50">keys</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w51">from</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w52">a</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w53">datastore</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w54">containing</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w55">billions</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w56">of</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w57">items</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w58">results</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w59">in</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w60">a</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w61">generation</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w62">speed</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w63">that</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w64">is</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w65">two</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w66">orders</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w67">of</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w68">magnitude</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w69">slower</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w70">than</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w71">the</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w72">base</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w73">MT</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w74">system.
Generation</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w75">speed</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w76">can</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w77">be</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w78">improved</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w79">by</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w80">searching</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w81">fewer</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w82">clusters,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w83">using</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w84">smaller</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w85">beams,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w86">or</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w87">querying</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w88">smaller</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w89">datastores,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w90">with</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w91">relatively</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w92">minor</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w93">trade-offs</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w94">in</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w95">performance,</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w96">as</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w97">we</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w98">will</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w99">see</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w100">in</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.2.w101">Section </span><a href="#S5" title="5 Tuning kNN-MT ‣ Nearest Neighbor Machine Translation" class="ltx_ref">5</a><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.3.w1">.
Developing</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.3.w2">faster</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.3.w3">nearest</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.3.w4">neighbor</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.3.w5">search</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.3.w6">tools</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.3.w7">remains</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.3.w8">an</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.3.w9">active</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.3.w10">area</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.3.w11">of</span><span> </span><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.3.w12">research</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Guo et al., <a href="#bib.bib16" title="" class="ltx_ref">2020</a>)</cite><span class="gd_word" id="S3.SS0.SSS0.Px4.p1.1.4.w1">.</span></p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Single Language-Pair Translation</h3>

<div id="S4.SS1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS1.p1.1" class="ltx_p"><span class="gd_word" id="S4.SS1.p1.1.1.w1">To</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.1.w2">test</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.1.w3">whether</span><span> </span><math id="S4.SS1.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS1.p1.1.m1.1a"><mi id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S4.SS1.p1.1.2.w1">NN-MT</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w2">can</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w3">improve</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w4">a</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w5">model’s</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w6">ability</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w7">to</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w8">generalize</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w9">from</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w10">its</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w11">training</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w12">data,</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w13">we</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w14">first</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w15">apply</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w16">it</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w17">to</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w18">a</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w19">state-of-the-art</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w20">translation</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w21">model,</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w22">using</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w23">a</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w24">datastore</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w25">containing</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w26">only</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w27">the</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w28">original</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w29">training</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w30">set.
We</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w31">use</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w32">a</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w33">state-of-the-art</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w34">German-English</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w35">model</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w36">as</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w37">our</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w38">base</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w39">MT</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w40">system,</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w41">which</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w42">scores</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w43">37.59</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w44">BLEU</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w45">on</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w46">the</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w47">newstest2019</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w48">test</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.2.w49">set.</span><span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span><span class="gd_word" id="footnote4.3.w1">The</span><span> </span><span class="gd_word" id="footnote4.3.w2">winning</span><span> </span><span class="gd_word" id="footnote4.3.w3">system</span><span> </span><span class="gd_word" id="footnote4.3.w4">(scoring</span><span> </span><span class="gd_word" id="footnote4.3.w5">40.8</span><span> </span><span class="gd_word" id="footnote4.3.w6">BLEU)</span><span> </span><span class="gd_word" id="footnote4.3.w7">extends</span><span> </span><span class="gd_word" id="footnote4.3.w8">this</span><span> </span><span class="gd_word" id="footnote4.3.w9">model</span><span> </span><span class="gd_word" id="footnote4.3.w10">with</span><span> </span><span class="gd_word" id="footnote4.3.w11">ensembling</span><span> </span><span class="gd_word" id="footnote4.3.w12">and</span><span> </span><math id="footnote4.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="footnote4.m1.1b"><mi id="footnote4.m1.1.1" xref="footnote4.m1.1.1.cmml">n</mi></semantics></math><span class="gd_word" id="footnote4.4.w1">-best</span><span> </span><span class="gd_word" id="footnote4.4.w2">reranking.</span></span></span></span><span class="gd_word" id="S4.SS1.p1.1.3.w1"/><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w2">This</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w3">is</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w4">a</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w5">highly</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w6">competitive</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w7">baseline</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w8">–</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w9">apart</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w10">from</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w11">the</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w12">WMT’19</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w13">training</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w14">data,</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w15">the</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w16">base</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w17">model</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w18">has</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w19">also</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w20">been</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w21">trained</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w22">on</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w23">over</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w24">10</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w25">billion</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w26">tokens</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w27">of</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w28">extra</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w29">backtranslation</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w30">data</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w31">as</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w32">well</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w33">as</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w34">fine-tuned</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w35">on</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w36">newstest</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w37">test</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w38">sets</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w39">from</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w40">previous</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w41">years.
Providing</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w42">this</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w43">heavily</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w44">tuned</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w45">base</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w46">model</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w47">with</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w48">a</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w49">datastore</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w50">containing</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w51">about</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w52">770M</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w53">tokens</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w54">of</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w55">WMT’19</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w56">training</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w57">data</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w58">improves</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w59">performance</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w60">by</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w61">1.5</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w62">BLEU</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w63">to</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w64">39.08,</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w65">without</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w66">any</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w67">additional</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w68">training.
This</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w69">result</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w70">shows</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w71">that</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w72">even</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w73">very</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w74">strong</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w75">translation</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w76">models</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w77">can</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w78">be</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w79">improved</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w80">with</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w81">test-time</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w82">access</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w83">to</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w84">training</span><span> </span><span class="gd_word" id="S4.SS1.p1.1.3.w85">sets.</span></p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Multilingual Machine Translation</h3>

<div id="S4.SS2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.p1.1" class="ltx_p"><span class="gd_word" id="S4.SS2.p1.1.1.w1">Next,</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.1.w2">we</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.1.w3">apply</span><span> </span><math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><mi id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S4.SS2.p1.1.2.w1">NN-MT</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w2">to</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w3">multilingual</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w4">machine</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w5">translation,</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w6">to</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w7">measure</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w8">its</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w9">ability</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w10">to</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w11">add</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w12">capacity</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w13">to</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w14">a</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w15">model</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w16">when</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w17">using</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w18">very</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w19">large</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w20">training</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w21">sets.
For</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w22">these</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w23">experiments,</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w24">we</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w25">create</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w26">datastores</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w27">using</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w28">subsets</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w29">of</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w30">the</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w31">CCMatrix</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w32">parallel</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w33">data</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w34">that</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w35">the</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w36">model</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w37">has</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w38">been</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w39">trained</span><span> </span><span class="gd_word" id="S4.SS2.p1.1.2.w40">on.
</span></p>
</div>
<section id="S4.SS2.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Retrieving neighbors from same source language data</h5>

<div id="S4.SS2.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS0.Px1.p1.1" class="ltx_p"><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w1">Here,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w2">we</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w3">build</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w4">one</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w5">datastore</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w6">per</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w7">language-pair</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w8">being</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w9">tested,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w10">using</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w11">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w12">training</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w13">examples</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w14">for</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w15">that</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.1.w16">language-pair.
Table </span><a href="#S4.T1" title="Table 1 ‣ Retrieving neighbors from same source language data ‣ 4.2 Multilingual Machine Translation ‣ 4 Experiments ‣ Nearest Neighbor Machine Translation" class="ltx_ref">1</a><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.2.w1"/><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.2.w2">shows</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.2.w3">performance</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.2.w4">for</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.2.w5">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.2.w6">baseline</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.2.w7">and</span><span> </span><math id="S4.SS2.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.SSS0.Px1.p1.1.m1.1a"><mi id="S4.SS2.SSS0.Px1.p1.1.m1.1.1" xref="S4.SS2.SSS0.Px1.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w1">NN-MT</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w2">on</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w3">17</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w4">language-pairs</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w5">from</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w6">newstest2019.
Retrieving</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w7">neighbors</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w8">results</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w9">in</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w10">up</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w11">to</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w12">3</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w13">BLEU</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w14">improvements</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w15">for</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w16">English-German,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w17">English-Chinese</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w18">and</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w19">Chinese-English,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w20">with</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w21">an</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w22">average</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w23">improvement</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w24">of</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w25">1.4</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w26">BLEU</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w27">across</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w28">all</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w29">17</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w30">pairs,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w31">without</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w32">any</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w33">additional</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p1.1.3.w34">training.</span></p>
</div>
<div id="S4.SS2.SSS0.Px1.p2" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS0.Px1.p2.1" class="ltx_p"><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.1.w1">Table </span><a href="#S4.T1" title="Table 1 ‣ Retrieving neighbors from same source language data ‣ 4.2 Multilingual Machine Translation ‣ 4 Experiments ‣ Nearest Neighbor Machine Translation" class="ltx_ref">1</a><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w1"/><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w2">also</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w3">shows</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w4">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w5">sizes</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w6">of</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w7">each</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w8">of</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w9">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w10">datastores.
Datastore</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w11">size</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w12">and</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w13">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w14">increase</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w15">in</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w16">BLEU</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w17">are</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w18">only</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w19">weakly</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w20">correlated</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w21">across</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w22">languages,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w23">though</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w24">within</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w25">a</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w26">language,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w27">a</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w28">larger</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w29">datastore</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w30">is</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w31">decidedly</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w32">better,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w33">as</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w34">shown</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w35">in</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.2.w36">Section </span><a href="#S5" title="5 Tuning kNN-MT ‣ Nearest Neighbor Machine Translation" class="ltx_ref">5</a><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w1">.
This</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w2">suggests</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w3">that</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w4">underlying</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w5">factors,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w6">such</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w7">as</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w8">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w9">quality</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w10">of</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w11">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w12">parallel</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w13">data</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w14">used</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w15">to</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w16">populate</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w17">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w18">datastore,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w19">may</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w20">also</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w21">factor</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w22">into</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w23">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w24">size</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w25">of</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w26">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w27">improvements</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.3.w28">from</span><span> </span><math id="S4.SS2.SSS0.Px1.p2.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.SSS0.Px1.p2.1.m1.1a"><mi id="S4.SS2.SSS0.Px1.p2.1.m1.1.1" xref="S4.SS2.SSS0.Px1.p2.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S4.SS2.SSS0.Px1.p2.1.4.w1">NN-MT.
</span></p>
</div>
<div id="S4.SS2.SSS0.Px1.p3" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS0.Px1.p3.1" class="ltx_p"><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w1">Finally,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w2">we</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w3">also</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w4">observe</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w5">that</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w6">improvements</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w7">for</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w8">languages</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w9">translated</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w10">into</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w11">English,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w12">on</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w13">average</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w14">1.23</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w15">BLEU,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w16">are</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w17">lower</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w18">than</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w19">improvements</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w20">for</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w21">languages</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w22">translated</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w23">from</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w24">English,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w25">on</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w26">average</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w27">1.94</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w28">BLEU.
As</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w29">English</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w30">is</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w31">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w32">most</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w33">frequent</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w34">language</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w35">in</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w36">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w37">base</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w38">model’s</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w39">training</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w40">data,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w41">this</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w42">suggests</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w43">that</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w44">kNN-MT</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w45">is</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w46">particularly</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w47">useful</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w48">for</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w49">improving</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w50">decoders</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w51">in</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w52">languages</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w53">that</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w54">may</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w55">be</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w56">underfit</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w57">during</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px1.p3.1.1.w58">training.</span></p>
</div>
<figure id="S4.T1" class="ltx_table">
<img src="/static/img/2010.00710-gpt-4/S4_T1.png" alt="/static/img/2010.00710-gpt-4/S4_T1.png"/><figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span><span class="gd_word" id="S4.T1.2.w1">Multilingual</span><span> </span><span class="gd_word" id="S4.T1.2.w2">machine</span><span> </span><span class="gd_word" id="S4.T1.2.w3">translation</span><span> </span><span class="gd_word" id="S4.T1.2.w4">with</span><span> </span><math id="S4.T1.5.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.T1.5.m1.1b"><mi id="S4.T1.5.m1.1.1" xref="S4.T1.5.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S4.T1.3.w1">NN-MT.</span><span> </span><span class="gd_word" id="S4.T1.3.w2">All</span><span> </span><span class="gd_word" id="S4.T1.3.w3">test</span><span> </span><span class="gd_word" id="S4.T1.3.w4">sets</span><span> </span><span class="gd_word" id="S4.T1.3.w5">are</span><span> </span><span class="gd_word" id="S4.T1.3.w6">from</span><span> </span><span class="gd_word" id="S4.T1.3.w7">newstest2019,</span><span> </span><span class="gd_word" id="S4.T1.3.w8">except</span><span> </span><em id="S4.T1.12.1" class="ltx_emph ltx_font_italic">ja-en</em><span class="gd_word" id="S4.T1.4.w1">/</span><em id="S4.T1.13.2" class="ltx_emph ltx_font_italic">en-ja</em><span class="gd_word" id="S4.T1.5.w1"/><span> </span><span class="gd_word" id="S4.T1.5.w2">which</span><span> </span><span class="gd_word" id="S4.T1.5.w3">are</span><span> </span><span class="gd_word" id="S4.T1.5.w4">from</span><span> </span><span class="gd_word" id="S4.T1.5.w5">newstest2020.</span><span> </span><span class="gd_word" id="S4.T1.5.w6">Adding</span><span> </span><math id="S4.T1.6.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.T1.6.m2.1b"><mi id="S4.T1.6.m2.1.1" xref="S4.T1.6.m2.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S4.T1.6.w1">NN-MT</span><span> </span><span class="gd_word" id="S4.T1.6.w2">increases</span><span> </span><span class="gd_word" id="S4.T1.6.w3">BLEU</span><span> </span><span class="gd_word" id="S4.T1.6.w4">scores</span><span> </span><span class="gd_word" id="S4.T1.6.w5">in</span><span> </span><span class="gd_word" id="S4.T1.6.w6">all</span><span> </span><span class="gd_word" id="S4.T1.6.w7">cases,</span><span> </span><span class="gd_word" id="S4.T1.6.w8">and</span><span> </span><span class="gd_word" id="S4.T1.6.w9">by</span><span> </span><span class="gd_word" id="S4.T1.6.w10">over</span><span> </span><span class="gd_word" id="S4.T1.6.w11">3</span><span> </span><span class="gd_word" id="S4.T1.6.w12">points</span><span> </span><span class="gd_word" id="S4.T1.6.w13">for</span><span> </span><em id="S4.T1.14.3" class="ltx_emph ltx_font_italic">en-de</em><span class="gd_word" id="S4.T1.7.w1">,</span><span> </span><em id="S4.T1.15.4" class="ltx_emph ltx_font_italic">zh-en</em><span class="gd_word" id="S4.T1.8.w1"/><span> </span><span class="gd_word" id="S4.T1.8.w2">and</span><span> </span><em id="S4.T1.16.5" class="ltx_emph ltx_font_italic">en-zh</em><span class="gd_word" id="S4.T1.9.w1">.</span><span> </span><span class="gd_word" id="S4.T1.9.w2">Bold</span><span> </span><span class="gd_word" id="S4.T1.9.w3">scores</span><span> </span><span class="gd_word" id="S4.T1.9.w4">indicate</span><span> </span><span class="gd_word" id="S4.T1.9.w5">significant</span><span> </span><span class="gd_word" id="S4.T1.9.w6">results</span><span> </span><span class="gd_word" id="S4.T1.9.w7">based</span><span> </span><span class="gd_word" id="S4.T1.9.w8">on</span><span> </span><span class="gd_word" id="S4.T1.9.w9">statistically</span><span> </span><span class="gd_word" id="S4.T1.9.w10">powered</span><span> </span><span class="gd_word" id="S4.T1.9.w11">experiments</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Card et al., <a href="#bib.bib8" title="" class="ltx_ref">2020</a>)</cite><span class="gd_word" id="S4.T1.10.w1">.</span></figcaption>
</figure>
</section>
<section id="S4.SS2.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Retrieving neighbors using English as the source language</h5>

<div id="S4.SS2.SSS0.Px2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.SSS0.Px2.p1.2" class="ltx_p"><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w1">Here,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w2">we</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w3">construct</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w4">datastores</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w5">from</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w6">training</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w7">examples</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w8">where</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w9">English</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w10">is</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w11">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w12">source</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w13">language,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w14">and</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w15">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w16">target</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w17">language</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w18">is</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w19">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w20">language</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w21">being</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w22">tested.</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w23">This</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w24">setting</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w25">is</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w26">useful</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w27">for</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w28">rarer</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w29">language</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w30">pairs</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w31">with</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w32">less</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w33">bi-text,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w34">and</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w35">is</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w36">related</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w37">to</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.1.w38">pivoting</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Utiyama &amp; Isahara, <a href="#bib.bib35" title="" class="ltx_ref">2007</a>; Cohn &amp; Lapata, <a href="#bib.bib9" title="" class="ltx_ref">2007</a>)</cite><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.2.w1">.
Table </span><a href="#S4.T2" title="Table 2 ‣ Retrieving neighbors using English as the source language ‣ 4.2 Multilingual Machine Translation ‣ 4 Experiments ‣ Nearest Neighbor Machine Translation" class="ltx_ref">2</a><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w1"/><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w2">shows</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w3">that</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w4">on</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w5">five</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w6">pairs</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w7">from</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w8">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w9">Ted</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w10">Talks</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w11">data</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w12">and</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w13">three</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w14">from</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w15">newstest2019,</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w16">we</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w17">find</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.3.w18">that</span><span> </span><math id="S4.SS2.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.SSS0.Px2.p1.1.m1.1a"><mi id="S4.SS2.SSS0.Px2.p1.1.m1.1.1" xref="S4.SS2.SSS0.Px2.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w1">NN-MT</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w2">improves</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w3">performance</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w4">by</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w5">1</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w6">BLEU</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w7">on</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w8">average.
This</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w9">result</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w10">shows</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w11">that</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w12">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w13">model’s</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w14">representations</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w15">of</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w16">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w17">source</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w18">generalize</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w19">well</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w20">enough</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w21">across</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w22">languages</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w23">to</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w24">make</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w25">cross-lingual</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w26">retrieval</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w27">effective.
Further</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w28">investigation</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w29">is</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w30">needed</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w31">to</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w32">study</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w33">the</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w34">extent</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w35">to</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w36">which</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w37">multilingual</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w38">representations</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w39">from</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w40">related</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w41">and</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w42">unrelated</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w43">languages</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w44">can</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w45">improve</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w46">translation</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w47">performance</span><span> </span><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.4.w48">via</span><span> </span><math id="S4.SS2.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.SSS0.Px2.p1.2.m2.1a"><mi id="S4.SS2.SSS0.Px2.p1.2.m2.1.1" xref="S4.SS2.SSS0.Px2.p1.2.m2.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S4.SS2.SSS0.Px2.p1.2.5.w1">NN-MT.</span></p>
</div>
<figure id="S4.T2" class="ltx_table">
<img src="/static/img/2010.00710-gpt-4/S4_T2.png" alt="/static/img/2010.00710-gpt-4/S4_T2.png"/><figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span><span class="gd_word" id="S4.T2.2.w1">Adding</span><span> </span><span class="gd_word" id="S4.T2.2.w2">datastores</span><span> </span><span class="gd_word" id="S4.T2.2.w3">with</span><span> </span><span class="gd_word" id="S4.T2.2.w4">English</span><span> </span><span class="gd_word" id="S4.T2.2.w5">source-side</span><span> </span><span class="gd_word" id="S4.T2.2.w6">data</span><span> </span><span class="gd_word" id="S4.T2.2.w7">can</span><span> </span><span class="gd_word" id="S4.T2.2.w8">improve</span><span> </span><span class="gd_word" id="S4.T2.2.w9">translation</span><span> </span><span class="gd_word" id="S4.T2.2.w10">from</span><span> </span><span class="gd_word" id="S4.T2.2.w11">other</span><span> </span><span class="gd_word" id="S4.T2.2.w12">languages</span><span> </span><span class="gd_word" id="S4.T2.2.w13">by</span><span> </span><span class="gd_word" id="S4.T2.2.w14">an</span><span> </span><span class="gd_word" id="S4.T2.2.w15">average</span><span> </span><span class="gd_word" id="S4.T2.2.w16">of</span><span> </span><span class="gd_word" id="S4.T2.2.w17">1</span><span> </span><span class="gd_word" id="S4.T2.2.w18">BLEU,</span><span> </span><span class="gd_word" id="S4.T2.2.w19">suggesting</span><span> </span><span class="gd_word" id="S4.T2.2.w20">that</span><span> </span><span class="gd_word" id="S4.T2.2.w21">our</span><span> </span><span class="gd_word" id="S4.T2.2.w22">representations</span><span> </span><span class="gd_word" id="S4.T2.2.w23">generalize</span><span> </span><span class="gd_word" id="S4.T2.2.w24">over</span><span> </span><span class="gd_word" id="S4.T2.2.w25">different</span><span> </span><span class="gd_word" id="S4.T2.2.w26">source</span><span> </span><span class="gd_word" id="S4.T2.2.w27">langauges.</span><span> </span><span class="gd_word" id="S4.T2.2.w28">The</span><span> </span><span class="gd_word" id="S4.T2.2.w29">model’s</span><span> </span><span class="gd_word" id="S4.T2.2.w30">representations</span><span> </span><span class="gd_word" id="S4.T2.2.w31">of</span><span> </span><span class="gd_word" id="S4.T2.2.w32">the</span><span> </span><span class="gd_word" id="S4.T2.2.w33">source</span><span> </span><span class="gd_word" id="S4.T2.2.w34">generalize</span><span> </span><span class="gd_word" id="S4.T2.2.w35">across</span><span> </span><span class="gd_word" id="S4.T2.2.w36">languages</span><span> </span><span class="gd_word" id="S4.T2.2.w37">and</span><span> </span><span class="gd_word" id="S4.T2.2.w38">make</span><span> </span><span class="gd_word" id="S4.T2.2.w39">cross-lingual</span><span> </span><span class="gd_word" id="S4.T2.2.w40">retrieval</span><span> </span><span class="gd_word" id="S4.T2.2.w41">effective.
</span></figcaption>
</figure>
</section>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Domain Adaptation</h3>

<div id="S4.SS3.p1" class="ltx_para ltx_noindent">
<p id="S4.SS3.p1.1" class="ltx_p"><span class="gd_word" id="S4.SS3.p1.1.1.w1">We</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.1.w2">also</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.1.w3">measure</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.1.w4">the</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.1.w5">effectiveness</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.1.w6">of</span><span> </span><math id="S4.SS3.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS3.p1.1.m1.1a"><mi id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S4.SS3.p1.1.2.w1">NN-MT</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w2">for</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w3">domain</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w4">adaptation,</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w5">in</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w6">which</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w7">we</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w8">use</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w9">a</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w10">domain-specific</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w11">datastore</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w12">to</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w13">adapt</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w14">the</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w15">model,</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w16">without</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w17">further</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w18">training.
For</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w19">these</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w20">experiments,</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w21">we</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w22">use</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w23">the</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w24">German-English</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w25">translation</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w26">model</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w27">from</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.2.w28">Section </span><a href="#S4.SS1" title="4.1 Single Language-Pair Translation ‣ 4 Experiments ‣ Nearest Neighbor Machine Translation" class="ltx_ref">4.1</a><span class="gd_word" id="S4.SS3.p1.1.3.w1"/><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w2">as</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w3">our</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w4">base</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w5">MT</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w6">system</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w7">and</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w8">provide</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w9">domain-specific</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w10">data</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w11">in</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w12">the</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w13">datastores.
We</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w14">also</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w15">explore</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w16">the</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w17">effects</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w18">of</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w19">retrieving</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w20">neighbors</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w21">from</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w22">a</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w23">large</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w24">amount</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w25">of</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w26">out-of-domain</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w27">data</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w28">as</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w29">well</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w30">as</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w31">from</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w32">a</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w33">single</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w34">multi-domain</span><span> </span><span class="gd_word" id="S4.SS3.p1.1.3.w35">datastore.
</span></p>
</div>
<section id="S4.SS3.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Domain-specific datastores</h5>

<div id="S4.SS3.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS3.SSS0.Px1.p1.3" class="ltx_p"><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.1.w1">Table </span><a href="#S4.T3" title="Table 3 ‣ Out-of-domain and multi-domain datastores ‣ 4.3 Domain Adaptation ‣ 4 Experiments ‣ Nearest Neighbor Machine Translation" class="ltx_ref">3</a><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w1"/><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w2">shows</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w3">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w4">base</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w5">MT</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w6">system’s</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w7">in-domain</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w8">performance</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w9">on</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w10">newstest2019,</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w11">as</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w12">well</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w13">as</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w14">zero-shot</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w15">transfer</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w16">to</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w17">five</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w18">other</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.2.w19">domains.
</span><math id="S4.SS3.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS3.SSS0.Px1.p1.1.m1.1a"><mi id="S4.SS3.SSS0.Px1.p1.1.m1.1.1" xref="S4.SS3.SSS0.Px1.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.3.w1">NN-MT</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.3.w2">significantly</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.3.w3">outperforms</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.3.w4">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.3.w5">base</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.3.w6">MT</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.3.w7">system</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.3.w8">in</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.3.w9">all</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.3.w10">settings.
For</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.3.w11">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.3.w12">multi-domains</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.3.w13">dataset,</span><span> </span><math id="S4.SS3.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS3.SSS0.Px1.p1.2.m2.1a"><mi id="S4.SS3.SSS0.Px1.p1.2.m2.1.1" xref="S4.SS3.SSS0.Px1.p1.2.m2.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w1">NN-MT</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w2">improves</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w3">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w4">base</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w5">MT</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w6">model</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w7">performance</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w8">by</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w9">an</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w10">average</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w11">of</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w12">9.2</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w13">BLEU,</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w14">with</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w15">improvements</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w16">as</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w17">large</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w18">as</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w19">16</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w20">BLEU</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w21">on</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w22">Law</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w23">and</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w24">14.5</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w25">BLEU</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w26">on</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w27">Medical,</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w28">all</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w29">without</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w30">any</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w31">further</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w32">training.
We</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w33">also</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w34">provide</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w35">scores</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.4.w36">from</span><span> </span><cite class="ltx_cite ltx_citemacro_citet">Aharoni &amp; Goldberg (<a href="#bib.bib1" title="" class="ltx_ref">2020</a>)</cite><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w1"/><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w2">for</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w3">models</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w4">trained</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w5">on</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w6">in-domain</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w7">data,</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w8">those</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w9">trained</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w10">on</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w11">all</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w12">domains</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w13">jointly,</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w14">and</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w15">those</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w16">trained</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w17">using</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w18">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w19">best-performing</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w20">data</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w21">selection</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w22">method</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w23">proposed</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w24">by</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w25">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w26">authors.
We</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w27">find</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.5.w28">that</span><span> </span><math id="S4.SS3.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS3.SSS0.Px1.p1.3.m3.1a"><mi id="S4.SS3.SSS0.Px1.p1.3.m3.1.1" xref="S4.SS3.SSS0.Px1.p1.3.m3.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.6.w1">NN-MT</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.6.w2">also</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.6.w3">outperforms</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.6.w4">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.6.w5">best</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.6.w6">reported</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.6.w7">average</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.6.w8">on</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.6.w9">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.6.w10">multi-domains</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.6.w11">dataset</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.6.w12">by</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.6.w13">1.4</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px1.p1.3.6.w14">BLEU.</span></p>
</div>
</section>
<section id="S4.SS3.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Out-of-domain and multi-domain datastores</h5>

<div id="S4.SS3.SSS0.Px2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS3.SSS0.Px2.p1.1" class="ltx_p"><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.1.w1">Table </span><a href="#S4.T3" title="Table 3 ‣ Out-of-domain and multi-domain datastores ‣ 4.3 Domain Adaptation ‣ 4 Experiments ‣ Nearest Neighbor Machine Translation" class="ltx_ref">3</a><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w1"/><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w2">also</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w3">shows</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w4">performance</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w5">for</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w6">retrieving</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w7">neighbors</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w8">from</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w9">770M</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w10">tokens</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w11">of</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w12">WMT’19</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w13">data</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w14">that</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w15">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w16">model</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w17">has</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w18">been</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w19">trained</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w20">on.
While</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w21">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w22">average</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w23">BLEU</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w24">for</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w25">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w26">multi-domain</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w27">data</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w28">is</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w29">1</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w30">point</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w31">higher,</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w32">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w33">improvements</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w34">are</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w35">much</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w36">smaller</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w37">compared</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w38">to</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w39">using</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w40">in-domain</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w41">data.
This</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w42">illustrates</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w43">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w44">value</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w45">of</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w46">adding</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w47">domain-specific</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w48">data</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w49">to</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w50">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w51">datastore</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w52">over</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w53">adding</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w54">a</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w55">large</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w56">amount</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w57">of</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w58">arbitrary</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w59">data.
We</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w60">also</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w61">measure</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w62">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w63">effectiveness</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w64">of</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w65">building</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w66">a</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w67">single</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w68">multi-domain</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w69">datastore</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w70">containing</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w71">parallel</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w72">data</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w73">from</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w74">all</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w75">six</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w76">settings.
Performance</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w77">on</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w78">IT</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w79">improves</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w80">by</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w81">3</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w82">BLEU</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w83">but</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w84">scores</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w85">for</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w86">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w87">other</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w88">domains</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w89">are</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w90">mostly</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w91">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w92">same.
This</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w93">shows</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.2.w94">that</span><span> </span><math id="S4.SS3.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS3.SSS0.Px2.p1.1.m1.1a"><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w1">NN-MT</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w2">is</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w3">robust</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w4">to</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w5">the</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w6">presence</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w7">of</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w8">out-of-domain</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w9">examples</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w10">since</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w11">retrieving</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w12">neighbors</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w13">from</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w14">a</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w15">datastore</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w16">where</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w17">large</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w18">amounts</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w19">of</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w20">data</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w21">is</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w22">out-of-domain</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w23">does</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w24">not</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w25">hurt</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w26">performance</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w27">relative</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w28">to</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w29">using</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w30">only</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w31">in-domain</span><span> </span><span class="gd_word" id="S4.SS3.SSS0.Px2.p1.1.3.w32">data.</span></p>
</div>
<figure id="S4.T3" class="ltx_table">
<img src="/static/img/2010.00710-gpt-4/S4_T3.png" alt="/static/img/2010.00710-gpt-4/S4_T3.png"/><figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span><span class="gd_word" id="S4.T3.2.w1">Domain</span><span> </span><span class="gd_word" id="S4.T3.2.w2">adaptation</span><span> </span><span class="gd_word" id="S4.T3.2.w3">using</span><span> </span><math id="S4.T3.4.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.T3.4.m1.1b"><mi id="S4.T3.4.m1.1.1" xref="S4.T3.4.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S4.T3.3.w1">NN-MT.</span><span> </span><span class="gd_word" id="S4.T3.3.w2">The</span><span> </span><span class="gd_word" id="S4.T3.3.w3">base</span><span> </span><span class="gd_word" id="S4.T3.3.w4">MT</span><span> </span><span class="gd_word" id="S4.T3.3.w5">system</span><span> </span><span class="gd_word" id="S4.T3.3.w6">is</span><span> </span><span class="gd_word" id="S4.T3.3.w7">trained</span><span> </span><span class="gd_word" id="S4.T3.3.w8">on</span><span> </span><span class="gd_word" id="S4.T3.3.w9">WMT’19</span><span> </span><span class="gd_word" id="S4.T3.3.w10">data</span><span> </span><span class="gd_word" id="S4.T3.3.w11">which</span><span> </span><span class="gd_word" id="S4.T3.3.w12">is</span><span> </span><span class="gd_word" id="S4.T3.3.w13">also</span><span> </span><span class="gd_word" id="S4.T3.3.w14">treated</span><span> </span><span class="gd_word" id="S4.T3.3.w15">as</span><span> </span><span class="gd_word" id="S4.T3.3.w16">the</span><span> </span><span class="gd_word" id="S4.T3.3.w17">in-domain</span><span> </span><span class="gd_word" id="S4.T3.3.w18">data</span><span> </span><span class="gd_word" id="S4.T3.3.w19">for</span><span> </span><span class="gd_word" id="S4.T3.3.w20">newstest2019.</span><span> </span><math id="S4.T3.5.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.T3.5.m2.1b"><mi id="S4.T3.5.m2.1.1" xref="S4.T3.5.m2.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S4.T3.4.w1">NN-MT</span><span> </span><span class="gd_word" id="S4.T3.4.w2">improves</span><span> </span><span class="gd_word" id="S4.T3.4.w3">the</span><span> </span><span class="gd_word" id="S4.T3.4.w4">base</span><span> </span><span class="gd_word" id="S4.T3.4.w5">model</span><span> </span><span class="gd_word" id="S4.T3.4.w6">by</span><span> </span><span class="gd_word" id="S4.T3.4.w7">an</span><span> </span><span class="gd_word" id="S4.T3.4.w8">average</span><span> </span><span class="gd_word" id="S4.T3.4.w9">of</span><span> </span><span class="gd_word" id="S4.T3.4.w10">9.2</span><span> </span><span class="gd_word" id="S4.T3.4.w11">BLEU,</span><span> </span><span class="gd_word" id="S4.T3.4.w12">without</span><span> </span><span class="gd_word" id="S4.T3.4.w13">training,</span><span> </span><span class="gd_word" id="S4.T3.4.w14">to</span><span> </span><span class="gd_word" id="S4.T3.4.w15">achieve</span><span> </span><span class="gd_word" id="S4.T3.4.w16">the</span><span> </span><span class="gd_word" id="S4.T3.4.w17">best</span><span> </span><span class="gd_word" id="S4.T3.4.w18">reported</span><span> </span><span class="gd_word" id="S4.T3.4.w19">results</span><span> </span><span class="gd_word" id="S4.T3.4.w20">on</span><span> </span><span class="gd_word" id="S4.T3.4.w21">this</span><span> </span><span class="gd_word" id="S4.T3.4.w22">task.</span></figcaption>
</figure>
</section>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Tuning kNN-MT</h2>

<div id="S5.p1" class="ltx_para ltx_noindent">
<p id="S5.p1.1" class="ltx_p"><span class="gd_word" id="S5.p1.1.1.w1">We</span><span> </span><span class="gd_word" id="S5.p1.1.1.w2">investigate</span><span> </span><span class="gd_word" id="S5.p1.1.1.w3">how</span><span> </span><span class="gd_word" id="S5.p1.1.1.w4">key</span><span> </span><span class="gd_word" id="S5.p1.1.1.w5">hyperparameters</span><span> </span><span class="gd_word" id="S5.p1.1.1.w6">affect</span><span> </span><span class="gd_word" id="S5.p1.1.1.w7">multilingual</span><span> </span><math id="S5.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S5.p1.1.m1.1a"><mi id="S5.p1.1.m1.1.1" xref="S5.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S5.p1.1.2.w1">NN-MT</span><span> </span><span class="gd_word" id="S5.p1.1.2.w2">on</span><span> </span><span class="gd_word" id="S5.p1.1.2.w3">validation</span><span> </span><span class="gd_word" id="S5.p1.1.2.w4">data.</span><span> </span><span class="gd_word" id="S5.p1.1.2.w5">We</span><span> </span><span class="gd_word" id="S5.p1.1.2.w6">provide</span><span> </span><span class="gd_word" id="S5.p1.1.2.w7">validation</span><span> </span><span class="gd_word" id="S5.p1.1.2.w8">set</span><span> </span><span class="gd_word" id="S5.p1.1.2.w9">BLEU</span><span> </span><span class="gd_word" id="S5.p1.1.2.w10">scores</span><span> </span><span class="gd_word" id="S5.p1.1.2.w11">as</span><span> </span><span class="gd_word" id="S5.p1.1.2.w12">well</span><span> </span><span class="gd_word" id="S5.p1.1.2.w13">as</span><span> </span><span class="gd_word" id="S5.p1.1.2.w14">hyperparameter</span><span> </span><span class="gd_word" id="S5.p1.1.2.w15">choices</span><span> </span><span class="gd_word" id="S5.p1.1.2.w16">for</span><span> </span><span class="gd_word" id="S5.p1.1.2.w17">our</span><span> </span><span class="gd_word" id="S5.p1.1.2.w18">experiments</span><span> </span><span class="gd_word" id="S5.p1.1.2.w19">in</span><span> </span><span class="gd_word" id="S5.p1.1.2.w20">Appendix </span><a href="#A1" title="Appendix A Hyperparameter Tuning ‣ Nearest Neighbor Machine Translation" class="ltx_ref">A</a><span class="gd_word" id="S5.p1.1.3.w1">.</span></p>
</div>
<section id="S5.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Softmax temperature</h5>

<div id="S5.SS0.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="S5.SS0.SSS0.Px1.p1.1" class="ltx_p"><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w1">A</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w2">softmax</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w3">temperature</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w4">is</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w5">used</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w6">when</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w7">estimating</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w8">the</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w9">nearest</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w10">neighbor</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w11">distribution</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w12">in</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w13">order</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w14">to</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w15">prevent</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w16">the</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w17">model</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w18">from</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w19">assigning</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w20">most</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w21">of</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w22">the</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w23">probability</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w24">mass</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w25">to</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w26">a</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w27">single</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w28">neighbor,</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w29">thus</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w30">hurting</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w31">diversity.
Values</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w32">greater</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w33">than</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w34">1</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w35">will</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w36">flatten</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w37">the</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w38">distribution,</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w39">which</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w40">can</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.1.w41">improve</span><span> </span><math id="S5.SS0.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S5.SS0.SSS0.Px1.p1.1.m1.1a"><mi id="S5.SS0.SSS0.Px1.p1.1.m1.1.1" xref="S5.SS0.SSS0.Px1.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.2.w1">NN-MT</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.2.w2">performance.
Figure </span><a href="#S5.F3" title="Figure 3 ‣ Softmax temperature ‣ 5 Tuning kNN-MT ‣ Nearest Neighbor Machine Translation" class="ltx_ref">3</a><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w1"/><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w2">shows</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w3">that</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w4">a</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w5">temperature</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w6">of</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w7">1</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w8">results</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w9">in</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w10">significantly</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w11">lower</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w12">BLEU</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w13">scores.
For</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w14">all</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w15">of</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w16">our</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w17">experiments,</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w18">values</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w19">of</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w20">either</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w21">10</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w22">or</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w23">100</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w24">prove</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w25">to</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w26">be</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px1.p1.1.3.w27">optimal.</span></p>
</div>
<figure id="S5.F3" class="ltx_figure"><figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span><span class="gd_word" id="S5.F3.2.w1">Effect</span><span> </span><span class="gd_word" id="S5.F3.2.w2">of</span><span> </span><span class="gd_word" id="S5.F3.2.w3">the</span><span> </span><span class="gd_word" id="S5.F3.2.w4">number</span><span> </span><span class="gd_word" id="S5.F3.2.w5">of</span><span> </span><span class="gd_word" id="S5.F3.2.w6">neighbors</span><span> </span><span class="gd_word" id="S5.F3.2.w7">retrieved</span><span> </span><span class="gd_word" id="S5.F3.2.w8">and</span><span> </span><span class="gd_word" id="S5.F3.2.w9">the</span><span> </span><span class="gd_word" id="S5.F3.2.w10">softmax</span><span> </span><span class="gd_word" id="S5.F3.2.w11">temperature</span><span> </span><span class="gd_word" id="S5.F3.2.w12">on</span><span> </span><span class="gd_word" id="S5.F3.2.w13">the</span><span> </span><span class="gd_word" id="S5.F3.2.w14">validation</span><span> </span><span class="gd_word" id="S5.F3.2.w15">BLEU</span><span> </span><span class="gd_word" id="S5.F3.2.w16">score</span><span> </span><span class="gd_word" id="S5.F3.2.w17">for</span><span> </span><em id="S5.F3.4.1" class="ltx_emph ltx_font_italic">en-zh</em><span class="gd_word" id="S5.F3.3.w1">.</span><span> </span><span class="gd_word" id="S5.F3.3.w2">Temperatures</span><span> </span><span class="gd_word" id="S5.F3.3.w3">greater</span><span> </span><span class="gd_word" id="S5.F3.3.w4">than</span><span> </span><span class="gd_word" id="S5.F3.3.w5">1</span><span> </span><span class="gd_word" id="S5.F3.3.w6">are</span><span> </span><span class="gd_word" id="S5.F3.3.w7">important</span><span> </span><span class="gd_word" id="S5.F3.3.w8">to</span><span> </span><span class="gd_word" id="S5.F3.3.w9">prevent</span><span> </span><span class="gd_word" id="S5.F3.3.w10">the</span><span> </span><span class="gd_word" id="S5.F3.3.w11">model</span><span> </span><span class="gd_word" id="S5.F3.3.w12">from</span><span> </span><span class="gd_word" id="S5.F3.3.w13">overfitting</span><span> </span><span class="gd_word" id="S5.F3.3.w14">to</span><span> </span><span class="gd_word" id="S5.F3.3.w15">the</span><span> </span><span class="gd_word" id="S5.F3.3.w16">most</span><span> </span><span class="gd_word" id="S5.F3.3.w17">similar</span><span> </span><span class="gd_word" id="S5.F3.3.w18">neighbor.</span><span> </span><span class="gd_word" id="S5.F3.3.w19">For</span><span> </span><span class="gd_word" id="S5.F3.3.w20">higher</span><span> </span><span class="gd_word" id="S5.F3.3.w21">temperatures,</span><span> </span><span class="gd_word" id="S5.F3.3.w22">more</span><span> </span><span class="gd_word" id="S5.F3.3.w23">neighbors</span><span> </span><span class="gd_word" id="S5.F3.3.w24">do</span><span> </span><span class="gd_word" id="S5.F3.3.w25">not</span><span> </span><span class="gd_word" id="S5.F3.3.w26">always</span><span> </span><span class="gd_word" id="S5.F3.3.w27">result</span><span> </span><span class="gd_word" id="S5.F3.3.w28">in</span><span> </span><span class="gd_word" id="S5.F3.3.w29">improvements.</span></figcaption><figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span><span class="gd_word" id="S5.F3.2.w1">Effect</span><span> </span><span class="gd_word" id="S5.F3.2.w2">of</span><span> </span><span class="gd_word" id="S5.F3.2.w3">datastore</span><span> </span><span class="gd_word" id="S5.F3.2.w4">size</span><span> </span><span class="gd_word" id="S5.F3.2.w5">on</span><span> </span><span class="gd_word" id="S5.F3.2.w6">the</span><span> </span><span class="gd_word" id="S5.F3.2.w7">validation</span><span> </span><span class="gd_word" id="S5.F3.2.w8">BLEU</span><span> </span><span class="gd_word" id="S5.F3.2.w9">score</span><span> </span><span class="gd_word" id="S5.F3.2.w10">for</span><span> </span><em id="S5.F3.7.1" class="ltx_emph ltx_font_italic">ru-en</em><span class="gd_word" id="S5.F3.3.w1"/><span> </span><span class="gd_word" id="S5.F3.3.w2">and</span><span> </span><em id="S5.F3.8.2" class="ltx_emph ltx_font_italic">en-zh</em><span class="gd_word" id="S5.F3.4.w1">.</span><span> </span><span class="gd_word" id="S5.F3.4.w2">Performance</span><span> </span><span class="gd_word" id="S5.F3.4.w3">improves</span><span> </span><span class="gd_word" id="S5.F3.4.w4">monotonically</span><span> </span><span class="gd_word" id="S5.F3.4.w5">with</span><span> </span><span class="gd_word" id="S5.F3.4.w6">size</span><span> </span><span class="gd_word" id="S5.F3.4.w7">but</span><span> </span><span class="gd_word" id="S5.F3.4.w8">retrieval</span><span> </span><span class="gd_word" id="S5.F3.4.w9">can</span><span> </span><span class="gd_word" id="S5.F3.4.w10">be</span><span> </span><span class="gd_word" id="S5.F3.4.w11">slow</span><span> </span><span class="gd_word" id="S5.F3.4.w12">for</span><span> </span><span class="gd_word" id="S5.F3.4.w13">datastores</span><span> </span><span class="gd_word" id="S5.F3.4.w14">containing</span><span> </span><span class="gd_word" id="S5.F3.4.w15">billions</span><span> </span><span class="gd_word" id="S5.F3.4.w16">of</span><span> </span><span class="gd_word" id="S5.F3.4.w17">tokens.</span><span> </span><span class="gd_word" id="S5.F3.4.w18">Smaller</span><span> </span><span class="gd_word" id="S5.F3.4.w19">datastores,</span><span> </span><span class="gd_word" id="S5.F3.4.w20">which</span><span> </span><span class="gd_word" id="S5.F3.4.w21">account</span><span> </span><span class="gd_word" id="S5.F3.4.w22">for</span><span> </span><span class="gd_word" id="S5.F3.4.w23">a</span><span> </span><span class="gd_word" id="S5.F3.4.w24">large</span><span> </span><span class="gd_word" id="S5.F3.4.w25">fraction</span><span> </span><span class="gd_word" id="S5.F3.4.w26">of</span><span> </span><span class="gd_word" id="S5.F3.4.w27">the</span><span> </span><span class="gd_word" id="S5.F3.4.w28">improvement,</span><span> </span><span class="gd_word" id="S5.F3.4.w29">can</span><span> </span><span class="gd_word" id="S5.F3.4.w30">be</span><span> </span><span class="gd_word" id="S5.F3.4.w31">used</span><span> </span><span class="gd_word" id="S5.F3.4.w32">for</span><span> </span><span class="gd_word" id="S5.F3.4.w33">faster</span><span> </span><span class="gd_word" id="S5.F3.4.w34">retrieval.</span></figcaption>
</figure>
</section>
<section id="S5.SS0.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Number of neighbors per query</h5>

<div id="S5.SS0.SSS0.Px2.p1" class="ltx_para ltx_noindent">
<p id="S5.SS0.SSS0.Px2.p1.1" class="ltx_p"><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.1.w1">In</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.1.w2">our</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.1.w3">experiments,</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.1.w4">we</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.1.w5">fix</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.1.w6">the</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.1.w7">value</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.1.w8">of</span><span> </span><math id="S5.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S5.SS0.SSS0.Px2.p1.1.m1.1a"><mi id="S5.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S5.SS0.SSS0.Px2.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w1">,</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w2">the</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w3">number</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w4">of</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w5">neighbors</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w6">retrieved</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w7">per</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w8">query,</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w9">to</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w10">64.
For</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w11">a</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w12">fixed</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w13">temperature</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w14">and</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w15">interpolation</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w16">parameter,</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w17">we</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w18">find</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w19">that</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w20">performance</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w21">does</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w22">not</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w23">improve</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w24">when</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w25">retrieving</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w26">a</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w27">larger</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w28">number</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w29">of</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w30">neighbors,</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w31">and</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w32">in</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w33">some</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w34">cases,</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w35">performance</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w36">deteriorates.
This</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w37">suggests</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w38">that</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w39">retrieving</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w40">more</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w41">neighbors</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w42">can</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w43">add</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w44">noise</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w45">to</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w46">the</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w47">sequence</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w48">generation</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.2.w49">process.
Figure </span><a href="#S5.F3" title="Figure 3 ‣ Softmax temperature ‣ 5 Tuning kNN-MT ‣ Nearest Neighbor Machine Translation" class="ltx_ref">3</a><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w1"/><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w2">shows</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w3">that</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w4">in</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w5">some</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w6">cases,</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w7">performance</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w8">improves</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w9">when</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w10">retrieving</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w11">fewer</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w12">neighbors,</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w13">and</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w14">further</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w15">gains</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w16">may</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w17">be</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w18">possible</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w19">by</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w20">tuning</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w21">this</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px2.p1.1.3.w22">parameter.</span></p>
</div>
</section>
<section id="S5.SS0.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Datastore size</h5>

<div id="S5.SS0.SSS0.Px3.p1" class="ltx_para ltx_noindent">
<p id="S5.SS0.SSS0.Px3.p1.1" class="ltx_p"><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.1.w1">Figure </span><a href="#S5.F3" title="Figure 3 ‣ Softmax temperature ‣ 5 Tuning kNN-MT ‣ Nearest Neighbor Machine Translation" class="ltx_ref">3</a><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w1"/><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w2">shows</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w3">increasing</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w4">the</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w5">size</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w6">of</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w7">the</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w8">datastore</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w9">improves</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w10">translation</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w11">performance.
However,</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w12">larger</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w13">datastores</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w14">result</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w15">in</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w16">slower</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w17">retrieval,</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w18">indicating</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w19">a</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w20">speed-performance</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w21">trade-off.</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w22">Much</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w23">of</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w24">the</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w25">benefit</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w26">can</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w27">be</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w28">realized</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w29">with</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w30">much</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w31">smaller,</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w32">and</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w33">correspondingly</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w34">faster,</span><span> </span><span class="gd_word" id="S5.SS0.SSS0.Px3.p1.1.2.w35">datastores.</span></p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Qualitative Analysis</h2>

<figure id="S6.F4" class="ltx_figure">
<img src="/static/img/2010.00710/S6_F4.png" alt="/static/img/2010.00710/S6_F4.png"/><figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 4: </span><span class="gd_word" id="S6.F4.2.w1">Example</span><span> </span><span class="gd_word" id="S6.F4.2.w2">retrievals</span><span> </span><span class="gd_word" id="S6.F4.2.w3">using</span><span> </span><span class="gd_word" id="S6.F4.2.w4">kNN-MT.</span><span> </span><span class="gd_word" id="S6.F4.2.w5">Not</span><span> </span><span class="gd_word" id="S6.F4.2.w6">only</span><span> </span><span class="gd_word" id="S6.F4.2.w7">do</span><span> </span><span class="gd_word" id="S6.F4.2.w8">the</span><span> </span><span class="gd_word" id="S6.F4.2.w9">retrievals</span><span> </span><span class="gd_word" id="S6.F4.2.w10">all</span><span> </span><span class="gd_word" id="S6.F4.2.w11">correctly</span><span> </span><span class="gd_word" id="S6.F4.2.w12">predict</span><span> </span><span class="gd_word" id="S6.F4.2.w13">the</span><span> </span><span class="gd_word" id="S6.F4.2.w14">target</span><span> </span><span class="gd_word" id="S6.F4.2.w15">word</span><span> </span><em id="S6.F4.4.1" class="ltx_emph ltx_font_italic">military</em><span class="gd_word" id="S6.F4.3.w1">,</span><span> </span><span class="gd_word" id="S6.F4.3.w2">but</span><span> </span><span class="gd_word" id="S6.F4.3.w3">the</span><span> </span><span class="gd_word" id="S6.F4.3.w4">local</span><span> </span><span class="gd_word" id="S6.F4.3.w5">contexts</span><span> </span><span class="gd_word" id="S6.F4.3.w6">tend</span><span> </span><span class="gd_word" id="S6.F4.3.w7">to</span><span> </span><span class="gd_word" id="S6.F4.3.w8">be</span><span> </span><span class="gd_word" id="S6.F4.3.w9">semantically</span><span> </span><span class="gd_word" id="S6.F4.3.w10">related.</span><span> </span><span class="gd_word" id="S6.F4.3.w11">Both</span><span> </span><span class="gd_word" id="S6.F4.3.w12">the</span><span> </span><span class="gd_word" id="S6.F4.3.w13">source</span><span> </span><span class="gd_word" id="S6.F4.3.w14">and</span><span> </span><span class="gd_word" id="S6.F4.3.w15">the</span><span> </span><span class="gd_word" id="S6.F4.3.w16">three</span><span> </span><span class="gd_word" id="S6.F4.3.w17">nearest</span><span> </span><span class="gd_word" id="S6.F4.3.w18">retrievals</span><span> </span><span class="gd_word" id="S6.F4.3.w19">express</span><span> </span><span class="gd_word" id="S6.F4.3.w20">the</span><span> </span><span class="gd_word" id="S6.F4.3.w21">concept</span><span> </span><span class="gd_word" id="S6.F4.3.w22">of</span><span> </span><span class="gd_word" id="S6.F4.3.w23">control</span><span> </span><span class="gd_word" id="S6.F4.3.w24">over</span><span> </span><span class="gd_word" id="S6.F4.3.w25">the</span><span> </span><span class="gd_word" id="S6.F4.3.w26">military.</span><span> </span></figcaption>
</figure>
<div id="S6.p1" class="ltx_para ltx_noindent">
<p id="S6.p1.4" class="ltx_p"><span class="gd_word" id="S6.p1.4.1.w1">To</span><span> </span><span class="gd_word" id="S6.p1.4.1.w2">better</span><span> </span><span class="gd_word" id="S6.p1.4.1.w3">understand</span><span> </span><math id="S6.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S6.p1.1.m1.1a"><mi id="S6.p1.1.m1.1.1" xref="S6.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S6.p1.4.2.w1">NN-MT,</span><span> </span><span class="gd_word" id="S6.p1.4.2.w2">we</span><span> </span><span class="gd_word" id="S6.p1.4.2.w3">examine</span><span> </span><span class="gd_word" id="S6.p1.4.2.w4">the</span><span> </span><span class="gd_word" id="S6.p1.4.2.w5">retrievals</span><span> </span><span class="gd_word" id="S6.p1.4.2.w6">for</span><span> </span><span class="gd_word" id="S6.p1.4.2.w7">several</span><span> </span><span class="gd_word" id="S6.p1.4.2.w8">examples.
We</span><span> </span><span class="gd_word" id="S6.p1.4.2.w9">use</span><span> </span><span class="gd_word" id="S6.p1.4.2.w10">the</span><span> </span><span class="gd_word" id="S6.p1.4.2.w11">German-English</span><span> </span><span class="gd_word" id="S6.p1.4.2.w12">model</span><span> </span><span class="gd_word" id="S6.p1.4.2.w13">and</span><span> </span><span class="gd_word" id="S6.p1.4.2.w14">generate</span><span> </span><span class="gd_word" id="S6.p1.4.2.w15">with</span><span> </span><span class="gd_word" id="S6.p1.4.2.w16">only</span><span> </span><span class="gd_word" id="S6.p1.4.2.w17">the</span><span> </span><math id="S6.p1.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S6.p1.2.m2.1a"><mi id="S6.p1.2.m2.1.1" xref="S6.p1.2.m2.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S6.p1.4.3.w1">NN</span><span> </span><span class="gd_word" id="S6.p1.4.3.w2">distribution</span><span> </span><span class="gd_word" id="S6.p1.4.3.w3">(</span><math id="S6.p1.3.m3.1" class="ltx_Math" alttext="\lambda=1" display="inline"><semantics id="S6.p1.3.m3.1a"><mrow id="S6.p1.3.m3.1.1" xref="S6.p1.3.m3.1.1.cmml"><mi id="S6.p1.3.m3.1.1.2" xref="S6.p1.3.m3.1.1.2.cmml">λ</mi><mo id="S6.p1.3.m3.1.1.1" xref="S6.p1.3.m3.1.1.1.cmml">=</mo><mn id="S6.p1.3.m3.1.1.3" xref="S6.p1.3.m3.1.1.3.cmml">1</mn></mrow></semantics></math><span class="gd_word" id="S6.p1.4.4.w1">)</span><span> </span><span class="gd_word" id="S6.p1.4.4.w2">with</span><span> </span><span class="gd_word" id="S6.p1.4.4.w3">beam</span><span> </span><span class="gd_word" id="S6.p1.4.4.w4">size</span><span> </span><span class="gd_word" id="S6.p1.4.4.w5">1,</span><span> </span><span class="gd_word" id="S6.p1.4.4.w6">retrieving</span><span> </span><math id="S6.p1.4.m4.1" class="ltx_Math" alttext="k=8" display="inline"><semantics id="S6.p1.4.m4.1a"><mrow id="S6.p1.4.m4.1.1" xref="S6.p1.4.m4.1.1.cmml"><mi id="S6.p1.4.m4.1.1.2" xref="S6.p1.4.m4.1.1.2.cmml">k</mi><mo id="S6.p1.4.m4.1.1.1" xref="S6.p1.4.m4.1.1.1.cmml">=</mo><mn id="S6.p1.4.m4.1.1.3" xref="S6.p1.4.m4.1.1.3.cmml">8</mn></mrow></semantics></math><span class="gd_word" id="S6.p1.4.5.w1"/><span> </span><span class="gd_word" id="S6.p1.4.5.w2">neighbors</span><span> </span><span class="gd_word" id="S6.p1.4.5.w3">from</span><span> </span><span class="gd_word" id="S6.p1.4.5.w4">the</span><span> </span><span class="gd_word" id="S6.p1.4.5.w5">News</span><span> </span><span class="gd_word" id="S6.p1.4.5.w6">Commentary</span><span> </span><span class="gd_word" id="S6.p1.4.5.w7">and</span><span> </span><span class="gd_word" id="S6.p1.4.5.w8">Common</span><span> </span><span class="gd_word" id="S6.p1.4.5.w9">Crawl</span><span> </span><span class="gd_word" id="S6.p1.4.5.w10">subsets</span><span> </span><span class="gd_word" id="S6.p1.4.5.w11">of</span><span> </span><span class="gd_word" id="S6.p1.4.5.w12">WMT’19</span><span> </span><span class="gd_word" id="S6.p1.4.5.w13">data.</span></p>
</div>
<div id="S6.p2" class="ltx_para ltx_noindent">
<p id="S6.p2.1" class="ltx_p"><span class="gd_word" id="S6.p2.1.1.w1">Figure </span><a href="#S6.F4" title="Figure 4 ‣ 6 Qualitative Analysis ‣ Nearest Neighbor Machine Translation" class="ltx_ref">4</a><span class="gd_word" id="S6.p2.1.2.w1"/><span> </span><span class="gd_word" id="S6.p2.1.2.w2">shows</span><span> </span><span class="gd_word" id="S6.p2.1.2.w3">an</span><span> </span><span class="gd_word" id="S6.p2.1.2.w4">example</span><span> </span><span class="gd_word" id="S6.p2.1.2.w5">from</span><span> </span><span class="gd_word" id="S6.p2.1.2.w6">newstest2018</span><span> </span><span class="gd_word" id="S6.p2.1.2.w7">where</span><span> </span><span class="gd_word" id="S6.p2.1.2.w8">all</span><span> </span><span class="gd_word" id="S6.p2.1.2.w9">the</span><span> </span><span class="gd_word" id="S6.p2.1.2.w10">retrieved</span><span> </span><span class="gd_word" id="S6.p2.1.2.w11">neighbors</span><span> </span><span class="gd_word" id="S6.p2.1.2.w12">map</span><span> </span><span class="gd_word" id="S6.p2.1.2.w13">to</span><span> </span><span class="gd_word" id="S6.p2.1.2.w14">the</span><span> </span><span class="gd_word" id="S6.p2.1.2.w15">same</span><span> </span><span class="gd_word" id="S6.p2.1.2.w16">target,</span><span> </span><em id="S6.p2.1.1" class="ltx_emph ltx_font_italic">military</em><span class="gd_word" id="S6.p2.1.3.w1">.
Many</span><span> </span><span class="gd_word" id="S6.p2.1.3.w2">of</span><span> </span><span class="gd_word" id="S6.p2.1.3.w3">the</span><span> </span><span class="gd_word" id="S6.p2.1.3.w4">retrieved</span><span> </span><span class="gd_word" id="S6.p2.1.3.w5">examples</span><span> </span><span class="gd_word" id="S6.p2.1.3.w6">include</span><span> </span><span class="gd_word" id="S6.p2.1.3.w7">phrases</span><span> </span><span class="gd_word" id="S6.p2.1.3.w8">similar</span><span> </span><span class="gd_word" id="S6.p2.1.3.w9">to</span><span> </span><em id="S6.p2.1.2" class="ltx_emph ltx_font_italic">tamed the military</em><span class="gd_word" id="S6.p2.1.4.w1"/><span> </span><span class="gd_word" id="S6.p2.1.4.w2">such</span><span> </span><span class="gd_word" id="S6.p2.1.4.w3">as</span><span> </span><em id="S6.p2.1.3" class="ltx_emph ltx_font_italic">Autorität gegenüber dem Militär</em><span class="gd_word" id="S6.p2.1.5.w1">,</span><span> </span><em id="S6.p2.1.4" class="ltx_emph ltx_font_italic">Kontrolle des Militärs</em><span class="gd_word" id="S6.p2.1.6.w1"/><span> </span><span class="gd_word" id="S6.p2.1.6.w2">and</span><span> </span><em id="S6.p2.1.5" class="ltx_emph ltx_font_italic">das Militär gezwungen</em><span class="gd_word" id="S6.p2.1.7.w1"/><span> </span><span class="gd_word" id="S6.p2.1.7.w2">on</span><span> </span><span class="gd_word" id="S6.p2.1.7.w3">the</span><span> </span><span class="gd_word" id="S6.p2.1.7.w4">source</span><span> </span><span class="gd_word" id="S6.p2.1.7.w5">side</span><span> </span><span class="gd_word" id="S6.p2.1.7.w6">and</span><span> </span><em id="S6.p2.1.6" class="ltx_emph ltx_font_italic">authority over the military</em><span class="gd_word" id="S6.p2.1.8.w1">,</span><span> </span><em id="S6.p2.1.7" class="ltx_emph ltx_font_italic">control over the military</em><span class="gd_word" id="S6.p2.1.9.w1"/><span> </span><span class="gd_word" id="S6.p2.1.9.w2">and</span><span> </span><em id="S6.p2.1.8" class="ltx_emph ltx_font_italic">forced the military</em><span class="gd_word" id="S6.p2.1.10.w1"/><span> </span><span class="gd_word" id="S6.p2.1.10.w2">given</span><span> </span><span class="gd_word" id="S6.p2.1.10.w3">the</span><span> </span><span class="gd_word" id="S6.p2.1.10.w4">local</span><span> </span><span class="gd_word" id="S6.p2.1.10.w5">target</span><span> </span><span class="gd_word" id="S6.p2.1.10.w6">side</span><span> </span><span class="gd_word" id="S6.p2.1.10.w7">context,</span><span> </span><span class="gd_word" id="S6.p2.1.10.w8">but</span><span> </span><span class="gd_word" id="S6.p2.1.10.w9">differ</span><span> </span><span class="gd_word" id="S6.p2.1.10.w10">sharply</span><span> </span><span class="gd_word" id="S6.p2.1.10.w11">in</span><span> </span><span class="gd_word" id="S6.p2.1.10.w12">their</span><span> </span><span class="gd_word" id="S6.p2.1.10.w13">longer</span><span> </span><span class="gd_word" id="S6.p2.1.10.w14">context,</span><span> </span><span class="gd_word" id="S6.p2.1.10.w15">often</span><span> </span><span class="gd_word" id="S6.p2.1.10.w16">describing</span><span> </span><span class="gd_word" id="S6.p2.1.10.w17">different</span><span> </span><span class="gd_word" id="S6.p2.1.10.w18">nations</span><span> </span><span class="gd_word" id="S6.p2.1.10.w19">and</span><span> </span><span class="gd_word" id="S6.p2.1.10.w20">centuries.
We</span><span> </span><span class="gd_word" id="S6.p2.1.10.w21">provide</span><span> </span><span class="gd_word" id="S6.p2.1.10.w22">additional</span><span> </span><span class="gd_word" id="S6.p2.1.10.w23">examples</span><span> </span><span class="gd_word" id="S6.p2.1.10.w24">illustrating</span><span> </span><span class="gd_word" id="S6.p2.1.10.w25">this</span><span> </span><span class="gd_word" id="S6.p2.1.10.w26">point</span><span> </span><span class="gd_word" id="S6.p2.1.10.w27">in</span><span> </span><span class="gd_word" id="S6.p2.1.10.w28">Appendix </span><a href="#A2" title="Appendix B Additional Examples ‣ Nearest Neighbor Machine Translation" class="ltx_ref">B</a><span class="gd_word" id="S6.p2.1.11.w1">.</span></p>
</div>
<div id="S6.p3" class="ltx_para ltx_noindent">
<p id="S6.p3.1" class="ltx_p"><span class="gd_word" id="S6.p3.1.1.w1">Another</span><span> </span><span class="gd_word" id="S6.p3.1.1.w2">interesting</span><span> </span><span class="gd_word" id="S6.p3.1.1.w3">observation</span><span> </span><span class="gd_word" id="S6.p3.1.1.w4">is</span><span> </span><span class="gd_word" id="S6.p3.1.1.w5">that</span><span> </span><math id="S6.p3.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S6.p3.1.m1.1a"><mi id="S6.p3.1.m1.1.1" xref="S6.p3.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S6.p3.1.2.w1">NN,</span><span> </span><span class="gd_word" id="S6.p3.1.2.w2">even</span><span> </span><span class="gd_word" id="S6.p3.1.2.w3">when</span><span> </span><span class="gd_word" id="S6.p3.1.2.w4">not</span><span> </span><span class="gd_word" id="S6.p3.1.2.w5">interpolated</span><span> </span><span class="gd_word" id="S6.p3.1.2.w6">with</span><span> </span><span class="gd_word" id="S6.p3.1.2.w7">the</span><span> </span><span class="gd_word" id="S6.p3.1.2.w8">base</span><span> </span><span class="gd_word" id="S6.p3.1.2.w9">model,</span><span> </span><span class="gd_word" id="S6.p3.1.2.w10">is</span><span> </span><span class="gd_word" id="S6.p3.1.2.w11">able</span><span> </span><span class="gd_word" id="S6.p3.1.2.w12">to</span><span> </span><span class="gd_word" id="S6.p3.1.2.w13">reconstruct</span><span> </span><span class="gd_word" id="S6.p3.1.2.w14">named</span><span> </span><span class="gd_word" id="S6.p3.1.2.w15">entities</span><span> </span><span class="gd_word" id="S6.p3.1.2.w16">that</span><span> </span><span class="gd_word" id="S6.p3.1.2.w17">are</span><span> </span><span class="gd_word" id="S6.p3.1.2.w18">split</span><span> </span><span class="gd_word" id="S6.p3.1.2.w19">into</span><span> </span><span class="gd_word" id="S6.p3.1.2.w20">multiple</span><span> </span><span class="gd_word" id="S6.p3.1.2.w21">subword</span><span> </span><span class="gd_word" id="S6.p3.1.2.w22">tokens,</span><span> </span><span class="gd_word" id="S6.p3.1.2.w23">even</span><span> </span><span class="gd_word" id="S6.p3.1.2.w24">if</span><span> </span><span class="gd_word" id="S6.p3.1.2.w25">that</span><span> </span><span class="gd_word" id="S6.p3.1.2.w26">particular</span><span> </span><span class="gd_word" id="S6.p3.1.2.w27">named</span><span> </span><span class="gd_word" id="S6.p3.1.2.w28">entity</span><span> </span><span class="gd_word" id="S6.p3.1.2.w29">does</span><span> </span><span class="gd_word" id="S6.p3.1.2.w30">not</span><span> </span><span class="gd_word" id="S6.p3.1.2.w31">appear</span><span> </span><span class="gd_word" id="S6.p3.1.2.w32">in</span><span> </span><span class="gd_word" id="S6.p3.1.2.w33">the</span><span> </span><span class="gd_word" id="S6.p3.1.2.w34">datastore.
One</span><span> </span><span class="gd_word" id="S6.p3.1.2.w35">such</span><span> </span><span class="gd_word" id="S6.p3.1.2.w36">example</span><span> </span><span class="gd_word" id="S6.p3.1.2.w37">is</span><span> </span><span class="gd_word" id="S6.p3.1.2.w38">the</span><span> </span><span class="gd_word" id="S6.p3.1.2.w39">name</span><span> </span><em id="S6.p3.1.1" class="ltx_emph ltx_font_italic">Haysom</em><span class="gd_word" id="S6.p3.1.3.w1"/><span> </span><span class="gd_word" id="S6.p3.1.3.w2">that</span><span> </span><span class="gd_word" id="S6.p3.1.3.w3">is</span><span> </span><span class="gd_word" id="S6.p3.1.3.w4">split</span><span> </span><span class="gd_word" id="S6.p3.1.3.w5">into</span><span> </span><span class="gd_word" id="S6.p3.1.3.w6">subwords</span><span> </span><em id="S6.p3.1.2" class="ltx_emph ltx_font_italic">Hay</em><span class="gd_word" id="S6.p3.1.4.w1"/><span> </span><span class="gd_word" id="S6.p3.1.4.w2">and</span><span> </span><em id="S6.p3.1.3" class="ltx_emph ltx_font_italic">som</em><span class="gd_word" id="S6.p3.1.5.w1">.
The</span><span> </span><span class="gd_word" id="S6.p3.1.5.w2">retrieved</span><span> </span><span class="gd_word" id="S6.p3.1.5.w3">neighbors</span><span> </span><span class="gd_word" id="S6.p3.1.5.w4">for</span><span> </span><span class="gd_word" id="S6.p3.1.5.w5">the</span><span> </span><span class="gd_word" id="S6.p3.1.5.w6">first</span><span> </span><span class="gd_word" id="S6.p3.1.5.w7">subword</span><span> </span><span class="gd_word" id="S6.p3.1.5.w8">token</span><span> </span><span class="gd_word" id="S6.p3.1.5.w9">include</span><span> </span><span class="gd_word" id="S6.p3.1.5.w10">examples</span><span> </span><span class="gd_word" id="S6.p3.1.5.w11">that</span><span> </span><span class="gd_word" id="S6.p3.1.5.w12">contain</span><span> </span><span class="gd_word" id="S6.p3.1.5.w13">the</span><span> </span><span class="gd_word" id="S6.p3.1.5.w14">names</span><span> </span><em id="S6.p3.1.4" class="ltx_emph ltx_font_italic">Hayes</em><span class="gd_word" id="S6.p3.1.6.w1"/><span> </span><span class="gd_word" id="S6.p3.1.6.w2">and</span><span> </span><em id="S6.p3.1.5" class="ltx_emph ltx_font_italic">Haydn</em><span class="gd_word" id="S6.p3.1.7.w1">,</span><span> </span><span class="gd_word" id="S6.p3.1.7.w2">while</span><span> </span><span class="gd_word" id="S6.p3.1.7.w3">those</span><span> </span><span class="gd_word" id="S6.p3.1.7.w4">for</span><span> </span><span class="gd_word" id="S6.p3.1.7.w5">the</span><span> </span><span class="gd_word" id="S6.p3.1.7.w6">second</span><span> </span><span class="gd_word" id="S6.p3.1.7.w7">include</span><span> </span><em id="S6.p3.1.6" class="ltx_emph ltx_font_italic">Grissom</em><span class="gd_word" id="S6.p3.1.8.w1"/><span> </span><span class="gd_word" id="S6.p3.1.8.w2">and</span><span> </span><em id="S6.p3.1.7" class="ltx_emph ltx_font_italic">Folsom</em><span class="gd_word" id="S6.p3.1.9.w1">,</span><span> </span><span class="gd_word" id="S6.p3.1.9.w2">showing</span><span> </span><span class="gd_word" id="S6.p3.1.9.w3">subword</span><span> </span><span class="gd_word" id="S6.p3.1.9.w4">representations</span><span> </span><span class="gd_word" id="S6.p3.1.9.w5">are</span><span> </span><span class="gd_word" id="S6.p3.1.9.w6">used</span><span> </span><span class="gd_word" id="S6.p3.1.9.w7">effectively</span><span> </span><span class="gd_word" id="S6.p3.1.9.w8">in</span><span> </span><span class="gd_word" id="S6.p3.1.9.w9">the</span><span> </span><span class="gd_word" id="S6.p3.1.9.w10">nearest</span><span> </span><span class="gd_word" id="S6.p3.1.9.w11">neighbor</span><span> </span><span class="gd_word" id="S6.p3.1.9.w12">search.</span></p>
</div>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Related Work</h2>

<section id="S7.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Retrieval in Translation</h5>

<div id="S7.SS0.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="S7.SS0.SSS0.Px1.p1.3" class="ltx_p"><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w1">Recent</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w2">work</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w3">has</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w4">integrated</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w5">retrieval</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w6">of</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w7">words</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w8">and</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w9">phrases</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w10">into</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w11">neural</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w12">translation,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w13">to</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w14">gain</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w15">some</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w16">of</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w17">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w18">advantages</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w19">of</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w20">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w21">previous</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w22">generation</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w23">of</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w24">word-</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w25">and</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w26">phrase-based</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.1.w27">methods </span><cite class="ltx_cite ltx_citemacro_citep">(Brown et al., <a href="#bib.bib6" title="" class="ltx_ref">1993</a>; Koehn et al., <a href="#bib.bib24" title="" class="ltx_ref">2003</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.2.w1">.
For</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.2.w2">example,</span><span> </span><cite class="ltx_cite ltx_citemacro_citet">Zhang et al. (<a href="#bib.bib43" title="" class="ltx_ref">2018</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.3.w1"/><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.3.w2">proposed</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.3.w3">guiding</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.3.w4">models</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.3.w5">by</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.3.w6">retrieving</span><span> </span><math id="S7.SS0.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S7.SS0.SSS0.Px1.p1.1.m1.1a"><mi id="S7.SS0.SSS0.Px1.p1.1.m1.1.1" xref="S7.SS0.SSS0.Px1.p1.1.m1.1.1.cmml">n</mi></semantics></math><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.4.w1">-grams</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.4.w2">and</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.4.w3">up-weighting</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.4.w4">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.4.w5">probabilities</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.4.w6">of</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.4.w7">retrieved</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.4.w8">tokens.
</span><cite class="ltx_cite ltx_citemacro_citet">Tu et al. (<a href="#bib.bib34" title="" class="ltx_ref">2018</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.5.w1"/><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.5.w2">use</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.5.w3">cache-based</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.5.w4">models </span><cite class="ltx_cite ltx_citemacro_citep">(Grave et al., <a href="#bib.bib13" title="" class="ltx_ref">2017a</a>; <a href="#bib.bib14" title="" class="ltx_ref">b</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w1"/><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w2">to</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w3">save</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w4">and</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w5">retrieve</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w6">translation</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w7">histories,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w8">so</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w9">models</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w10">can</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w11">adapt</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w12">to</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w13">changing</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w14">contexts.
Compared</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w15">to</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.6.w16">these,</span><span> </span><math id="S7.SS0.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S7.SS0.SSS0.Px1.p1.2.m2.1a"><mi id="S7.SS0.SSS0.Px1.p1.2.m2.1.1" xref="S7.SS0.SSS0.Px1.p1.2.m2.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w1">NN-MT</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w2">has</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w3">several</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w4">advantages</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w5">—</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w6">for</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w7">instance,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w8">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w9">external</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w10">datastore</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w11">only</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w12">needs</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w13">to</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w14">be</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w15">created</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w16">once,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w17">whereas</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w18">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w19">cache</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w20">model</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w21">requires</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w22">constant</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w23">writes.</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.7.w24">Further,</span><span> </span><math id="S7.SS0.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S7.SS0.SSS0.Px1.p1.3.m3.1a"><mi id="S7.SS0.SSS0.Px1.p1.3.m3.1.1" xref="S7.SS0.SSS0.Px1.p1.3.m3.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.8.w1">NN-MT</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.8.w2">scales</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.8.w3">retrieval</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.8.w4">to</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.8.w5">orders-of-magnitude</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.8.w6">larger</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.8.w7">datastores,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.8.w8">while</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.8.w9">taking</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.8.w10">advantage</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.8.w11">of</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.8.w12">neural</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.8.w13">context</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p1.3.8.w14">representations.</span></p>
</div>
<div id="S7.SS0.SSS0.Px1.p2" class="ltx_para ltx_noindent">
<p id="S7.SS0.SSS0.Px1.p2.1" class="ltx_p"><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.1.w1">Other</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.1.w2">work</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.1.w3">has</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.1.w4">retrieved</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.1.w5">complete</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.1.w6">example</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.1.w7">translation</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.1.w8">sentences</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.1.w9">at</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.1.w10">test</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.1.w11">time.</span><span> </span><cite class="ltx_cite ltx_citemacro_citet">Nagao (<a href="#bib.bib27" title="" class="ltx_ref">1984</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w1"/><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w2">proposed</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w3">example-based</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w4">MT</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w5">for</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w6">translating</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w7">sequences</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w8">by</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w9">analogy.</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w10">Before</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w11">deep</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w12">learning</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w13">was</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w14">widely</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w15">adopted,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w16">this</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w17">approach</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w18">was</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w19">extended</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w20">to</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w21">identifying</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w22">portions</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w23">of</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w24">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w25">training</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w26">data</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w27">that</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w28">could</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w29">be</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w30">a</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w31">translation</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w32">based</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w33">on</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w34">edit</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.2.w35">distance </span><cite class="ltx_cite ltx_citemacro_citep">(Doi et al., <a href="#bib.bib10" title="" class="ltx_ref">2005</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.3.w1">,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.3.w2">matching</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.3.w3">training</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.3.w4">examples</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.3.w5">based</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.3.w6">on</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.3.w7">local</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.3.w8">trigram</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.3.w9">contexts</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(van den Bosch et al., <a href="#bib.bib36" title="" class="ltx_ref">2007</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.4.w1">,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.4.w2">using</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.4.w3">phrase-based</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.4.w4">memories</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(van Gompel et al., <a href="#bib.bib37" title="" class="ltx_ref">2010</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.5.w1"/><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.5.w2">and</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.5.w3">incorporating</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.5.w4">syntactic</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.5.w5">features</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.5.w6">when</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.5.w7">retrieving</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.5.w8">similar</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.5.w9">examples</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Stroppa et al., <a href="#bib.bib33" title="" class="ltx_ref">2007</a>; Haque et al., <a href="#bib.bib18" title="" class="ltx_ref">2009</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.6.w1">.
Recently,</span><span> </span><cite class="ltx_cite ltx_citemacro_citet">Gu et al. (<a href="#bib.bib15" title="" class="ltx_ref">2018</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w1"/><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w2">proposed</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w3">a</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w4">model</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w5">that</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w6">retrieves</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w7">examples</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w8">similar</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w9">to</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w10">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w11">test</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w12">source</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w13">sequence</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w14">and</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w15">then</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w16">attends</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w17">over</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w18">this</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w19">subset</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w20">of</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w21">retrieved</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w22">source-target</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w23">pairs</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w24">at</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w25">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w26">token</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w27">level,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w28">while</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w29">generating</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.7.w30">translations.
</span><cite class="ltx_cite ltx_citemacro_citet">Bulte &amp; Tezcan (<a href="#bib.bib7" title="" class="ltx_ref">2019</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.8.w1"/><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.8.w2">and</span><span> </span><cite class="ltx_cite ltx_citemacro_citet">Xu et al. (<a href="#bib.bib41" title="" class="ltx_ref">2020</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w1"/><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w2">use</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w3">fuzzy-matching</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w4">with</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w5">translation</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w6">memories</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w7">and</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w8">augment</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w9">source</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w10">sequences</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w11">with</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w12">retrieved</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w13">source-target</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w14">pairs.
These</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w15">techniques</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w16">face</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w17">challenges</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w18">in</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w19">identifying</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w20">relevant</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w21">retrieval</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w22">candidates,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w23">as</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w24">they</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w25">focus</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w26">on</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w27">sentence-level</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w28">retrieval.</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w29">In</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.9.w30">contrast,</span><span> </span><math id="S7.SS0.SSS0.Px1.p2.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S7.SS0.SSS0.Px1.p2.1.m1.1a"><mi id="S7.SS0.SSS0.Px1.p2.1.m1.1.1" xref="S7.SS0.SSS0.Px1.p2.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w1">NN-MT</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w2">focuses</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w3">on</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w4">token</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w5">level</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w6">retrieval</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w7">from</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w8">billions</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w9">of</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w10">key-value</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w11">pairs,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w12">meaning</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w13">that</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w14">each</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w15">word</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w16">can</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w17">retrieve</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w18">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w19">most</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w20">relevant</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w21">examples</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w22">for</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w23">its</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p2.1.10.w24">translation.
</span></p>
</div>
<div id="S7.SS0.SSS0.Px1.p3" class="ltx_para ltx_noindent">
<p id="S7.SS0.SSS0.Px1.p3.2" class="ltx_p"><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.1.w1">Finally,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.1.w2">various</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.1.w3">studies</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.1.w4">have</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.1.w5">explored</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.1.w6">retrieving</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.1.w7">additional</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.1.w8">information</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.1.w9">to</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.1.w10">improve</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.1.w11">domain</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.1.w12">adaptation,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.1.w13">often</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.1.w14">using</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.1.w15">lexicons </span><cite class="ltx_cite ltx_citemacro_citep">(Hu et al., <a href="#bib.bib20" title="" class="ltx_ref">2019</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.2.w1">,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.2.w2">domain-adaptive</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.2.w3">training </span><cite class="ltx_cite ltx_citemacro_citep">(Farajian et al., <a href="#bib.bib12" title="" class="ltx_ref">2017</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.3.w1"/><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.3.w2">or</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.3.w3">attending</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.3.w4">over</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.3.w5">neighbors</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.3.w6">similar</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.3.w7">to</span><span> </span><math id="S7.SS0.SSS0.Px1.p3.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S7.SS0.SSS0.Px1.p3.1.m1.1a"><mi id="S7.SS0.SSS0.Px1.p3.1.m1.1.1" xref="S7.SS0.SSS0.Px1.p3.1.m1.1.1.cmml">n</mi></semantics></math><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.4.w1">-grams</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.4.w2">in</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.4.w3">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.4.w4">source</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Bapna &amp; Firat, <a href="#bib.bib3" title="" class="ltx_ref">2019</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.5.w1">.</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.5.w2">These</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.5.w3">modifications</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.5.w4">require</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.5.w5">additional</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.5.w6">training,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.5.w7">whereas</span><span> </span><math id="S7.SS0.SSS0.Px1.p3.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S7.SS0.SSS0.Px1.p3.2.m2.1a"><mi id="S7.SS0.SSS0.Px1.p3.2.m2.1.1" xref="S7.SS0.SSS0.Px1.p3.2.m2.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w1">NN-MT</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w2">provides</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w3">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w4">flexibility</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w5">to</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w6">use</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w7">different</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w8">datastores</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w9">when</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w10">decoding</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w11">in</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w12">different</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w13">domains,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w14">keeping</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w15">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w16">model</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px1.p3.2.6.w17">fixed.
</span></p>
</div>
</section>
<section id="S7.SS0.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Retrieval in Text Generation</h5>

<div id="S7.SS0.SSS0.Px2.p1" class="ltx_para ltx_noindent">
<p id="S7.SS0.SSS0.Px2.p1.1" class="ltx_p"><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.1.w1">Retrieval</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.1.w2">mechanisms</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.1.w3">have</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.1.w4">also</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.1.w5">been</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.1.w6">applied</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.1.w7">to</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.1.w8">generation</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.1.w9">tasks</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.1.w10">more</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.1.w11">broadly.
</span><cite class="ltx_cite ltx_citemacro_citet">Weston et al. (<a href="#bib.bib40" title="" class="ltx_ref">2018</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.2.w1"/><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.2.w2">and</span><span> </span><cite class="ltx_cite ltx_citemacro_citet">Fan et al. (<a href="#bib.bib11" title="" class="ltx_ref">2020</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.3.w1"/><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.3.w2">improve</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.3.w3">dialogue</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.3.w4">response</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.3.w5">generation</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.3.w6">systems</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.3.w7">by</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.3.w8">retrieving</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.3.w9">examples</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.3.w10">and</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.3.w11">concatenating</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.3.w12">them</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.3.w13">to</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.3.w14">model</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.3.w15">inputs.
</span><cite class="ltx_cite ltx_citemacro_citet">Lewis et al. (<a href="#bib.bib26" title="" class="ltx_ref">2020</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w1"/><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w2">improve</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w3">open-domain</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w4">question</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w5">answering</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w6">systems</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w7">by</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w8">retrieving</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w9">relevant</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w10">contexts</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w11">from</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w12">Wikipedia</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w13">and</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w14">concatenating</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w15">them</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w16">to</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w17">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.4.w18">inputs.
</span><cite class="ltx_cite ltx_citemacro_citet">Hashimoto et al. (<a href="#bib.bib19" title="" class="ltx_ref">2018</a>)</cite><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w1"/><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w2">use</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w3">a</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w4">retrieve-and-edit</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w5">framework</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w6">to</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w7">generate</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w8">structured</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w9">outputs</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w10">such</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w11">as</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w12">code,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w13">by</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w14">jointly</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w15">training</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w16">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w17">editor</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w18">and</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.5.w19">retriever.
For</span><span> </span><math id="S7.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S7.SS0.SSS0.Px2.p1.1.m1.1a"><mi id="S7.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S7.SS0.SSS0.Px2.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w1">NN-MT,</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w2">retrieval</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w3">results</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w4">in</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w5">a</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w6">distribution</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w7">over</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w8">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w9">vocabulary</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w10">that</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w11">is</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w12">used</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w13">for</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w14">generation</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w15">directly</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w16">and</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w17">does</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w18">not</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w19">require</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w20">further</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w21">training</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w22">or</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w23">providing</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w24">the</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w25">retrieval</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w26">candidates</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w27">as</span><span> </span><span class="gd_word" id="S7.SS0.SSS0.Px2.p1.1.6.w28">input.</span></p>
</div>
</section>
</section>
<section id="S8" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">8 </span>Conclusion</h2>

<div id="S8.p1" class="ltx_para ltx_noindent">
<p id="S8.p1.1" class="ltx_p"><span class="gd_word" id="S8.p1.1.1.w1">We</span><span> </span><span class="gd_word" id="S8.p1.1.1.w2">introduced</span><span> </span><span class="gd_word" id="S8.p1.1.1.w3">a</span><span> </span><span class="gd_word" id="S8.p1.1.1.w4">simple</span><span> </span><span class="gd_word" id="S8.p1.1.1.w5">and</span><span> </span><span class="gd_word" id="S8.p1.1.1.w6">effective</span><span> </span><span class="gd_word" id="S8.p1.1.1.w7">method</span><span> </span><span class="gd_word" id="S8.p1.1.1.w8">that</span><span> </span><span class="gd_word" id="S8.p1.1.1.w9">can</span><span> </span><span class="gd_word" id="S8.p1.1.1.w10">be</span><span> </span><span class="gd_word" id="S8.p1.1.1.w11">applied</span><span> </span><span class="gd_word" id="S8.p1.1.1.w12">to</span><span> </span><span class="gd_word" id="S8.p1.1.1.w13">any</span><span> </span><span class="gd_word" id="S8.p1.1.1.w14">neural</span><span> </span><span class="gd_word" id="S8.p1.1.1.w15">MT</span><span> </span><span class="gd_word" id="S8.p1.1.1.w16">model</span><span> </span><span class="gd_word" id="S8.p1.1.1.w17">without</span><span> </span><span class="gd_word" id="S8.p1.1.1.w18">further</span><span> </span><span class="gd_word" id="S8.p1.1.1.w19">training.</span><span> </span><span class="gd_word" id="S8.p1.1.1.w20">We</span><span> </span><span class="gd_word" id="S8.p1.1.1.w21">show</span><span> </span><span class="gd_word" id="S8.p1.1.1.w22">that</span><span> </span><span class="gd_word" id="S8.p1.1.1.w23">similar</span><span> </span><span class="gd_word" id="S8.p1.1.1.w24">contexts</span><span> </span><span class="gd_word" id="S8.p1.1.1.w25">in</span><span> </span><span class="gd_word" id="S8.p1.1.1.w26">a</span><span> </span><span class="gd_word" id="S8.p1.1.1.w27">model’s</span><span> </span><span class="gd_word" id="S8.p1.1.1.w28">embedding</span><span> </span><span class="gd_word" id="S8.p1.1.1.w29">space</span><span> </span><span class="gd_word" id="S8.p1.1.1.w30">are</span><span> </span><span class="gd_word" id="S8.p1.1.1.w31">more</span><span> </span><span class="gd_word" id="S8.p1.1.1.w32">likely</span><span> </span><span class="gd_word" id="S8.p1.1.1.w33">to</span><span> </span><span class="gd_word" id="S8.p1.1.1.w34">be</span><span> </span><span class="gd_word" id="S8.p1.1.1.w35">followed</span><span> </span><span class="gd_word" id="S8.p1.1.1.w36">by</span><span> </span><span class="gd_word" id="S8.p1.1.1.w37">similar</span><span> </span><span class="gd_word" id="S8.p1.1.1.w38">next</span><span> </span><span class="gd_word" id="S8.p1.1.1.w39">words,</span><span> </span><span class="gd_word" id="S8.p1.1.1.w40">allowing</span><span> </span><span class="gd_word" id="S8.p1.1.1.w41">the</span><span> </span><span class="gd_word" id="S8.p1.1.1.w42">model</span><span> </span><span class="gd_word" id="S8.p1.1.1.w43">to</span><span> </span><span class="gd_word" id="S8.p1.1.1.w44">be</span><span> </span><span class="gd_word" id="S8.p1.1.1.w45">improved</span><span> </span><span class="gd_word" id="S8.p1.1.1.w46">by</span><span> </span><span class="gd_word" id="S8.p1.1.1.w47">interpolation</span><span> </span><span class="gd_word" id="S8.p1.1.1.w48">with</span><span> </span><span class="gd_word" id="S8.p1.1.1.w49">a</span><span> </span><span class="gd_word" id="S8.p1.1.1.w50">nearest</span><span> </span><span class="gd_word" id="S8.p1.1.1.w51">neighbor</span><span> </span><span class="gd_word" id="S8.p1.1.1.w52">classifier.</span><span> </span><span class="gd_word" id="S8.p1.1.1.w53">The</span><span> </span><span class="gd_word" id="S8.p1.1.1.w54">approach</span><span> </span><span class="gd_word" id="S8.p1.1.1.w55">improves</span><span> </span><span class="gd_word" id="S8.p1.1.1.w56">a</span><span> </span><span class="gd_word" id="S8.p1.1.1.w57">state-of-the-art</span><span> </span><span class="gd_word" id="S8.p1.1.1.w58">model</span><span> </span><span class="gd_word" id="S8.p1.1.1.w59">in-domain,</span><span> </span><span class="gd_word" id="S8.p1.1.1.w60">leads</span><span> </span><span class="gd_word" id="S8.p1.1.1.w61">to</span><span> </span><span class="gd_word" id="S8.p1.1.1.w62">large</span><span> </span><span class="gd_word" id="S8.p1.1.1.w63">gains</span><span> </span><span class="gd_word" id="S8.p1.1.1.w64">out-of-domain,</span><span> </span><span class="gd_word" id="S8.p1.1.1.w65">and</span><span> </span><span class="gd_word" id="S8.p1.1.1.w66">can</span><span> </span><span class="gd_word" id="S8.p1.1.1.w67">specialize</span><span> </span><span class="gd_word" id="S8.p1.1.1.w68">a</span><span> </span><span class="gd_word" id="S8.p1.1.1.w69">multilingual</span><span> </span><span class="gd_word" id="S8.p1.1.1.w70">model</span><span> </span><span class="gd_word" id="S8.p1.1.1.w71">for</span><span> </span><span class="gd_word" id="S8.p1.1.1.w72">specific</span><span> </span><span class="gd_word" id="S8.p1.1.1.w73">language-pairs.</span><span> </span><span class="gd_word" id="S8.p1.1.1.w74">Future</span><span> </span><span class="gd_word" id="S8.p1.1.1.w75">work</span><span> </span><span class="gd_word" id="S8.p1.1.1.w76">should</span><span> </span><span class="gd_word" id="S8.p1.1.1.w77">improve</span><span> </span><span class="gd_word" id="S8.p1.1.1.w78">efficiency,</span><span> </span><span class="gd_word" id="S8.p1.1.1.w79">for</span><span> </span><span class="gd_word" id="S8.p1.1.1.w80">example</span><span> </span><span class="gd_word" id="S8.p1.1.1.w81">by</span><span> </span><span class="gd_word" id="S8.p1.1.1.w82">down-sampling</span><span> </span><span class="gd_word" id="S8.p1.1.1.w83">frequent</span><span> </span><span class="gd_word" id="S8.p1.1.1.w84">target</span><span> </span><span class="gd_word" id="S8.p1.1.1.w85">words</span><span> </span><span class="gd_word" id="S8.p1.1.1.w86">in</span><span> </span><span class="gd_word" id="S8.p1.1.1.w87">the</span><span> </span><span class="gd_word" id="S8.p1.1.1.w88">datastore.</span></p>
</div>
<section id="S8.SS0.SSSx1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">Acknowledgments</h4>

<div id="S8.SS0.SSSx1.p1" class="ltx_para ltx_noindent">
<p id="S8.SS0.SSSx1.p1.1" class="ltx_p"><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w1">The</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w2">authors</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w3">thank</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w4">Kartikay</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w5">Khandelwal</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w6">for</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w7">thoughtful</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w8">discussions,</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w9">Holger</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w10">Schwenk</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w11">and</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w12">Sergey</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w13">Edunov</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w14">for</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w15">sharing</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w16">data</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w17">and</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w18">model</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w19">details,</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w20">and</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w21">Matthijs</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w22">Douze</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w23">for</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w24">answering</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w25">questions</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w26">about</span><span> </span><span class="gd_word" id="S8.SS0.SSSx1.p1.1.1.w27">Faiss.</span></p>
</div>
</section>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Aharoni &amp; Goldberg (2020)</span>
<span class="ltx_bibblock">
Roee Aharoni and Yoav Goldberg.

</span>
<span class="ltx_bibblock">Unsupervised domain clusters in pretrained language models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">Association of Computational Linguistics (ACL)</em>, 2020.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Arivazhagan et al. (2019)</span>
<span class="ltx_bibblock">
Naveen Arivazhagan, Ankur Bapna, Orhan Firat, Dmitry Lepikhin, Melvin Johnson,
Maxim Krikun, Mia Xu Chen, Yuan Cao, George Foster, Colin Cherry, et al.

</span>
<span class="ltx_bibblock">Massively multilingual neural machine translation in the wild:
Findings and challenges.

</span>
<span class="ltx_bibblock"><em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1907.05019</em>, 2019.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bapna &amp; Firat (2019)</span>
<span class="ltx_bibblock">
Ankur Bapna and Orhan Firat.

</span>
<span class="ltx_bibblock">Non-parametric adaptation for neural machine translation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">North American Association of Computational Linguistics
(NAACL)</em>, 2019.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Barrault et al. (2019)</span>
<span class="ltx_bibblock">
Loïc Barrault, Ondřej Bojar, Marta R. Costa-jussà, Christian
Federmann, Mark Fishel, Yvette Graham, Barry Haddow, Matthias Huck, Philipp
Koehn, Shervin Malmasi, Christof Monz, Mathias Müller, Santanu Pal, Matt
Post, and Marcos Zampieri.

</span>
<span class="ltx_bibblock">Findings of the 2019 conference on machine translation (WMT19).

</span>
<span class="ltx_bibblock">In <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Fourth Conference on Machine Translation
(Volume 2: Shared Task Papers, Day 1)</em>, pp.  1–61, Florence, Italy, August
2019. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <a href="10.18653/v1/W19-5301" title="" class="ltx_ref ltx_Url">10.18653/v1/W19-5301</a>.

</span>
<span class="ltx_bibblock">URL <a href="https://www.aclweb.org/anthology/W19-5301" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.aclweb.org/anthology/W19-5301</a>.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bojar et al. (2018)</span>
<span class="ltx_bibblock">
Ondřej Bojar, Christian Federmann, Mark Fishel, Yvette Graham, Barry
Haddow, Philipp Koehn, and Christof Monz.

</span>
<span class="ltx_bibblock">Findings of the 2018 conference on machine translation (WMT18).

</span>
<span class="ltx_bibblock">In <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Third Conference on Machine Translation:
Shared Task Papers</em>, pp.  272–303, Belgium, Brussels, October 2018.
Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <a href="10.18653/v1/W18-6401" title="" class="ltx_ref ltx_Url">10.18653/v1/W18-6401</a>.

</span>
<span class="ltx_bibblock">URL <a href="https://www.aclweb.org/anthology/W18-6401" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.aclweb.org/anthology/W18-6401</a>.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al. (1993)</span>
<span class="ltx_bibblock">
Peter F Brown, Stephen A Della Pietra, Vincent J Della Pietra, and Robert L
Mercer.

</span>
<span class="ltx_bibblock">The mathematics of statistical machine translation: Parameter
estimation.

</span>
<span class="ltx_bibblock"><em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">Computational linguistics</em>, 19(2):263–311,
1993.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bulte &amp; Tezcan (2019)</span>
<span class="ltx_bibblock">
Bram Bulte and Arda Tezcan.

</span>
<span class="ltx_bibblock">Neural fuzzy repair: Integrating fuzzy matches into neural machine
translation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">Association of Computational Linguistics (ACL)</em>, 2019.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Card et al. (2020)</span>
<span class="ltx_bibblock">
Dallas Card, Peter Henderson, Urvashi Khandelwal, Robin Jia, Kyle Mahowald, and
Dan Jurafsky.

</span>
<span class="ltx_bibblock">With little power comes great responsibility.

</span>
<span class="ltx_bibblock">In <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">Empirical Methods in Natural Language Processing (EMNLP)</em>,
2020.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cohn &amp; Lapata (2007)</span>
<span class="ltx_bibblock">
Trevor Cohn and Mirella Lapata.

</span>
<span class="ltx_bibblock">Machine translation by triangulation: Making effective use of
multi-parallel corpora.

</span>
<span class="ltx_bibblock">In <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 45th Annual Meeting of the Association of
Computational Linguistics</em>, pp.  728–735, Prague, Czech Republic, June
2007. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">URL <a href="https://www.aclweb.org/anthology/P07-1092" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.aclweb.org/anthology/P07-1092</a>.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Doi et al. (2005)</span>
<span class="ltx_bibblock">
Takao Doi, Hirofumi Yamamoto, and Eiichiro Sumita.

</span>
<span class="ltx_bibblock">Example-based machine translation using efficient sentence retrieval
based on edit-distance.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">ACM Transactions on Asian Language Information Processing</em>,
4(4):377–399, 2005.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fan et al. (2020)</span>
<span class="ltx_bibblock">
Angela Fan, Claire Gardent, Chloe Braud, and Antoine Bordes.

</span>
<span class="ltx_bibblock">Augmenting transformers with knn-based composite memory for dialogue.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2004.12744</em>, 2020.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Farajian et al. (2017)</span>
<span class="ltx_bibblock">
M Amin Farajian, Marco Turchi, Matteo Negri, and Marcello Federico.

</span>
<span class="ltx_bibblock">Multi-domain neural machine translation through unsupervised
adaptation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Second Conference on Machine
Translation</em>, pp.  127–137, 2017.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Grave et al. (2017a)</span>
<span class="ltx_bibblock">
Edouard Grave, Moustapha M Cisse, and Armand Joulin.

</span>
<span class="ltx_bibblock">Unbounded cache model for online language modeling with open
vocabulary.

</span>
<span class="ltx_bibblock">In <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">NIPS</em>, pp.  6042–6052, 2017a.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Grave et al. (2017b)</span>
<span class="ltx_bibblock">
Edouard Grave, Armand Joulin, and Nicolas Usunier.

</span>
<span class="ltx_bibblock">Improving neural language models with a continuous cache.

</span>
<span class="ltx_bibblock">In <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations
(ICLR)</em>, 2017b.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gu et al. (2018)</span>
<span class="ltx_bibblock">
Jiatao Gu, Yong Wang, Kyunghyun Cho, and Victor OK Li.

</span>
<span class="ltx_bibblock">Search engine guided neural machine translation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">Thirty-Second AAAI Conference on Artificial Intelligence</em>,
2018.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al. (2020)</span>
<span class="ltx_bibblock">
Ruiqi Guo, Philip Sun, Erik Lindgren, Quan Geng, David Simcha, Felix Chern, and
Sanjiv Kumar.

</span>
<span class="ltx_bibblock">Accelerating large-scale inference with anisotropic vector
quantization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning (ICML)</em>, 2020.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guu et al. (2020)</span>
<span class="ltx_bibblock">
Kelvin Guu, Kenton Lee, Zora Tung, Panupong Pasupat, and Ming-Wei Chang.

</span>
<span class="ltx_bibblock">Realm: Retrieval-augmented language model pre-training.

</span>
<span class="ltx_bibblock"><em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2002.08909</em>, 2020.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Haque et al. (2009)</span>
<span class="ltx_bibblock">
Rejwanul Haque, Sudip Naskar, Yanjun Ma, and Andy Way.

</span>
<span class="ltx_bibblock">Using supertags as source language context in smt.

</span>
<span class="ltx_bibblock"><em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">13th Annual Conference of the European Association for Machine
Translation, (EAMT)</em>, 01 2009.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hashimoto et al. (2018)</span>
<span class="ltx_bibblock">
Tatsunori B. Hashimoto, Kelvin Guu, Yonatan Oren, and Percy Liang.

</span>
<span class="ltx_bibblock">A retrieve-and-edit framework for predicting structured outputs.

</span>
<span class="ltx_bibblock">In <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems
(NeurIPS)</em>, 2018.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al. (2019)</span>
<span class="ltx_bibblock">
Junjie Hu, Mengzhou Xia, Graham Neubig, and Jaime G Carbonell.

</span>
<span class="ltx_bibblock">Domain adaptation of neural machine translation by lexicon induction.

</span>
<span class="ltx_bibblock">In <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 57th Annual Meeting of the Association
for Computational Linguistics</em>, pp.  2989–3001, 2019.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Johnson et al. (2017)</span>
<span class="ltx_bibblock">
Jeff Johnson, Matthijs Douze, and Hervé Jégou.

</span>
<span class="ltx_bibblock">Billion-scale similarity search with gpus.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1702.08734</em>, 2017.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khandelwal et al. (2020)</span>
<span class="ltx_bibblock">
Urvashi Khandelwal, Omer Levy, Dan Jurafsky, Luke Zettlemoyer, and Mike Lewis.

</span>
<span class="ltx_bibblock">Generalization through memorization: Nearest neighbor language
models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations
(ICLR)</em>, 2020.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koehn &amp; Knowles (2017)</span>
<span class="ltx_bibblock">
Philipp Koehn and Rebecca Knowles.

</span>
<span class="ltx_bibblock">Six challenges for neural machine translation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">First Workshop on Neural Machine Translation (WNMT)</em>, 2017.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koehn et al. (2003)</span>
<span class="ltx_bibblock">
Philipp Koehn, Franz J Och, and Daniel Marcu.

</span>
<span class="ltx_bibblock">Statistical phrase-based translation.

</span>
<span class="ltx_bibblock">Technical report, UNIVERSITY OF SOUTHERN CALIFORNIA MARINA DEL REY
INFORMATION SCIENCES INST, 2003.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kudo &amp; Richardson (2018)</span>
<span class="ltx_bibblock">
Taku Kudo and John Richardson.

</span>
<span class="ltx_bibblock">Sentencepiece: A simple and language independent subword tokenizer
and detokenizer for neural text processing.

</span>
<span class="ltx_bibblock">In <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">Empirical Methods in Natural Language Processing: System
Demonstrations (EMNLP)</em>, 2018.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. (2020)</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandara Piktus, Fabio Petroni, Vladimir
Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen tau Yih, Tim
Rocktäschel, Sebastian Riedel, and Douwe Kiela.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for knowledge-intensive nlp tasks.

</span>
<span class="ltx_bibblock"><em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2005.11401</em>, 2020.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nagao (1984)</span>
<span class="ltx_bibblock">
Makoto Nagao.

</span>
<span class="ltx_bibblock">A framework of a mechanical translation between japanese and english
by analogy principle.

</span>
<span class="ltx_bibblock">In <em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">Artificial and human intelligence</em>, 1984.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ng et al. (2019)</span>
<span class="ltx_bibblock">
Nathan Ng, Kyra Yee, Alexei Baevski, Myle Ott, Michael Auli, and Sergey Edunov.

</span>
<span class="ltx_bibblock">Facebook fair’s wmt19 news translation task submission.

</span>
<span class="ltx_bibblock">In <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">Fourth Conference on Machine Translation (WMT)</em>, 2019.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ott et al. (2019)</span>
<span class="ltx_bibblock">
Myle Ott, Sergey Edunov, Alexei Baevski, Angela Fan, Sam Gross, Nathan Ng,
David Grangier, and Michael Auli.

</span>
<span class="ltx_bibblock">fairseq: A fast, extensible toolkit for sequence modeling.

</span>
<span class="ltx_bibblock">In <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">North American Association of Computational Linguistics:
System Demonstrations (NAACL)</em>, 2019.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Post (2018)</span>
<span class="ltx_bibblock">
Matt Post.

</span>
<span class="ltx_bibblock">A call for clarity in reporting BLEU scores.

</span>
<span class="ltx_bibblock">In <em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Third Conference on Machine Translation:
Research Papers</em>, pp.  186–191, Belgium, Brussels, October 2018.
Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">URL <a href="https://www.aclweb.org/anthology/W18-6319" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.aclweb.org/anthology/W18-6319</a>.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qi et al. (2018)</span>
<span class="ltx_bibblock">
Ye Qi, Devendra Sachan, Matthieu Felix, Sarguna Padmanabhan, and Graham Neubig.

</span>
<span class="ltx_bibblock">When and why are pre-trained word embeddings useful for neural
machine translation?

</span>
<span class="ltx_bibblock">In <em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">North American Association of Computational Linguistics
(NAACL)</em>, 2018.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schwenk et al. (2019)</span>
<span class="ltx_bibblock">
Holger Schwenk, Guillaume Wenzek, Sergey Edunov, Edouard Grave, and Armand
Joulin.

</span>
<span class="ltx_bibblock">Ccmatrix: Mining billions of high-quality parallel sentences on the
web.

</span>
<span class="ltx_bibblock"><em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1911.04944</em>, 2019.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Stroppa et al. (2007)</span>
<span class="ltx_bibblock">
Nicolas Stroppa, Antal van den Bosch, and Andy Way.

</span>
<span class="ltx_bibblock">Exploiting source similarity for smt using context-informed features.

</span>
<span class="ltx_bibblock"><em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">Proceedings of The 11th Conference on Theoretical and
Methodological Issues in Machine Translation</em>, 01 2007.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tu et al. (2018)</span>
<span class="ltx_bibblock">
Zhaopeng Tu, Yang Liu, Shuming Shi, and Tong Zhang.

</span>
<span class="ltx_bibblock">Learning to remember translation history with a continuous cache.

</span>
<span class="ltx_bibblock">In <em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">Transactions of the Association of Computational Linguistics
(TACL)</em>, 2018.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Utiyama &amp; Isahara (2007)</span>
<span class="ltx_bibblock">
Masao Utiyama and Hitoshi Isahara.

</span>
<span class="ltx_bibblock">A comparison of pivot methods for phrase-based statistical machine
translation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">Human Language Technologies 2007: The Conference of the
North American Chapter of the Association for Computational Linguistics;
Proceedings of the Main Conference</em>, pp.  484–491, Rochester, New York,
April 2007. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">URL <a href="https://www.aclweb.org/anthology/N07-1061" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.aclweb.org/anthology/N07-1061</a>.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">van den Bosch et al. (2007)</span>
<span class="ltx_bibblock">
Antal van den Bosch, Nicolas Stroppa, and Andy Way.

</span>
<span class="ltx_bibblock">A memory-based classification approach to marker-based ebmt.

</span>
<span class="ltx_bibblock"><em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">METIS-II Workshop on New Approaches to Machine Translation</em>, 04
2007.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">van Gompel et al. (2010)</span>
<span class="ltx_bibblock">
Maarten van Gompel, Antal van den Bosch, and Peter Berck.

</span>
<span class="ltx_bibblock">Extending memory-based machine translation to phrases.

</span>
<span class="ltx_bibblock">In <em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">Computational Linguistics in the Netherlands (CLIN)</em>, pp. 79–86, 01 2010.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vaswani et al. (2017)</span>
<span class="ltx_bibblock">
Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones,
Aidan N Gomez, Łukasz Kaiser, and Illia Polosukhin.

</span>
<span class="ltx_bibblock">Attention is all you need.

</span>
<span class="ltx_bibblock">In <em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems (NIPS)</em>,
2017.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wenzek et al. (2019)</span>
<span class="ltx_bibblock">
Guillaume Wenzek, Marie-Anne Lachaux, Alexis Conneau, Vishrav Chaudhary,
Francisco Guzmán, Armand Joulin, and Edouard Grave.

</span>
<span class="ltx_bibblock">Ccnet: Extracting high quality monolingual datasets from web crawl
data.

</span>
<span class="ltx_bibblock"><em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1911.00359</em>, 2019.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Weston et al. (2018)</span>
<span class="ltx_bibblock">
Jason Weston, Emily Dinan, and Alexander H Miller.

</span>
<span class="ltx_bibblock">Retrieve and refine: Improved sequence generation models for
dialogue.

</span>
<span class="ltx_bibblock"><em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1808.04776</em>, 2018.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2020)</span>
<span class="ltx_bibblock">
Jitao Xu, Josep Crego, and Jean Senellart.

</span>
<span class="ltx_bibblock">Boosting neural machine translation with similar translations.

</span>
<span class="ltx_bibblock">In <em id="bib.bib41.1.1" class="ltx_emph ltx_font_italic">Association of Computational Linguistics (ACL)</em>, 2020.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2020)</span>
<span class="ltx_bibblock">
Biao Zhang, Philip Williams, Ivan Titov, and Rico Sennrich.

</span>
<span class="ltx_bibblock">Improving massively multilingual neural machine translation and
zero-shot translation.

</span>
<span class="ltx_bibblock"><em id="bib.bib42.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2004.11867</em>, 2020.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2018)</span>
<span class="ltx_bibblock">
Jingyi Zhang, Masao Utiyama, Eiichro Sumita, Graham Neubig, and Satoshi
Nakamura.

</span>
<span class="ltx_bibblock">Guiding neural machine translation with retrieved translation pieces.

</span>
<span class="ltx_bibblock">In <em id="bib.bib43.1.1" class="ltx_emph ltx_font_italic">North American Association of Computational Linguistics
(NAACL)</em>, 2018.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"/>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Hyperparameter Tuning</h2>

<div id="A1.p1" class="ltx_para ltx_noindent">
<p id="A1.p1.3" class="ltx_p"><span class="gd_word" id="A1.p1.3.1.w1">In</span><span> </span><span class="gd_word" id="A1.p1.3.1.w2">this</span><span> </span><span class="gd_word" id="A1.p1.3.1.w3">section,</span><span> </span><span class="gd_word" id="A1.p1.3.1.w4">we</span><span> </span><span class="gd_word" id="A1.p1.3.1.w5">present</span><span> </span><span class="gd_word" id="A1.p1.3.1.w6">validation</span><span> </span><span class="gd_word" id="A1.p1.3.1.w7">set</span><span> </span><span class="gd_word" id="A1.p1.3.1.w8">results</span><span> </span><span class="gd_word" id="A1.p1.3.1.w9">as</span><span> </span><span class="gd_word" id="A1.p1.3.1.w10">well</span><span> </span><span class="gd_word" id="A1.p1.3.1.w11">as</span><span> </span><span class="gd_word" id="A1.p1.3.1.w12">the</span><span> </span><span class="gd_word" id="A1.p1.3.1.w13">hyperparameter</span><span> </span><span class="gd_word" id="A1.p1.3.1.w14">choices</span><span> </span><span class="gd_word" id="A1.p1.3.1.w15">for</span><span> </span><span class="gd_word" id="A1.p1.3.1.w16">the</span><span> </span><span class="gd_word" id="A1.p1.3.1.w17">multilingual</span><span> </span><span class="gd_word" id="A1.p1.3.1.w18">machine</span><span> </span><span class="gd_word" id="A1.p1.3.1.w19">translation</span><span> </span><span class="gd_word" id="A1.p1.3.1.w20">and</span><span> </span><span class="gd_word" id="A1.p1.3.1.w21">domain</span><span> </span><span class="gd_word" id="A1.p1.3.1.w22">adaptation</span><span> </span><span class="gd_word" id="A1.p1.3.1.w23">experiments.
Only</span><span> </span><span class="gd_word" id="A1.p1.3.1.w24">two</span><span> </span><span class="gd_word" id="A1.p1.3.1.w25">hyperparameters</span><span> </span><span class="gd_word" id="A1.p1.3.1.w26">have</span><span> </span><span class="gd_word" id="A1.p1.3.1.w27">been</span><span> </span><span class="gd_word" id="A1.p1.3.1.w28">tuned</span><span> </span><span class="gd_word" id="A1.p1.3.1.w29">on</span><span> </span><span class="gd_word" id="A1.p1.3.1.w30">the</span><span> </span><span class="gd_word" id="A1.p1.3.1.w31">validation</span><span> </span><span class="gd_word" id="A1.p1.3.1.w32">sets,</span><span> </span><span class="gd_word" id="A1.p1.3.1.w33">the</span><span> </span><span class="gd_word" id="A1.p1.3.1.w34">interpolation</span><span> </span><span class="gd_word" id="A1.p1.3.1.w35">parameter</span><span> </span><math id="A1.p1.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="A1.p1.1.m1.1a"><mi id="A1.p1.1.m1.1.1" xref="A1.p1.1.m1.1.1.cmml">λ</mi></semantics></math><span class="gd_word" id="A1.p1.3.2.w1"/><span> </span><span class="gd_word" id="A1.p1.3.2.w2">and</span><span> </span><span class="gd_word" id="A1.p1.3.2.w3">the</span><span> </span><span class="gd_word" id="A1.p1.3.2.w4">softmax</span><span> </span><span class="gd_word" id="A1.p1.3.2.w5">temperature</span><span> </span><math id="A1.p1.2.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="A1.p1.2.m2.1a"><mi id="A1.p1.2.m2.1.1" xref="A1.p1.2.m2.1.1.cmml">T</mi></semantics></math><span class="gd_word" id="A1.p1.3.3.w1">.
The</span><span> </span><span class="gd_word" id="A1.p1.3.3.w2">number</span><span> </span><span class="gd_word" id="A1.p1.3.3.w3">of</span><span> </span><span class="gd_word" id="A1.p1.3.3.w4">neighbors</span><span> </span><math id="A1.p1.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.p1.3.m3.1a"><mi id="A1.p1.3.m3.1.1" xref="A1.p1.3.m3.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="A1.p1.3.4.w1"/><span> </span><span class="gd_word" id="A1.p1.3.4.w2">has</span><span> </span><span class="gd_word" id="A1.p1.3.4.w3">been</span><span> </span><span class="gd_word" id="A1.p1.3.4.w4">fixed</span><span> </span><span class="gd_word" id="A1.p1.3.4.w5">to</span><span> </span><span class="gd_word" id="A1.p1.3.4.w6">64,</span><span> </span><span class="gd_word" id="A1.p1.3.4.w7">the</span><span> </span><span class="gd_word" id="A1.p1.3.4.w8">number</span><span> </span><span class="gd_word" id="A1.p1.3.4.w9">of</span><span> </span><span class="gd_word" id="A1.p1.3.4.w10">clusters</span><span> </span><span class="gd_word" id="A1.p1.3.4.w11">searched</span><span> </span><span class="gd_word" id="A1.p1.3.4.w12">has</span><span> </span><span class="gd_word" id="A1.p1.3.4.w13">been</span><span> </span><span class="gd_word" id="A1.p1.3.4.w14">set</span><span> </span><span class="gd_word" id="A1.p1.3.4.w15">to</span><span> </span><span class="gd_word" id="A1.p1.3.4.w16">32</span><span> </span><span class="gd_word" id="A1.p1.3.4.w17">and</span><span> </span><span class="gd_word" id="A1.p1.3.4.w18">the</span><span> </span><span class="gd_word" id="A1.p1.3.4.w19">beam</span><span> </span><span class="gd_word" id="A1.p1.3.4.w20">size</span><span> </span><span class="gd_word" id="A1.p1.3.4.w21">has</span><span> </span><span class="gd_word" id="A1.p1.3.4.w22">been</span><span> </span><span class="gd_word" id="A1.p1.3.4.w23">set</span><span> </span><span class="gd_word" id="A1.p1.3.4.w24">to</span><span> </span><span class="gd_word" id="A1.p1.3.4.w25">5.
For</span><span> </span><span class="gd_word" id="A1.p1.3.4.w26">the</span><span> </span><span class="gd_word" id="A1.p1.3.4.w27">number</span><span> </span><span class="gd_word" id="A1.p1.3.4.w28">of</span><span> </span><span class="gd_word" id="A1.p1.3.4.w29">clusters</span><span> </span><span class="gd_word" id="A1.p1.3.4.w30">in</span><span> </span><span class="gd_word" id="A1.p1.3.4.w31">the</span><span> </span><span class="gd_word" id="A1.p1.3.4.w32">Faiss</span><span> </span><span class="gd_word" id="A1.p1.3.4.w33">index,</span><span> </span><span class="gd_word" id="A1.p1.3.4.w34">preliminary</span><span> </span><span class="gd_word" id="A1.p1.3.4.w35">experiments</span><span> </span><span class="gd_word" id="A1.p1.3.4.w36">showed</span><span> </span><span class="gd_word" id="A1.p1.3.4.w37">that</span><span> </span><span class="gd_word" id="A1.p1.3.4.w38">for</span><span> </span><span class="gd_word" id="A1.p1.3.4.w39">larger</span><span> </span><span class="gd_word" id="A1.p1.3.4.w40">datastores,</span><span> </span><span class="gd_word" id="A1.p1.3.4.w41">while</span><span> </span><span class="gd_word" id="A1.p1.3.4.w42">using</span><span> </span><span class="gd_word" id="A1.p1.3.4.w43">more</span><span> </span><span class="gd_word" id="A1.p1.3.4.w44">clusters</span><span> </span><span class="gd_word" id="A1.p1.3.4.w45">does</span><span> </span><span class="gd_word" id="A1.p1.3.4.w46">not</span><span> </span><span class="gd_word" id="A1.p1.3.4.w47">hurt</span><span> </span><span class="gd_word" id="A1.p1.3.4.w48">performance,</span><span> </span><span class="gd_word" id="A1.p1.3.4.w49">it</span><span> </span><span class="gd_word" id="A1.p1.3.4.w50">does</span><span> </span><span class="gd_word" id="A1.p1.3.4.w51">significantly</span><span> </span><span class="gd_word" id="A1.p1.3.4.w52">speed</span><span> </span><span class="gd_word" id="A1.p1.3.4.w53">up</span><span> </span><span class="gd_word" id="A1.p1.3.4.w54">the</span><span> </span><span class="gd_word" id="A1.p1.3.4.w55">search</span><span> </span><span class="gd_word" id="A1.p1.3.4.w56">process</span><span> </span><span class="gd_word" id="A1.p1.3.4.w57">since</span><span> </span><span class="gd_word" id="A1.p1.3.4.w58">searching</span><span> </span><span class="gd_word" id="A1.p1.3.4.w59">within</span><span> </span><span class="gd_word" id="A1.p1.3.4.w60">the</span><span> </span><span class="gd_word" id="A1.p1.3.4.w61">clusters</span><span> </span><span class="gd_word" id="A1.p1.3.4.w62">is</span><span> </span><span class="gd_word" id="A1.p1.3.4.w63">exhaustive.</span><span> </span><span class="gd_word" id="A1.p1.3.4.w64">Hence,</span><span> </span><span class="gd_word" id="A1.p1.3.4.w65">we</span><span> </span><span class="gd_word" id="A1.p1.3.4.w66">use</span><span> </span><span class="gd_word" id="A1.p1.3.4.w67">131K</span><span> </span><span class="gd_word" id="A1.p1.3.4.w68">clusters</span><span> </span><span class="gd_word" id="A1.p1.3.4.w69">for</span><span> </span><span class="gd_word" id="A1.p1.3.4.w70">the</span><span> </span><span class="gd_word" id="A1.p1.3.4.w71">multilingual</span><span> </span><span class="gd_word" id="A1.p1.3.4.w72">experiments.</span></p>
</div>
<div id="A1.p2" class="ltx_para ltx_noindent">
<p id="A1.p2.2" class="ltx_p"><span class="gd_word" id="A1.p2.2.1.w1">Table </span><a href="#A1.T4" title="Table 4 ‣ Appendix A Hyperparameter Tuning ‣ Nearest Neighbor Machine Translation" class="ltx_ref">4</a><span class="gd_word" id="A1.p2.2.2.w1"/><span> </span><span class="gd_word" id="A1.p2.2.2.w2">shows</span><span> </span><span class="gd_word" id="A1.p2.2.2.w3">the</span><span> </span><span class="gd_word" id="A1.p2.2.2.w4">validation</span><span> </span><span class="gd_word" id="A1.p2.2.2.w5">set</span><span> </span><span class="gd_word" id="A1.p2.2.2.w6">BLEU</span><span> </span><span class="gd_word" id="A1.p2.2.2.w7">scores</span><span> </span><span class="gd_word" id="A1.p2.2.2.w8">for</span><span> </span><span class="gd_word" id="A1.p2.2.2.w9">the</span><span> </span><span class="gd_word" id="A1.p2.2.2.w10">multilingual</span><span> </span><span class="gd_word" id="A1.p2.2.2.w11">experiments</span><span> </span><span class="gd_word" id="A1.p2.2.2.w12">as</span><span> </span><span class="gd_word" id="A1.p2.2.2.w13">well</span><span> </span><span class="gd_word" id="A1.p2.2.2.w14">as</span><span> </span><span class="gd_word" id="A1.p2.2.2.w15">the</span><span> </span><span class="gd_word" id="A1.p2.2.2.w16">hyperparameter</span><span> </span><span class="gd_word" id="A1.p2.2.2.w17">choices,</span><span> </span><span class="gd_word" id="A1.p2.2.2.w18">and</span><span> </span><span class="gd_word" id="A1.p2.2.2.w19">Table </span><a href="#A1.T5" title="Table 5 ‣ Appendix A Hyperparameter Tuning ‣ Nearest Neighbor Machine Translation" class="ltx_ref">5</a><span class="gd_word" id="A1.p2.2.3.w1"/><span> </span><span class="gd_word" id="A1.p2.2.3.w2">shows</span><span> </span><span class="gd_word" id="A1.p2.2.3.w3">the</span><span> </span><span class="gd_word" id="A1.p2.2.3.w4">same</span><span> </span><span class="gd_word" id="A1.p2.2.3.w5">for</span><span> </span><span class="gd_word" id="A1.p2.2.3.w6">the</span><span> </span><span class="gd_word" id="A1.p2.2.3.w7">domain</span><span> </span><span class="gd_word" id="A1.p2.2.3.w8">adaptation</span><span> </span><span class="gd_word" id="A1.p2.2.3.w9">experiments</span><span> </span><span class="gd_word" id="A1.p2.2.3.w10">using</span><span> </span><span class="gd_word" id="A1.p2.2.3.w11">only</span><span> </span><span class="gd_word" id="A1.p2.2.3.w12">the</span><span> </span><span class="gd_word" id="A1.p2.2.3.w13">in-domain</span><span> </span><span class="gd_word" id="A1.p2.2.3.w14">datastores.
Values</span><span> </span><span class="gd_word" id="A1.p2.2.3.w15">for</span><span> </span><span class="gd_word" id="A1.p2.2.3.w16">the</span><span> </span><span class="gd_word" id="A1.p2.2.3.w17">interpolation</span><span> </span><span class="gd_word" id="A1.p2.2.3.w18">parameter</span><span> </span><span class="gd_word" id="A1.p2.2.3.w19">lie</span><span> </span><span class="gd_word" id="A1.p2.2.3.w20">between</span><span> </span><span class="gd_word" id="A1.p2.2.3.w21">0</span><span> </span><span class="gd_word" id="A1.p2.2.3.w22">and</span><span> </span><span class="gd_word" id="A1.p2.2.3.w23">1.
We</span><span> </span><span class="gd_word" id="A1.p2.2.3.w24">also</span><span> </span><span class="gd_word" id="A1.p2.2.3.w25">note</span><span> </span><span class="gd_word" id="A1.p2.2.3.w26">that</span><span> </span><span class="gd_word" id="A1.p2.2.3.w27">for</span><span> </span><span class="gd_word" id="A1.p2.2.3.w28">a</span><span> </span><span class="gd_word" id="A1.p2.2.3.w29">fixed</span><span> </span><span class="gd_word" id="A1.p2.2.3.w30">value</span><span> </span><span class="gd_word" id="A1.p2.2.3.w31">of</span><span> </span><math id="A1.p2.1.m1.1" class="ltx_Math" alttext="\lambda=0.5" display="inline"><semantics id="A1.p2.1.m1.1a"><mrow id="A1.p2.1.m1.1.1" xref="A1.p2.1.m1.1.1.cmml"><mi id="A1.p2.1.m1.1.1.2" xref="A1.p2.1.m1.1.1.2.cmml">λ</mi><mo id="A1.p2.1.m1.1.1.1" xref="A1.p2.1.m1.1.1.1.cmml">=</mo><mn id="A1.p2.1.m1.1.1.3" xref="A1.p2.1.m1.1.1.3.cmml">0.5</mn></mrow></semantics></math><span class="gd_word" id="A1.p2.2.4.w1">,</span><span> </span><span class="gd_word" id="A1.p2.2.4.w2">using</span><span> </span><math id="A1.p2.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.p2.2.m2.1a"><mi id="A1.p2.2.m2.1.1" xref="A1.p2.2.m2.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="A1.p2.2.5.w1">NN-MT</span><span> </span><span class="gd_word" id="A1.p2.2.5.w2">either</span><span> </span><span class="gd_word" id="A1.p2.2.5.w3">performs</span><span> </span><span class="gd_word" id="A1.p2.2.5.w4">similarly</span><span> </span><span class="gd_word" id="A1.p2.2.5.w5">to</span><span> </span><span class="gd_word" id="A1.p2.2.5.w6">or</span><span> </span><span class="gd_word" id="A1.p2.2.5.w7">improves</span><span> </span><span class="gd_word" id="A1.p2.2.5.w8">the</span><span> </span><span class="gd_word" id="A1.p2.2.5.w9">base</span><span> </span><span class="gd_word" id="A1.p2.2.5.w10">MT</span><span> </span><span class="gd_word" id="A1.p2.2.5.w11">model’s</span><span> </span><span class="gd_word" id="A1.p2.2.5.w12">performance,</span><span> </span><span class="gd_word" id="A1.p2.2.5.w13">but</span><span> </span><span class="gd_word" id="A1.p2.2.5.w14">never</span><span> </span><span class="gd_word" id="A1.p2.2.5.w15">hurts,</span><span> </span><span class="gd_word" id="A1.p2.2.5.w16">on</span><span> </span><span class="gd_word" id="A1.p2.2.5.w17">validation</span><span> </span><span class="gd_word" id="A1.p2.2.5.w18">sets</span><span> </span><span class="gd_word" id="A1.p2.2.5.w19">across</span><span> </span><span class="gd_word" id="A1.p2.2.5.w20">the</span><span> </span><span class="gd_word" id="A1.p2.2.5.w21">17</span><span> </span><span class="gd_word" id="A1.p2.2.5.w22">language</span><span> </span><span class="gd_word" id="A1.p2.2.5.w23">pairs</span><span> </span><span class="gd_word" id="A1.p2.2.5.w24">evaluated</span><span> </span><span class="gd_word" id="A1.p2.2.5.w25">in</span><span> </span><span class="gd_word" id="A1.p2.2.5.w26">Section </span><a href="#S4.SS2" title="4.2 Multilingual Machine Translation ‣ 4 Experiments ‣ Nearest Neighbor Machine Translation" class="ltx_ref">4.2</a><span class="gd_word" id="A1.p2.2.6.w1">.
For</span><span> </span><span class="gd_word" id="A1.p2.2.6.w2">the</span><span> </span><span class="gd_word" id="A1.p2.2.6.w3">temperature,</span><span> </span><span class="gd_word" id="A1.p2.2.6.w4">we</span><span> </span><span class="gd_word" id="A1.p2.2.6.w5">find</span><span> </span><span class="gd_word" id="A1.p2.2.6.w6">that</span><span> </span><span class="gd_word" id="A1.p2.2.6.w7">values</span><span> </span><span class="gd_word" id="A1.p2.2.6.w8">of</span><span> </span><span class="gd_word" id="A1.p2.2.6.w9">either</span><span> </span><span class="gd_word" id="A1.p2.2.6.w10">10</span><span> </span><span class="gd_word" id="A1.p2.2.6.w11">or</span><span> </span><span class="gd_word" id="A1.p2.2.6.w12">100</span><span> </span><span class="gd_word" id="A1.p2.2.6.w13">are</span><span> </span><span class="gd_word" id="A1.p2.2.6.w14">optimal</span><span> </span><span class="gd_word" id="A1.p2.2.6.w15">for</span><span> </span><span class="gd_word" id="A1.p2.2.6.w16">all</span><span> </span><span class="gd_word" id="A1.p2.2.6.w17">of</span><span> </span><span class="gd_word" id="A1.p2.2.6.w18">our</span><span> </span><span class="gd_word" id="A1.p2.2.6.w19">experiments.
</span></p>
</div>
<figure id="A1.T4" class="ltx_table">
<img src="/static/img/2010.00710-gpt-4/A1_T4.png" alt="/static/img/2010.00710-gpt-4/A1_T4.png"/><figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span><span class="gd_word" id="A1.T4.2.w1">Multilingual</span><span> </span><span class="gd_word" id="A1.T4.2.w2">machine</span><span> </span><span class="gd_word" id="A1.T4.2.w3">translation</span><span> </span><span class="gd_word" id="A1.T4.2.w4">with</span><span> </span><math id="A1.T4.10.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.T4.10.m1.1b"><mi id="A1.T4.10.m1.1.1" xref="A1.T4.10.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="A1.T4.3.w1">NN-MT</span><span> </span><span class="gd_word" id="A1.T4.3.w2">on</span><span> </span><span class="gd_word" id="A1.T4.3.w3">the</span><span> </span><span class="gd_word" id="A1.T4.3.w4">validation</span><span> </span><span class="gd_word" id="A1.T4.3.w5">set.</span><span> </span><span class="gd_word" id="A1.T4.3.w6">We</span><span> </span><span class="gd_word" id="A1.T4.3.w7">show</span><span> </span><span class="gd_word" id="A1.T4.3.w8">the</span><span> </span><span class="gd_word" id="A1.T4.3.w9">the</span><span> </span><span class="gd_word" id="A1.T4.3.w10">tuned</span><span> </span><span class="gd_word" id="A1.T4.3.w11">interpolation</span><span> </span><span class="gd_word" id="A1.T4.3.w12">parameter</span><span> </span><span class="gd_word" id="A1.T4.3.w13">(</span><math id="A1.T4.11.m2.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="A1.T4.11.m2.1b"><mi id="A1.T4.11.m2.1.1" xref="A1.T4.11.m2.1.1.cmml">λ</mi></semantics></math><span class="gd_word" id="A1.T4.4.w1">)</span><span> </span><span class="gd_word" id="A1.T4.4.w2">as</span><span> </span><span class="gd_word" id="A1.T4.4.w3">well</span><span> </span><span class="gd_word" id="A1.T4.4.w4">as</span><span> </span><span class="gd_word" id="A1.T4.4.w5">the</span><span> </span><span class="gd_word" id="A1.T4.4.w6">tuned</span><span> </span><span class="gd_word" id="A1.T4.4.w7">softmax</span><span> </span><span class="gd_word" id="A1.T4.4.w8">temperature</span><span> </span><span class="gd_word" id="A1.T4.4.w9">(</span><math id="A1.T4.12.m3.1" class="ltx_Math" alttext="T" display="inline"><semantics id="A1.T4.12.m3.1b"><mi id="A1.T4.12.m3.1.1" xref="A1.T4.12.m3.1.1.cmml">T</mi></semantics></math><span class="gd_word" id="A1.T4.5.w1">)</span><span> </span><span class="gd_word" id="A1.T4.5.w2">for</span><span> </span><span class="gd_word" id="A1.T4.5.w3">each</span><span> </span><span class="gd_word" id="A1.T4.5.w4">language</span><span> </span><span class="gd_word" id="A1.T4.5.w5">pair.</span></figcaption>
</figure>
<figure id="A1.T5" class="ltx_table">
<img src="/static/img/2010.00710-gpt-4/A1_T5.png" alt="/static/img/2010.00710-gpt-4/A1_T5.png"/><figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5: </span><span class="gd_word" id="A1.T5.2.w1">Domain</span><span> </span><span class="gd_word" id="A1.T5.2.w2">adaptation</span><span> </span><span class="gd_word" id="A1.T5.2.w3">using</span><span> </span><math id="A1.T5.7.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.T5.7.m1.1b"><mi id="A1.T5.7.m1.1.1" xref="A1.T5.7.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="A1.T5.3.w1">NN-MT</span><span> </span><span class="gd_word" id="A1.T5.3.w2">on</span><span> </span><span class="gd_word" id="A1.T5.3.w3">the</span><span> </span><span class="gd_word" id="A1.T5.3.w4">multi-domains</span><span> </span><span class="gd_word" id="A1.T5.3.w5">validation</span><span> </span><span class="gd_word" id="A1.T5.3.w6">data</span><span> </span><span class="gd_word" id="A1.T5.3.w7">and</span><span> </span><span class="gd_word" id="A1.T5.3.w8">newstest2018.</span><span> </span><span class="gd_word" id="A1.T5.3.w9">The</span><span> </span><span class="gd_word" id="A1.T5.3.w10">base</span><span> </span><span class="gd_word" id="A1.T5.3.w11">MT</span><span> </span><span class="gd_word" id="A1.T5.3.w12">system</span><span> </span><span class="gd_word" id="A1.T5.3.w13">is</span><span> </span><span class="gd_word" id="A1.T5.3.w14">trained</span><span> </span><span class="gd_word" id="A1.T5.3.w15">on</span><span> </span><span class="gd_word" id="A1.T5.3.w16">WMT’19</span><span> </span><span class="gd_word" id="A1.T5.3.w17">data</span><span> </span><span class="gd_word" id="A1.T5.3.w18">which</span><span> </span><span class="gd_word" id="A1.T5.3.w19">is</span><span> </span><span class="gd_word" id="A1.T5.3.w20">also</span><span> </span><span class="gd_word" id="A1.T5.3.w21">treated</span><span> </span><span class="gd_word" id="A1.T5.3.w22">as</span><span> </span><span class="gd_word" id="A1.T5.3.w23">the</span><span> </span><span class="gd_word" id="A1.T5.3.w24">in-domain</span><span> </span><span class="gd_word" id="A1.T5.3.w25">data</span><span> </span><span class="gd_word" id="A1.T5.3.w26">for</span><span> </span><span class="gd_word" id="A1.T5.3.w27">newstest2018.</span><span> </span><span class="gd_word" id="A1.T5.3.w28">We</span><span> </span><span class="gd_word" id="A1.T5.3.w29">present</span><span> </span><span class="gd_word" id="A1.T5.3.w30">the</span><span> </span><span class="gd_word" id="A1.T5.3.w31">interpolation</span><span> </span><span class="gd_word" id="A1.T5.3.w32">(</span><math id="A1.T5.8.m2.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="A1.T5.8.m2.1b"><mi id="A1.T5.8.m2.1.1" xref="A1.T5.8.m2.1.1.cmml">λ</mi></semantics></math><span class="gd_word" id="A1.T5.4.w1">)</span><span> </span><span class="gd_word" id="A1.T5.4.w2">and</span><span> </span><span class="gd_word" id="A1.T5.4.w3">softmax</span><span> </span><span class="gd_word" id="A1.T5.4.w4">temperature</span><span> </span><span class="gd_word" id="A1.T5.4.w5">(</span><math id="A1.T5.9.m3.1" class="ltx_Math" alttext="T" display="inline"><semantics id="A1.T5.9.m3.1b"><mi id="A1.T5.9.m3.1.1" xref="A1.T5.9.m3.1.1.cmml">T</mi></semantics></math><span class="gd_word" id="A1.T5.5.w1">)</span><span> </span><span class="gd_word" id="A1.T5.5.w2">hyperparameter</span><span> </span><span class="gd_word" id="A1.T5.5.w3">choices</span><span> </span><span class="gd_word" id="A1.T5.5.w4">for</span><span> </span><span class="gd_word" id="A1.T5.5.w5">each</span><span> </span><span class="gd_word" id="A1.T5.5.w6">domain.</span></figcaption>
</figure>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Additional Examples</h2>

<div id="A2.p1" class="ltx_para ltx_noindent">
<p id="A2.p1.1" class="ltx_p"><span class="gd_word" id="A2.p1.1.1.w1">Figure </span><a href="#A2.F5" title="Figure 5 ‣ Appendix B Additional Examples ‣ Nearest Neighbor Machine Translation" class="ltx_ref">5</a><span class="gd_word" id="A2.p1.1.2.w1"/><span> </span><span class="gd_word" id="A2.p1.1.2.w2">further</span><span> </span><span class="gd_word" id="A2.p1.1.2.w3">illustrates</span><span> </span><span class="gd_word" id="A2.p1.1.2.w4">the</span><span> </span><span class="gd_word" id="A2.p1.1.2.w5">behavior</span><span> </span><span class="gd_word" id="A2.p1.1.2.w6">of</span><span> </span><math id="A2.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A2.p1.1.m1.1a"><mi id="A2.p1.1.m1.1.1" xref="A2.p1.1.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="A2.p1.1.3.w1">NN-MT</span><span> </span><span class="gd_word" id="A2.p1.1.3.w2">using</span><span> </span><span class="gd_word" id="A2.p1.1.3.w3">local</span><span> </span><span class="gd_word" id="A2.p1.1.3.w4">contexts</span><span> </span><span class="gd_word" id="A2.p1.1.3.w5">in</span><span> </span><span class="gd_word" id="A2.p1.1.3.w6">both</span><span> </span><span class="gd_word" id="A2.p1.1.3.w7">the</span><span> </span><span class="gd_word" id="A2.p1.1.3.w8">source</span><span> </span><span class="gd_word" id="A2.p1.1.3.w9">and</span><span> </span><span class="gd_word" id="A2.p1.1.3.w10">target</span><span> </span><span class="gd_word" id="A2.p1.1.3.w11">to</span><span> </span><span class="gd_word" id="A2.p1.1.3.w12">retrieve</span><span> </span><span class="gd_word" id="A2.p1.1.3.w13">nearest</span><span> </span><span class="gd_word" id="A2.p1.1.3.w14">neighbors.
Figure </span><a href="#A2.F6" title="Figure 6 ‣ Appendix B Additional Examples ‣ Nearest Neighbor Machine Translation" class="ltx_ref">6</a><span class="gd_word" id="A2.p1.1.4.w1"/><span> </span><span class="gd_word" id="A2.p1.1.4.w2">shows</span><span> </span><span class="gd_word" id="A2.p1.1.4.w3">a</span><span> </span><span class="gd_word" id="A2.p1.1.4.w4">case</span><span> </span><span class="gd_word" id="A2.p1.1.4.w5">where</span><span> </span><span class="gd_word" id="A2.p1.1.4.w6">the</span><span> </span><span class="gd_word" id="A2.p1.1.4.w7">model</span><span> </span><span class="gd_word" id="A2.p1.1.4.w8">has</span><span> </span><span class="gd_word" id="A2.p1.1.4.w9">very</span><span> </span><span class="gd_word" id="A2.p1.1.4.w10">little</span><span> </span><span class="gd_word" id="A2.p1.1.4.w11">target-side</span><span> </span><span class="gd_word" id="A2.p1.1.4.w12">prior</span><span> </span><span class="gd_word" id="A2.p1.1.4.w13">context</span><span> </span><span class="gd_word" id="A2.p1.1.4.w14">and</span><span> </span><span class="gd_word" id="A2.p1.1.4.w15">mainly</span><span> </span><span class="gd_word" id="A2.p1.1.4.w16">relies</span><span> </span><span class="gd_word" id="A2.p1.1.4.w17">on</span><span> </span><span class="gd_word" id="A2.p1.1.4.w18">the</span><span> </span><span class="gd_word" id="A2.p1.1.4.w19">source</span><span> </span><span class="gd_word" id="A2.p1.1.4.w20">context</span><span> </span><span class="gd_word" id="A2.p1.1.4.w21">to</span><span> </span><span class="gd_word" id="A2.p1.1.4.w22">retrieve</span><span> </span><span class="gd_word" id="A2.p1.1.4.w23">the</span><span> </span><span class="gd_word" id="A2.p1.1.4.w24">best</span><span> </span><span class="gd_word" id="A2.p1.1.4.w25">neighbors.</span></p>
</div>
<figure id="A2.F5" class="ltx_figure">
<img src="/static/img/2010.00710/A2_F5.png" alt="/static/img/2010.00710/A2_F5.png"/><figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 5: </span><span class="gd_word" id="A2.F5.2.w1">An</span><span> </span><span class="gd_word" id="A2.F5.2.w2">example</span><span> </span><span class="gd_word" id="A2.F5.2.w3">where</span><span> </span><math id="A2.F5.4.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A2.F5.4.m1.1b"><mi id="A2.F5.4.m1.1.1" xref="A2.F5.4.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="A2.F5.3.w1">NN-MT</span><span> </span><span class="gd_word" id="A2.F5.3.w2">retrieves</span><span> </span><span class="gd_word" id="A2.F5.3.w3">the</span><span> </span><span class="gd_word" id="A2.F5.3.w4">same</span><span> </span><span class="gd_word" id="A2.F5.3.w5">target</span><span> </span><span class="gd_word" id="A2.F5.3.w6">token,</span><span> </span><em id="A2.F5.7.1" class="ltx_emph ltx_font_italic">changed</em><span class="gd_word" id="A2.F5.4.w1">,</span><span> </span><span class="gd_word" id="A2.F5.4.w2">across</span><span> </span><span class="gd_word" id="A2.F5.4.w3">all</span><span> </span><span class="gd_word" id="A2.F5.4.w4">the</span><span> </span><span class="gd_word" id="A2.F5.4.w5">neighbors.</span><span> </span><span class="gd_word" id="A2.F5.4.w6">It</span><span> </span><span class="gd_word" id="A2.F5.4.w7">matches</span><span> </span><span class="gd_word" id="A2.F5.4.w8">local</span><span> </span><span class="gd_word" id="A2.F5.4.w9">contexts</span><span> </span><span class="gd_word" id="A2.F5.4.w10">on</span><span> </span><span class="gd_word" id="A2.F5.4.w11">both</span><span> </span><span class="gd_word" id="A2.F5.4.w12">the</span><span> </span><span class="gd_word" id="A2.F5.4.w13">source</span><span> </span><span class="gd_word" id="A2.F5.4.w14">and</span><span> </span><span class="gd_word" id="A2.F5.4.w15">target</span><span> </span><span class="gd_word" id="A2.F5.4.w16">sides,</span><span> </span><span class="gd_word" id="A2.F5.4.w17">but</span><span> </span><span class="gd_word" id="A2.F5.4.w18">not</span><span> </span><span class="gd_word" id="A2.F5.4.w19">the</span><span> </span><span class="gd_word" id="A2.F5.4.w20">global</span><span> </span><span class="gd_word" id="A2.F5.4.w21">context</span><span> </span><span class="gd_word" id="A2.F5.4.w22">regarding</span><span> </span><em id="A2.F5.8.2" class="ltx_emph ltx_font_italic">Papua</em><span class="gd_word" id="A2.F5.5.w1">.</span></figcaption>
</figure>
<figure id="A2.F6" class="ltx_figure">
<img src="/static/img/2010.00710/A2_F6.png" alt="/static/img/2010.00710/A2_F6.png"/><figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 6: </span><span class="gd_word" id="A2.F6.2.w1">An</span><span> </span><span class="gd_word" id="A2.F6.2.w2">example</span><span> </span><span class="gd_word" id="A2.F6.2.w3">where</span><span> </span><span class="gd_word" id="A2.F6.2.w4">the</span><span> </span><span class="gd_word" id="A2.F6.2.w5">model</span><span> </span><span class="gd_word" id="A2.F6.2.w6">has</span><span> </span><span class="gd_word" id="A2.F6.2.w7">access</span><span> </span><span class="gd_word" id="A2.F6.2.w8">to</span><span> </span><span class="gd_word" id="A2.F6.2.w9">a</span><span> </span><span class="gd_word" id="A2.F6.2.w10">very</span><span> </span><span class="gd_word" id="A2.F6.2.w11">short</span><span> </span><span class="gd_word" id="A2.F6.2.w12">amount</span><span> </span><span class="gd_word" id="A2.F6.2.w13">of</span><span> </span><span class="gd_word" id="A2.F6.2.w14">target-side</span><span> </span><span class="gd_word" id="A2.F6.2.w15">context</span><span> </span><span class="gd_word" id="A2.F6.2.w16">that</span><span> </span><span class="gd_word" id="A2.F6.2.w17">is</span><span> </span><span class="gd_word" id="A2.F6.2.w18">ambiguous.</span><span> </span><math id="A2.F6.6.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A2.F6.6.m1.1b"><mi id="A2.F6.6.m1.1.1" xref="A2.F6.6.m1.1.1.cmml">k</mi></semantics></math><span class="gd_word" id="A2.F6.3.w1">NN-MT</span><span> </span><span class="gd_word" id="A2.F6.3.w2">is</span><span> </span><span class="gd_word" id="A2.F6.3.w3">able</span><span> </span><span class="gd_word" id="A2.F6.3.w4">to</span><span> </span><span class="gd_word" id="A2.F6.3.w5">rely</span><span> </span><span class="gd_word" id="A2.F6.3.w6">on</span><span> </span><span class="gd_word" id="A2.F6.3.w7">source</span><span> </span><span class="gd_word" id="A2.F6.3.w8">context</span><span> </span><span class="gd_word" id="A2.F6.3.w9">to</span><span> </span><span class="gd_word" id="A2.F6.3.w10">resolve</span><span> </span><span class="gd_word" id="A2.F6.3.w11">this</span><span> </span><span class="gd_word" id="A2.F6.3.w12">and</span><span> </span><span class="gd_word" id="A2.F6.3.w13">generate</span><span> </span><span class="gd_word" id="A2.F6.3.w14">the</span><span> </span><span class="gd_word" id="A2.F6.3.w15">correct</span><span> </span><span class="gd_word" id="A2.F6.3.w16">target</span><span> </span><span class="gd_word" id="A2.F6.3.w17">token,</span><span> </span><em id="A2.F6.8.1" class="ltx_emph ltx_font_italic">will</em><span class="gd_word" id="A2.F6.4.w1">.</span></figcaption>
</figure>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>BLEU scores</h2>

<div id="A3.p1" class="ltx_para ltx_noindent">
<p id="A3.p1.1" class="ltx_p"><span class="gd_word" id="A3.p1.1.1.w1">In</span><span> </span><span class="gd_word" id="A3.p1.1.1.w2">this</span><span> </span><span class="gd_word" id="A3.p1.1.1.w3">paper,</span><span> </span><span class="gd_word" id="A3.p1.1.1.w4">all</span><span> </span><span class="gd_word" id="A3.p1.1.1.w5">results</span><span> </span><span class="gd_word" id="A3.p1.1.1.w6">use</span><span> </span><span class="gd_word" id="A3.p1.1.1.w7">case-sensitive</span><span> </span><span class="gd_word" id="A3.p1.1.1.w8">detokenized</span><span> </span><span class="gd_word" id="A3.p1.1.1.w9">BLEU,</span><span> </span><span class="gd_word" id="A3.p1.1.1.w10">measured</span><span> </span><span class="gd_word" id="A3.p1.1.1.w11">using</span><span> </span><span class="gd_word" id="A3.p1.1.1.w12">SacreBLEU</span><span> </span><cite class="ltx_cite ltx_citemacro_citep">(Post, <a href="#bib.bib30" title="" class="ltx_ref">2018</a>)</cite><span class="gd_word" id="A3.p1.1.2.w1">,</span><span> </span><span class="gd_word" id="A3.p1.1.2.w2">with</span><span> </span><span class="gd_word" id="A3.p1.1.2.w3">the</span><span> </span><span class="gd_word" id="A3.p1.1.2.w4">following</span><span> </span><span class="gd_word" id="A3.p1.1.2.w5">signatures:
</span><br class="ltx_break"/><span class="gd_word" id="A3.p1.1.3.w1">General:</span><span> </span><code id="A3.p1.1.2" class="ltx_verbatim ltx_font_typewriter">BLEU+case.mixed+numrefs.1+smooth.exp+tok.13a+version.1.4.13</code><span class="gd_word" id="A3.p1.1.4.w1">

</span><br class="ltx_break"/><span class="gd_word" id="A3.p1.1.5.w1">For</span><span> </span><span class="gd_word" id="A3.p1.1.5.w2">chinese:</span><span> </span><code id="A3.p1.1.3" class="ltx_verbatim ltx_font_typewriter">BLEU+case.mixed+numrefs.1+smooth.exp+tok.zh+version.1.4.13</code><span class="gd_word" id="A3.p1.1.6.w1">

</span><br class="ltx_break"/><span class="gd_word" id="A3.p1.1.7.w1">For</span><span> </span><span class="gd_word" id="A3.p1.1.7.w2">japanese:
</span><br class="ltx_break"/><code id="A3.p1.1.4" class="ltx_verbatim ltx_font_typewriter">BLEU+case.mixed+numrefs.1+smooth.exp+tok.ja-mecab-0.996-IPA+version.1.4.13</code></p>
</div>
<div id="A3.p2" class="ltx_para ltx_noindent">
<p id="A3.p2.4" class="ltx_p"><span class="gd_word" id="A3.p2.4.1.w1">For</span><span> </span><span class="gd_word" id="A3.p2.4.1.w2">Table </span><a href="#S4.T1" title="Table 1 ‣ Retrieving neighbors from same source language data ‣ 4.2 Multilingual Machine Translation ‣ 4 Experiments ‣ Nearest Neighbor Machine Translation" class="ltx_ref">1</a><span class="gd_word" id="A3.p2.4.2.w1"/><span> </span><span class="gd_word" id="A3.p2.4.2.w2">and</span><span> </span><span class="gd_word" id="A3.p2.4.2.w3">other</span><span> </span><span class="gd_word" id="A3.p2.4.2.w4">experiments,</span><span> </span><span class="gd_word" id="A3.p2.4.2.w5">we</span><span> </span><span class="gd_word" id="A3.p2.4.2.w6">follow</span><span> </span><span class="gd_word" id="A3.p2.4.2.w7">advice</span><span> </span><span class="gd_word" id="A3.p2.4.2.w8">from</span><span> </span><cite class="ltx_cite ltx_citemacro_citet">Card et al. (<a href="#bib.bib8" title="" class="ltx_ref">2020</a>)</cite><span class="gd_word" id="A3.p2.4.3.w1"/><span> </span><span class="gd_word" id="A3.p2.4.3.w2">regarding</span><span> </span><span class="gd_word" id="A3.p2.4.3.w3">the</span><span> </span><span class="gd_word" id="A3.p2.4.3.w4">statistical</span><span> </span><span class="gd_word" id="A3.p2.4.3.w5">power</span><span> </span><span class="gd_word" id="A3.p2.4.3.w6">of</span><span> </span><span class="gd_word" id="A3.p2.4.3.w7">machine</span><span> </span><span class="gd_word" id="A3.p2.4.3.w8">translation</span><span> </span><span class="gd_word" id="A3.p2.4.3.w9">experiments</span><span> </span><span class="gd_word" id="A3.p2.4.3.w10">given</span><span> </span><span class="gd_word" id="A3.p2.4.3.w11">the</span><span> </span><span class="gd_word" id="A3.p2.4.3.w12">improvements</span><span> </span><span class="gd_word" id="A3.p2.4.3.w13">in</span><span> </span><span class="gd_word" id="A3.p2.4.3.w14">BLEU</span><span> </span><span class="gd_word" id="A3.p2.4.3.w15">scores</span><span> </span><span class="gd_word" id="A3.p2.4.3.w16">and</span><span> </span><span class="gd_word" id="A3.p2.4.3.w17">the</span><span> </span><span class="gd_word" id="A3.p2.4.3.w18">size</span><span> </span><span class="gd_word" id="A3.p2.4.3.w19">of</span><span> </span><span class="gd_word" id="A3.p2.4.3.w20">the</span><span> </span><span class="gd_word" id="A3.p2.4.3.w21">dataset.
The</span><span> </span><span class="gd_word" id="A3.p2.4.3.w22">authors</span><span> </span><span class="gd_word" id="A3.p2.4.3.w23">present</span><span> </span><span class="gd_word" id="A3.p2.4.3.w24">results</span><span> </span><span class="gd_word" id="A3.p2.4.3.w25">for</span><span> </span><span class="gd_word" id="A3.p2.4.3.w26">a</span><span> </span><span class="gd_word" id="A3.p2.4.3.w27">single</span><span> </span><span class="gd_word" id="A3.p2.4.3.w28">language</span><span> </span><span class="gd_word" id="A3.p2.4.3.w29">pair</span><span> </span><span class="gd_word" id="A3.p2.4.3.w30">and</span><span> </span><span class="gd_word" id="A3.p2.4.3.w31">we</span><span> </span><span class="gd_word" id="A3.p2.4.3.w32">verify</span><span> </span><span class="gd_word" id="A3.p2.4.3.w33">that</span><span> </span><span class="gd_word" id="A3.p2.4.3.w34">their</span><span> </span><span class="gd_word" id="A3.p2.4.3.w35">assumptions</span><span> </span><span class="gd_word" id="A3.p2.4.3.w36">hold</span><span> </span><span class="gd_word" id="A3.p2.4.3.w37">for</span><span> </span><span class="gd_word" id="A3.p2.4.3.w38">a</span><span> </span><span class="gd_word" id="A3.p2.4.3.w39">couple</span><span> </span><span class="gd_word" id="A3.p2.4.3.w40">of</span><span> </span><span class="gd_word" id="A3.p2.4.3.w41">other</span><span> </span><span class="gd_word" id="A3.p2.4.3.w42">language</span><span> </span><span class="gd_word" id="A3.p2.4.3.w43">pairs.
Specifically,</span><span> </span><span class="gd_word" id="A3.p2.4.3.w44">we</span><span> </span><span class="gd_word" id="A3.p2.4.3.w45">find</span><span> </span><span class="gd_word" id="A3.p2.4.3.w46">that</span><span> </span><span class="gd_word" id="A3.p2.4.3.w47">for</span><span> </span><span class="gd_word" id="A3.p2.4.3.w48">Chinese-English</span><span> </span><math id="A3.p2.1.m1.1" class="ltx_Math" alttext="P_{0}=0.13" display="inline"><semantics id="A3.p2.1.m1.1a"><mrow id="A3.p2.1.m1.1.1" xref="A3.p2.1.m1.1.1.cmml"><msub id="A3.p2.1.m1.1.1.2" xref="A3.p2.1.m1.1.1.2.cmml"><mi id="A3.p2.1.m1.1.1.2.2" xref="A3.p2.1.m1.1.1.2.2.cmml">P</mi><mn id="A3.p2.1.m1.1.1.2.3" xref="A3.p2.1.m1.1.1.2.3.cmml">0</mn></msub><mo id="A3.p2.1.m1.1.1.1" xref="A3.p2.1.m1.1.1.1.cmml">=</mo><mn id="A3.p2.1.m1.1.1.3" xref="A3.p2.1.m1.1.1.3.cmml">0.13</mn></mrow></semantics></math><span class="gd_word" id="A3.p2.4.4.w1"/><span> </span><span class="gd_word" id="A3.p2.4.4.w2">and</span><span> </span><math id="A3.p2.2.m2.1" class="ltx_Math" alttext="b_{0}=12" display="inline"><semantics id="A3.p2.2.m2.1a"><mrow id="A3.p2.2.m2.1.1" xref="A3.p2.2.m2.1.1.cmml"><msub id="A3.p2.2.m2.1.1.2" xref="A3.p2.2.m2.1.1.2.cmml"><mi id="A3.p2.2.m2.1.1.2.2" xref="A3.p2.2.m2.1.1.2.2.cmml">b</mi><mn id="A3.p2.2.m2.1.1.2.3" xref="A3.p2.2.m2.1.1.2.3.cmml">0</mn></msub><mo id="A3.p2.2.m2.1.1.1" xref="A3.p2.2.m2.1.1.1.cmml">=</mo><mn id="A3.p2.2.m2.1.1.3" xref="A3.p2.2.m2.1.1.3.cmml">12</mn></mrow></semantics></math><span class="gd_word" id="A3.p2.4.5.w1">,</span><span> </span><span class="gd_word" id="A3.p2.4.5.w2">and</span><span> </span><span class="gd_word" id="A3.p2.4.5.w3">for</span><span> </span><span class="gd_word" id="A3.p2.4.5.w4">English-Chinese</span><span> </span><math id="A3.p2.3.m3.1" class="ltx_Math" alttext="P_{0}=0.07" display="inline"><semantics id="A3.p2.3.m3.1a"><mrow id="A3.p2.3.m3.1.1" xref="A3.p2.3.m3.1.1.cmml"><msub id="A3.p2.3.m3.1.1.2" xref="A3.p2.3.m3.1.1.2.cmml"><mi id="A3.p2.3.m3.1.1.2.2" xref="A3.p2.3.m3.1.1.2.2.cmml">P</mi><mn id="A3.p2.3.m3.1.1.2.3" xref="A3.p2.3.m3.1.1.2.3.cmml">0</mn></msub><mo id="A3.p2.3.m3.1.1.1" xref="A3.p2.3.m3.1.1.1.cmml">=</mo><mn id="A3.p2.3.m3.1.1.3" xref="A3.p2.3.m3.1.1.3.cmml">0.07</mn></mrow></semantics></math><span class="gd_word" id="A3.p2.4.6.w1"/><span> </span><span class="gd_word" id="A3.p2.4.6.w2">and</span><span> </span><math id="A3.p2.4.m4.1" class="ltx_Math" alttext="b_{0}=16" display="inline"><semantics id="A3.p2.4.m4.1a"><mrow id="A3.p2.4.m4.1.1" xref="A3.p2.4.m4.1.1.cmml"><msub id="A3.p2.4.m4.1.1.2" xref="A3.p2.4.m4.1.1.2.cmml"><mi id="A3.p2.4.m4.1.1.2.2" xref="A3.p2.4.m4.1.1.2.2.cmml">b</mi><mn id="A3.p2.4.m4.1.1.2.3" xref="A3.p2.4.m4.1.1.2.3.cmml">0</mn></msub><mo id="A3.p2.4.m4.1.1.1" xref="A3.p2.4.m4.1.1.1.cmml">=</mo><mn id="A3.p2.4.m4.1.1.3" xref="A3.p2.4.m4.1.1.3.cmml">16</mn></mrow></semantics></math><span class="gd_word" id="A3.p2.4.7.w1">.
This</span><span> </span><span class="gd_word" id="A3.p2.4.7.w2">indicates</span><span> </span><span class="gd_word" id="A3.p2.4.7.w3">that</span><span> </span><span class="gd_word" id="A3.p2.4.7.w4">these</span><span> </span><span class="gd_word" id="A3.p2.4.7.w5">experiments,</span><span> </span><span class="gd_word" id="A3.p2.4.7.w6">with</span><span> </span><span class="gd_word" id="A3.p2.4.7.w7">the</span><span> </span><span class="gd_word" id="A3.p2.4.7.w8">test</span><span> </span><span class="gd_word" id="A3.p2.4.7.w9">sets</span><span> </span><span class="gd_word" id="A3.p2.4.7.w10">containing</span><span> </span><span class="gd_word" id="A3.p2.4.7.w11">about</span><span> </span><span class="gd_word" id="A3.p2.4.7.w12">2,000</span><span> </span><span class="gd_word" id="A3.p2.4.7.w13">examples,</span><span> </span><span class="gd_word" id="A3.p2.4.7.w14">have</span><span> </span><span class="gd_word" id="A3.p2.4.7.w15">close</span><span> </span><span class="gd_word" id="A3.p2.4.7.w16">to</span><span> </span><span class="gd_word" id="A3.p2.4.7.w17">100%</span><span> </span><span class="gd_word" id="A3.p2.4.7.w18">power</span><span> </span><span class="gd_word" id="A3.p2.4.7.w19">which</span><span> </span><span class="gd_word" id="A3.p2.4.7.w20">was</span><span> </span><span class="gd_word" id="A3.p2.4.7.w21">verified</span><span> </span><span class="gd_word" id="A3.p2.4.7.w22">using</span><span> </span><span class="gd_word" id="A3.p2.4.7.w23">the</span><span> </span><span class="gd_word" id="A3.p2.4.7.w24">notebooks</span><span> </span><span class="gd_word" id="A3.p2.4.7.w25">provided</span><span> </span><span class="gd_word" id="A3.p2.4.7.w26">by</span><span> </span><cite class="ltx_cite ltx_citemacro_citet">Card et al. (<a href="#bib.bib8" title="" class="ltx_ref">2020</a>)</cite><span class="gd_word" id="A3.p2.4.8.w1">.
We</span><span> </span><span class="gd_word" id="A3.p2.4.8.w2">refer</span><span> </span><span class="gd_word" id="A3.p2.4.8.w3">the</span><span> </span><span class="gd_word" id="A3.p2.4.8.w4">reader</span><span> </span><span class="gd_word" id="A3.p2.4.8.w5">to</span><span> </span><span class="gd_word" id="A3.p2.4.8.w6">the</span><span> </span><span class="gd_word" id="A3.p2.4.8.w7">original</span><span> </span><span class="gd_word" id="A3.p2.4.8.w8">paper</span><span> </span><span class="gd_word" id="A3.p2.4.8.w9">for</span><span> </span><span class="gd_word" id="A3.p2.4.8.w10">more</span><span> </span><span class="gd_word" id="A3.p2.4.8.w11">details.
More</span><span> </span><span class="gd_word" id="A3.p2.4.8.w12">generally,</span><span> </span><span class="gd_word" id="A3.p2.4.8.w13">experiments</span><span> </span><span class="gd_word" id="A3.p2.4.8.w14">on</span><span> </span><span class="gd_word" id="A3.p2.4.8.w15">datasets</span><span> </span><span class="gd_word" id="A3.p2.4.8.w16">which</span><span> </span><span class="gd_word" id="A3.p2.4.8.w17">contain</span><span> </span><span class="gd_word" id="A3.p2.4.8.w18">about</span><span> </span><span class="gd_word" id="A3.p2.4.8.w19">2,000</span><span> </span><span class="gd_word" id="A3.p2.4.8.w20">examples,</span><span> </span><span class="gd_word" id="A3.p2.4.8.w21">with</span><span> </span><span class="gd_word" id="A3.p2.4.8.w22">improvements</span><span> </span><span class="gd_word" id="A3.p2.4.8.w23">of</span><span> </span><span class="gd_word" id="A3.p2.4.8.w24">about</span><span> </span><span class="gd_word" id="A3.p2.4.8.w25">1</span><span> </span><span class="gd_word" id="A3.p2.4.8.w26">BLEU</span><span> </span><span class="gd_word" id="A3.p2.4.8.w27">or</span><span> </span><span class="gd_word" id="A3.p2.4.8.w28">higher,</span><span> </span><span class="gd_word" id="A3.p2.4.8.w29">are</span><span> </span><span class="gd_word" id="A3.p2.4.8.w30">statistically</span><span> </span><span class="gd_word" id="A3.p2.4.8.w31">powered.
</span></p>
</div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Tue Mar 22 20:45:35 2022 by <a href="http://dlmf.nist.gov/LaTeXML/">LaTeXML <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="[LOGO]"/></a>
</div></footer>
</div>
</body>
</html>
